const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashBoard-R4ODctn5.js","assets/LogoutDrop-3yhW_5Y5.js","assets/authService-gIo5CBQw.js","assets/useQuery-Baz83kE3.js","assets/LoginPage-ChNC36eK.js","assets/index.esm-C5ls1Czy.js","assets/LoginPage-Bbgo5x5y.css","assets/ProductList-DmtjCP-I.js","assets/input-z24iJ4by.js","assets/AddProduct-BPQmz7pa.js"])))=>i.map(i=>d[i]);
var j_=i=>{throw TypeError(i)};var Dm=(i,t,e)=>t.has(i)||j_("Cannot "+e);var $=(i,t,e)=>(Dm(i,t,"read from private field"),e?e.call(i):t.get(i)),Yt=(i,t,e)=>t.has(i)?j_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),Ot=(i,t,e,s)=>(Dm(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e),un=(i,t,e)=>(Dm(i,t,"access private method"),e);var _h=(i,t,e,s)=>({set _(o){Ot(i,t,o,e)},get _(){return $(i,t,s)}});function R1(i,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Om={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function I1(){if(H_)return lu;H_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var F_;function C1(){return F_||(F_=1,Om.exports=I1()),Om.exports}var ee=C1(),Nm={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function D1(){if(G_)return Nt;G_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,G={};function V(D,K,et){this.props=D,this.context=K,this.refs=G,this.updater=et||P}V.prototype.isReactComponent={},V.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},V.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function rt(){}rt.prototype=V.prototype;function ot(D,K,et){this.props=D,this.context=K,this.refs=G,this.updater=et||P}var nt=ot.prototype=new rt;nt.constructor=ot,B(nt,V.prototype),nt.isPureReactComponent=!0;var pt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function M(D,K,et,Z,ft,Rt){return et=Rt.ref,{$$typeof:i,type:D,key:K,ref:et!==void 0?et:null,props:Rt}}function w(D,K){return M(D.type,K,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var x=/\/+/g;function k(D,K){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):K.toString(36)}function C(){}function be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ft(D,K,et,Z,ft){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var ct=!1;if(D===null)ct=!0;else switch(Rt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(D.$$typeof){case i:case t:ct=!0;break;case T:return ct=D._init,Ft(ct(D._payload),K,et,Z,ft)}}if(ct)return ft=ft(D),ct=Z===""?"."+k(D,0):Z,pt(ft)?(et="",ct!=null&&(et=ct.replace(x,"$&/")+"/"),Ft(ft,K,et,"",function(an){return an})):ft!=null&&(R(ft)&&(ft=w(ft,et+(ft.key==null||D&&D.key===ft.key?"":(""+ft.key).replace(x,"$&/")+"/")+ct)),K.push(ft)),1;ct=0;var he=Z===""?".":Z+":";if(pt(D))for(var Gt=0;Gt<D.length;Gt++)Z=D[Gt],Rt=he+k(Z,Gt),ct+=Ft(Z,K,et,Rt,ft);else if(Gt=S(D),typeof Gt=="function")for(D=Gt.call(D),Gt=0;!(Z=D.next()).done;)Z=Z.value,Rt=he+k(Z,Gt++),ct+=Ft(Z,K,et,Rt,ft);else if(Rt==="object"){if(typeof D.then=="function")return Ft(be(D),K,et,Z,ft);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ct}function j(D,K,et){if(D==null)return D;var Z=[],ft=0;return Ft(D,Z,"","",function(Rt){return K.call(et,Rt,ft++)}),Z}function st(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var mt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Dt(){}return Nt.Children={map:j,forEach:function(D,K,et){j(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return j(D,function(){K++}),K},toArray:function(D){return j(D,function(K){return K})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Nt.Component=V,Nt.Fragment=e,Nt.Profiler=o,Nt.PureComponent=ot,Nt.StrictMode=s,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ut.H.useMemoCache(D)}},Nt.cache=function(D){return function(){return D.apply(null,arguments)}},Nt.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=B({},D.props),ft=D.key,Rt=void 0;if(K!=null)for(ct in K.ref!==void 0&&(Rt=void 0),K.key!==void 0&&(ft=""+K.key),K)!Et.call(K,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&K.ref===void 0||(Z[ct]=K[ct]);var ct=arguments.length-2;if(ct===1)Z.children=et;else if(1<ct){for(var he=Array(ct),Gt=0;Gt<ct;Gt++)he[Gt]=arguments[Gt+2];Z.children=he}return M(D.type,ft,void 0,void 0,Rt,Z)},Nt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Nt.createElement=function(D,K,et){var Z,ft={},Rt=null;if(K!=null)for(Z in K.key!==void 0&&(Rt=""+K.key),K)Et.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ft[Z]=K[Z]);var ct=arguments.length-2;if(ct===1)ft.children=et;else if(1<ct){for(var he=Array(ct),Gt=0;Gt<ct;Gt++)he[Gt]=arguments[Gt+2];ft.children=he}if(D&&D.defaultProps)for(Z in ct=D.defaultProps,ct)ft[Z]===void 0&&(ft[Z]=ct[Z]);return M(D,Rt,void 0,void 0,null,ft)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(D){return{$$typeof:m,render:D}},Nt.isValidElement=R,Nt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:st}},Nt.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},Nt.startTransition=function(D){var K=ut.T,et={};ut.T=et;try{var Z=D(),ft=ut.S;ft!==null&&ft(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Dt,mt)}catch(Rt){mt(Rt)}finally{ut.T=K}},Nt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Nt.use=function(D){return ut.H.use(D)},Nt.useActionState=function(D,K,et){return ut.H.useActionState(D,K,et)},Nt.useCallback=function(D,K){return ut.H.useCallback(D,K)},Nt.useContext=function(D){return ut.H.useContext(D)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(D,K){return ut.H.useDeferredValue(D,K)},Nt.useEffect=function(D,K,et){var Z=ut.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,K)},Nt.useId=function(){return ut.H.useId()},Nt.useImperativeHandle=function(D,K,et){return ut.H.useImperativeHandle(D,K,et)},Nt.useInsertionEffect=function(D,K){return ut.H.useInsertionEffect(D,K)},Nt.useLayoutEffect=function(D,K){return ut.H.useLayoutEffect(D,K)},Nt.useMemo=function(D,K){return ut.H.useMemo(D,K)},Nt.useOptimistic=function(D,K){return ut.H.useOptimistic(D,K)},Nt.useReducer=function(D,K,et){return ut.H.useReducer(D,K,et)},Nt.useRef=function(D){return ut.H.useRef(D)},Nt.useState=function(D){return ut.H.useState(D)},Nt.useSyncExternalStore=function(D,K,et){return ut.H.useSyncExternalStore(D,K,et)},Nt.useTransition=function(){return ut.H.useTransition()},Nt.version="19.1.0",Nt}var Q_;function Op(){return Q_||(Q_=1,Nm.exports=D1()),Nm.exports}var it=Op();const lt=sT(it),O1=R1({__proto__:null,default:lt},[it]);var Mm={exports:{}},uu={},xm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function N1(){return K_||(K_=1,function(i){function t(j,st){var mt=j.length;j.push(st);t:for(;0<mt;){var Dt=mt-1>>>1,D=j[Dt];if(0<o(D,st))j[Dt]=st,j[mt]=D,mt=Dt;else break t}}function e(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var st=j[0],mt=j.pop();if(mt!==st){j[0]=mt;t:for(var Dt=0,D=j.length,K=D>>>1;Dt<K;){var et=2*(Dt+1)-1,Z=j[et],ft=et+1,Rt=j[ft];if(0>o(Z,mt))ft<D&&0>o(Rt,Z)?(j[Dt]=Rt,j[ft]=mt,Dt=ft):(j[Dt]=Z,j[et]=mt,Dt=et);else if(ft<D&&0>o(Rt,mt))j[Dt]=Rt,j[ft]=mt,Dt=ft;else break t}}return st}function o(j,st){var mt=j.sortIndex-st.sortIndex;return mt!==0?mt:j.id-st.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,_=null,S=3,P=!1,B=!1,G=!1,V=!1,rt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function pt(j){for(var st=e(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=j)s(y),st.sortIndex=st.expirationTime,t(p,st);else break;st=e(y)}}function ut(j){if(G=!1,pt(j),!B)if(e(p)!==null)B=!0,Et||(Et=!0,k());else{var st=e(y);st!==null&&Ft(ut,st.startTime-j)}}var Et=!1,M=-1,w=5,R=-1;function O(){return V?!0:!(i.unstable_now()-R<w)}function x(){if(V=!1,Et){var j=i.unstable_now();R=j;var st=!0;try{t:{B=!1,G&&(G=!1,ot(M),M=-1),P=!0;var mt=S;try{e:{for(pt(j),_=e(p);_!==null&&!(_.expirationTime>j&&O());){var Dt=_.callback;if(typeof Dt=="function"){_.callback=null,S=_.priorityLevel;var D=Dt(_.expirationTime<=j);if(j=i.unstable_now(),typeof D=="function"){_.callback=D,pt(j),st=!0;break e}_===e(p)&&s(p),pt(j)}else s(p);_=e(p)}if(_!==null)st=!0;else{var K=e(y);K!==null&&Ft(ut,K.startTime-j),st=!1}}break t}finally{_=null,S=mt,P=!1}st=void 0}}finally{st?k():Et=!1}}}var k;if(typeof nt=="function")k=function(){nt(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,be=C.port2;C.port1.onmessage=x,k=function(){be.postMessage(null)}}else k=function(){rt(x,0)};function Ft(j,st){M=rt(function(){j(i.unstable_now())},st)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(j){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var mt=S;S=st;try{return j()}finally{S=mt}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(j,st){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var mt=S;S=j;try{return st()}finally{S=mt}},i.unstable_scheduleCallback=function(j,st,mt){var Dt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Dt+mt:Dt):mt=Dt,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=mt+D,j={id:T++,callback:st,priorityLevel:j,startTime:mt,expirationTime:D,sortIndex:-1},mt>Dt?(j.sortIndex=mt,t(y,j),e(p)===null&&j===e(y)&&(G?(ot(M),M=-1):G=!0,Ft(ut,mt-Dt))):(j.sortIndex=D,t(p,j),B||P||(B=!0,Et||(Et=!0,k()))),j},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(j){var st=S;return function(){var mt=S;S=st;try{return j.apply(this,arguments)}finally{S=mt}}}}(Vm)),Vm}var Y_;function M1(){return Y_||(Y_=1,xm.exports=N1()),xm.exports}var Pm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function x1(){if(X_)return cn;X_=1;var i=Op();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:y,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},cn.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},cn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,_=m(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},cn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,_=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,y){return p(y)},cn.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var $_;function aT(){if($_)return Pm.exports;$_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Pm.exports=x1(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function V1(){if(Z_)return uu;Z_=1;var i=M1(),t=Op(),e=aT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=d;break}if(b===l){E=!0,l=h,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=h;break}if(b===l){E=!0,l=d,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function be(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case V:return"Profiler";case G:return"StrictMode";case ut:return"Suspense";case Et:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case nt:return(n.displayName||"Context")+".Provider";case ot:return(n._context.displayName||"Context")+".Consumer";case pt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:be(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return be(n(r))}catch{}}return null}var Ft=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Dt=[],D=-1;function K(n){return{current:n}}function et(n){0>D||(n.current=Dt[D],Dt[D]=null,D--)}function Z(n,r){D++,Dt[D]=n.current,n.current=r}var ft=K(null),Rt=K(null),ct=K(null),he=K(null);function Gt(n,r){switch(Z(ct,r),Z(Rt,n),Z(ft,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?g_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=g_(r),n=y_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}et(ft),Z(ft,n)}function an(){et(ft),et(Rt),et(ct)}function An(n){n.memoizedState!==null&&Z(he,n);var r=ft.current,a=y_(r,n.type);r!==a&&(Z(Rt,n),Z(ft,a))}function si(n){Rt.current===n&&(et(ft),et(Rt)),he.current===n&&(et(he),iu._currentValue=mt)}var Ai=Object.prototype.hasOwnProperty,Yi=i.unstable_scheduleCallback,ai=i.unstable_cancelCallback,qs=i.unstable_shouldYield,js=i.unstable_requestPaint,je=i.unstable_now,Pa=i.unstable_getCurrentPriorityLevel,gn=i.unstable_ImmediatePriority,kr=i.unstable_UserBlockingPriority,Xi=i.unstable_NormalPriority,$e=i.unstable_LowPriority,xn=i.unstable_IdlePriority,Hs=i.log,ka=i.unstable_setDisableYieldValue,ae=null,Xt=null;function on(n){if(typeof Hs=="function"&&ka(n),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ae,n)}catch{}}var Ce=Math.clz32?Math.clz32:Sn,oi=Math.log,Ua=Math.LN2;function Sn(n){return n>>>=0,n===0?32:31-(oi(n)/Ua|0)|0}var $i=256,Zi=4194304;function wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Wi(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=wn(l):(E&=b,E!==0?h=wn(E):a||(a=b&~n,a!==0&&(h=wn(a))))):(b=l&~d,b!==0?h=wn(b):E!==0?h=wn(E):a||(a=l&~n,a!==0&&(h=wn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Ji(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function tr(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var n=$i;return $i<<=1,($i&4194048)===0&&($i=256),n}function Fs(){var n=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),n}function li(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Qn(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ur(n,r,a,l,h,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-Ce(a),W=1<<Y;b[Y]=0,I[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var F=H[Y];F!==null&&(F.lane&=-536870913)}a&=~W}l!==0&&Tt(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function Tt(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Ce(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function fe(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Ce(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function ue(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function De(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vn(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:k_(n.type))}function ve(n,r){var a=st.p;try{return st.p=n,r()}finally{st.p=a}}var Pt=Math.random().toString(36).slice(2),de="__reactFiber$"+Pt,Qt="__reactProps$"+Pt,me="__reactContainer$"+Pt,Lr="__reactEvents$"+Pt,ui="__reactListeners$"+Pt,er="__reactHandles$"+Pt,Ju="__reactResources$"+Pt,Gs="__reactMarker$"+Pt;function zr(n){delete n[de],delete n[Qt],delete n[Lr],delete n[ui],delete n[er]}function nr(n){var r=n[de];if(r)return r;for(var a=n.parentNode;a;){if(r=a[me]||a[de]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=T_(n);n!==null;){if(a=n[de])return a;n=T_(n)}return r}n=a,a=n.parentNode}return null}function Si(n){if(n=n[de]||n[me]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function wi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function yn(n){var r=n[Ju];return r||(r=n[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(n){n[Gs]=!0}var ul=new Set,La={};function ci(n,r){ir(n,r),ir(n+"Capture",r)}function ir(n,r){for(La[n]=r,n=0;n<r.length;n++)ul.add(r[n])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ec={},Qs={};function nc(n){return Ai.call(Qs,n)?!0:Ai.call(ec,n)?!1:tc.test(n)?Qs[n]=!0:(ec[n]=!0,!1)}function Br(n,r,a){if(nc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Ri(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ze(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Ks,ic;function rr(n){if(Ks===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ks=r&&r[1]||"",ic=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+n+ic}var za=!1;function Ba(n,r){if(!n||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var H=F}Reflect.construct(n,[],W)}else{try{W.call()}catch(F){H=F}n.call(W.prototype)}}else{try{throw Error()}catch(F){H=F}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var I=E.split(`
`),q=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var Y=`
`+I[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=h);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?rr(a):""}function cl(n){switch(n.tag){case 26:case 27:case 5:return rr(n.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return Ba(n.type,!1);case 11:return Ba(n.type.render,!1);case 1:return Ba(n.type,!0);case 31:return rr("Activity");default:return""}}function qa(n){try{var r="";do r+=cl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function hl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xf(n){var r=hl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ja(n){n._valueTracker||(n._valueTracker=xf(n))}function fl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=hl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vf=/[\n"\\]/g;function Oe(n){return n.replace(Vf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pn(n,r,a,l,h,d,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+vn(r)):n.value!==""+vn(r)&&(n.value=""+vn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?qr(n,E,vn(r)):a!=null?qr(n,E,vn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+vn(b):n.removeAttribute("name")}function Xs(n,r,a,l,h,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+vn(a):"",r=r!=null?""+vn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function qr(n,r,a){r==="number"&&Ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function sr(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+vn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function ne(n,r,a){if(r!=null&&(r=""+vn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+vn(a):""}function $s(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=vn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Kn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Zs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function dl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&rc(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&rc(n,d,r[d])}function ml(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(n){return kf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ar=null;function Yn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var or=null,lr=null;function pl(n){var r=Si(n);if(r&&(n=r.stateNode)){var a=n[Qt]||null;t:switch(n=r.stateNode,r.type){case"input":if(Pn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Oe(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Qt]||null;if(!h)throw Error(s(90));Pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&fl(l)}break t;case"textarea":ne(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&sr(n,!!a.multiple,r,!1)}}}var Ii=!1;function sc(n,r,a){if(Ii)return n(r,a);Ii=!0;try{var l=n(r);return l}finally{if(Ii=!1,(or!==null||lr!==null)&&(Wc(),or&&(r=or,n=lr,lr=or=null,pl(r),n)))for(r=0;r<n.length;r++)pl(n[r])}}function Ws(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(hi)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xn=!1}var Ci=null,jr=null,ur=null;function gl(){if(ur)return ur;var n,r=jr,a=r.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return ur=h.slice(n,1<l?1-l:void 0)}function Di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Oi(){return!0}function yl(){return!1}function He(n){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Oi:yl,this.isPropagationStopped=yl,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),r}var Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=He(Zt),ta=T({},Zt,{view:0,detail:0}),ac=He(ta),Ga,Qa,Ni,ea=T({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ni&&(Ni&&n.type==="mousemove"?(Ga=n.screenX-Ni.screenX,Qa=n.screenY-Ni.screenY):Qa=Ga=0,Ni=n),Ga)},movementY:function(n){return"movementY"in n?n.movementY:Qa}}),$n=He(ea),oc=T({},ea,{dataTransfer:0}),Uf=He(oc),na=T({},ta,{relatedTarget:0}),Ka=He(na),vl=T({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=He(vl),lc=T({},Zt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xa=He(lc),Lf=T({},Zt,{data:0}),_l=He(Lf),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=cc[n])?!!r[n]:!1}function ra(){return El}var hc=T({},ta,{key:function(n){if(n.key){var r=ia[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(n){return n.type==="keypress"?Di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$a=He(hc),fc=T({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=He(fc),cr=T({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),dc=He(cr),mc=T({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=He(mc),gc=T({},ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=He(gc),_n=T({},Zt,{newState:0,oldState:0}),yc=He(_n),vc=[9,13,27,32],Mi=hi&&"CompositionEvent"in window,c=null;hi&&"documentMode"in document&&(c=document.documentMode);var g=hi&&"TextEvent"in window&&!c,v=hi&&(!Mi||c&&8<c&&11>=c),A=" ",L=!1;function Q(n,r){switch(n){case"keyup":return vc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bt=!1;function ke(n,r){switch(n){case"compositionend":return at(r);case"keypress":return r.which!==32?null:(L=!0,A);case"textInput":return n=r.data,n===A&&L?null:n;default:return null}}function qt(n,r){if(Bt)return n==="compositionend"||!Mi&&Q(n,r)?(n=gl(),ur=jr=Ci=null,Bt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Fe[n.type]:r==="textarea"}function hr(n,r,a,l){or?lr?lr.push(l):lr=[l]:or=l,r=rh(r,"onChange"),0<r.length&&(a=new Fa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var We=null,xi=null;function bl(n){h_(n,0)}function _c(n){var r=wi(n);if(fl(r))return n}function Mg(n,r){if(n==="change")return r}var xg=!1;if(hi){var zf;if(hi){var Bf="oninput"in document;if(!Bf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Bf=typeof Vg.oninput=="function"}zf=Bf}else zf=!1;xg=zf&&(!document.documentMode||9<document.documentMode)}function Pg(){We&&(We.detachEvent("onpropertychange",kg),xi=We=null)}function kg(n){if(n.propertyName==="value"&&_c(xi)){var r=[];hr(r,xi,n,Yn(n)),sc(bl,r)}}function nS(n,r,a){n==="focusin"?(Pg(),We=r,xi=a,We.attachEvent("onpropertychange",kg)):n==="focusout"&&Pg()}function iS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _c(xi)}function rS(n,r){if(n==="click")return _c(r)}function sS(n,r){if(n==="input"||n==="change")return _c(r)}function aS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var kn=typeof Object.is=="function"?Object.is:aS;function Al(n,r){if(kn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ai.call(r,h)||!kn(n[h],r[h]))return!1}return!0}function Ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lg(n,r){var a=Ug(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ug(a)}}function zg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?zg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Bg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ys(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ys(n.document)}return r}function qf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var oS=hi&&"documentMode"in document&&11>=document.documentMode,Wa=null,jf=null,Sl=null,Hf=!1;function qg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Wa==null||Wa!==Ys(l)||(l=Wa,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=rh(jf,"onSelect"),0<l.length&&(r=new Fa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Wa)))}function sa(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ja={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Ff={},jg={};hi&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function aa(n){if(Ff[n])return Ff[n];if(!Ja[n])return n;var r=Ja[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in jg)return Ff[n]=r[a];return n}var Hg=aa("animationend"),Fg=aa("animationiteration"),Gg=aa("animationstart"),lS=aa("transitionrun"),uS=aa("transitionstart"),cS=aa("transitioncancel"),Qg=aa("transitionend"),Kg=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function fi(n,r){Kg.set(n,r),ci(r,[n])}var Yg=new WeakMap;function Zn(n,r){if(typeof n=="object"&&n!==null){var a=Yg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:qa(r)},Yg.set(n,r),r)}return{value:n,source:r,stack:qa(r)}}var Wn=[],to=0,Qf=0;function Ec(){for(var n=to,r=Qf=to=0;r<n;){var a=Wn[r];Wn[r++]=null;var l=Wn[r];Wn[r++]=null;var h=Wn[r];Wn[r++]=null;var d=Wn[r];if(Wn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Xg(a,h,d)}}function Tc(n,r,a,l){Wn[to++]=n,Wn[to++]=r,Wn[to++]=a,Wn[to++]=l,Qf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Kf(n,r,a,l){return Tc(n,r,a,l),bc(n)}function eo(n,r){return Tc(n,null,null,r),bc(n)}function Xg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-Ce(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function bc(n){if(50<Xl)throw Xl=0,Jd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var no={};function hS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,r,a,l){return new hS(n,r,a,l)}function Yf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fr(n,r){var a=n.alternate;return a===null?(a=Un(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $g(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ac(n,r,a,l,h,d){var E=0;if(l=n,typeof n=="function")Yf(n)&&(E=1);else if(typeof n=="string")E=d1(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=Un(31,a,r,h),n.elementType=R,n.lanes=d,n;case B:return oa(a.children,h,d,r);case G:E=8,h|=24;break;case V:return n=Un(12,a,r,h|2),n.elementType=V,n.lanes=d,n;case ut:return n=Un(13,a,r,h),n.elementType=ut,n.lanes=d,n;case Et:return n=Un(19,a,r,h),n.elementType=Et,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rt:case nt:E=10;break t;case ot:E=9;break t;case pt:E=11;break t;case M:E=14;break t;case w:E=16,l=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Un(E,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function oa(n,r,a,l){return n=Un(7,n,l,r),n.lanes=a,n}function Xf(n,r,a){return n=Un(6,n,null,r),n.lanes=a,n}function $f(n,r,a){return r=Un(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var io=[],ro=0,Sc=null,wc=0,Jn=[],ti=0,la=null,dr=1,mr="";function ua(n,r){io[ro++]=wc,io[ro++]=Sc,Sc=n,wc=r}function Zg(n,r,a){Jn[ti++]=dr,Jn[ti++]=mr,Jn[ti++]=la,la=n;var l=dr;n=mr;var h=32-Ce(l)-1;l&=~(1<<h),a+=1;var d=32-Ce(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,dr=1<<32-Ce(r)+h|a<<h|l,mr=d+n}else dr=1<<d|a<<h|l,mr=n}function Zf(n){n.return!==null&&(ua(n,1),Zg(n,1,0))}function Wf(n){for(;n===Sc;)Sc=io[--ro],io[ro]=null,wc=io[--ro],io[ro]=null;for(;n===la;)la=Jn[--ti],Jn[ti]=null,mr=Jn[--ti],Jn[ti]=null,dr=Jn[--ti],Jn[ti]=null}var En=null,_e=null,$t=!1,ca=null,Vi=!1,Jf=Error(s(519));function ha(n){var r=Error(s(418,""));throw Il(Zn(r,n)),Jf}function Wg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[de]=n,r[Qt]=l,a){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Ut(Zl[a],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":Ut("invalid",r),Xs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ja(r);break;case"select":Ut("invalid",r);break;case"textarea":Ut("invalid",r),$s(r,l.value,l.defaultValue,l.children),ja(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||p_(r.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",r),Ut("toggle",r)),l.onScroll!=null&&Ut("scroll",r),l.onScrollEnd!=null&&Ut("scrollend",r),l.onClick!=null&&(r.onclick=sh),r=!0):r=!1,r||ha(n)}function Jg(n){for(En=n.return;En;)switch(En.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:En=En.return}}function wl(n){if(n!==En)return!1;if(!$t)return Jg(n),$t=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||pm(n.type,n.memoizedProps)),a=!a),a&&_e&&ha(n),Jg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){_e=mi(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}_e=null}}else r===27?(r=_e,rs(n.type)?(n=_m,_m=null,_e=n):_e=r):_e=En?mi(n.stateNode.nextSibling):null;return!0}function Rl(){_e=En=null,$t=!1}function ty(){var n=ca;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),ca=null),n}function Il(n){ca===null?ca=[n]:ca.push(n)}var td=K(null),fa=null,pr=null;function Hr(n,r,a){Z(td,r._currentValue),r._currentValue=a}function gr(n){n._currentValue=td.current,et(td)}function ed(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function nd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),ed(d.return,a,n),l||(E=null);break t}d=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),ed(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Cl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;kn(h.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(h===he.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(iu):n=[iu])}h=h.return}n!==null&&nd(r,n,a,l),r.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){fa=n,pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ln(n){return ey(fa,n)}function Ic(n,r){return fa===null&&da(n),ey(n,r)}function ey(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},pr===null){if(n===null)throw Error(s(308));pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pr=pr.next=r;return a}var fS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},dS=i.unstable_scheduleCallback,mS=i.unstable_NormalPriority,Le={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new fS,data:new Map,refCount:0}}function Dl(n){n.refCount--,n.refCount===0&&dS(mS,function(){n.controller.abort()})}var Ol=null,rd=0,so=0,ao=null;function pS(n,r){if(Ol===null){var a=Ol=[];rd=0,so=am(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rd++,r.then(ny,ny),r}function ny(){if(--rd===0&&Ol!==null){ao!==null&&(ao.status="fulfilled");var n=Ol;Ol=null,so=0,ao=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function gS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var iy=j.S;j.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&pS(n,r),iy!==null&&iy(n,r)};var ma=K(null);function sd(){var n=ma.current;return n!==null?n:le.pooledCache}function Cc(n,r){r===null?Z(ma,ma.current):Z(ma,r.pool)}function ry(){var n=sd();return n===null?null:{parent:Le._currentValue,pool:n}}var Nl=Error(s(460)),sy=Error(s(474)),Dc=Error(s(542)),ad={then:function(){}};function ay(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Oc(){}function oy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Oc,Oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,uy(n),n;default:if(typeof r.status=="string")r.then(Oc,Oc);else{if(n=le,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,uy(n),n}throw Ml=r,Nl}}var Ml=null;function ly(){if(Ml===null)throw Error(s(459));var n=Ml;return Ml=null,n}function uy(n){if(n===Nl||n===Dc)throw Error(s(483))}var Fr=!1;function od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Gr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Qr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=bc(n),Xg(n,null,a),r}return Tc(n,l,r,a),bc(n)}function xl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,fe(n,a)}}function ud(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var cd=!1;function Vl(){if(cd){var n=ao;if(n!==null)throw n}}function Pl(n,r,a,l){cd=!1;var h=n.updateQueue;Fr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,q=I.next;I.next=null,E===null?d=q:E.next=q,E=I;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==E&&(b===null?Y.firstBaseUpdate=q:b.next=q,Y.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;E=0,Y=q=I=null,b=d;do{var H=b.lane&-536870913,F=H!==b.lane;if(F?(jt&H)===H:(l&H)===H){H!==0&&H===so&&(cd=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var wt=n,bt=b;H=r;var se=a;switch(bt.tag){case 1:if(wt=bt.payload,typeof wt=="function"){W=wt.call(se,W,H);break t}W=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=bt.payload,H=typeof wt=="function"?wt.call(se,W,H):wt,H==null)break t;W=T({},W,H);break t;case 2:Fr=!0}}H=b.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(q=Y=F,I=W):Y=Y.next=F,E|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=W),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),ts|=E,n.lanes=E,n.memoizedState=W}}function cy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function hy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)cy(a[n],r)}var oo=K(null),Nc=K(0);function fy(n,r){n=Ar,Z(Nc,n),Z(oo,r),Ar=n|r.baseLanes}function hd(){Z(Nc,Ar),Z(oo,oo.current)}function fd(){Ar=Nc.current,et(oo),et(Nc)}var Kr=0,Mt=null,ie=null,Ne=null,Mc=!1,lo=!1,pa=!1,xc=0,kl=0,uo=null,yS=0;function Se(){throw Error(s(321))}function dd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!kn(n[a],r[a]))return!1;return!0}function md(n,r,a,l,h,d){return Kr=d,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=n===null||n.memoizedState===null?Xy:$y,pa=!1,d=a(l,h),pa=!1,lo&&(d=my(r,a,l,h)),dy(n),d}function dy(n){j.H=zc;var r=ie!==null&&ie.next!==null;if(Kr=0,Ne=ie=Mt=null,Mc=!1,kl=0,uo=null,r)throw Error(s(300));n===null||Ge||(n=n.dependencies,n!==null&&Rc(n)&&(Ge=!0))}function my(n,r,a,l){Mt=n;var h=0;do{if(lo&&(uo=null),kl=0,lo=!1,25<=h)throw Error(s(301));if(h+=1,Ne=ie=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=SS,d=r(a,l)}while(lo);return d}function vS(){var n=j.H,r=n.useState()[0];return r=typeof r.then=="function"?Ul(r):r,n=n.useState()[0],(ie!==null?ie.memoizedState:null)!==n&&(Mt.flags|=1024),r}function pd(){var n=xc!==0;return xc=0,n}function gd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function yd(n){if(Mc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Mc=!1}Kr=0,Ne=ie=Mt=null,lo=!1,kl=xc=0,uo=null}function In(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Mt.memoizedState=Ne=n:Ne=Ne.next=n,Ne}function Me(){if(ie===null){var n=Mt.alternate;n=n!==null?n.memoizedState:null}else n=ie.next;var r=Ne===null?Mt.memoizedState:Ne.next;if(r!==null)Ne=r,ie=n;else{if(n===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));ie=n,n={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ne===null?Mt.memoizedState=Ne=n:Ne=Ne.next=n}return Ne}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(n){var r=kl;return kl+=1,uo===null&&(uo=[]),n=oy(uo,n,r),r=Mt,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?Xy:$y),n}function Vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ul(n);if(n.$$typeof===nt)return ln(n)}throw Error(s(438,String(n)))}function _d(n){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vd(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=O;return r.index++,a}function yr(n,r){return typeof r=="function"?r(n):r}function Pc(n){var r=Me();return Ed(r,ie,n)}function Ed(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var b=E=null,I=null,q=r,Y=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(jt&W)===W:(Kr&W)===W){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===so&&(Y=!0);else if((Kr&H)===H){q=q.next,H===so&&(Y=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=W,E=d):I=I.next=W,Mt.lanes|=H,ts|=H;W=q.action,pa&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else H={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=H,E=d):I=I.next=H,Mt.lanes|=W,ts|=W;q=q.next}while(q!==null&&q!==r);if(I===null?E=d:I.next=b,!kn(d,n.memoizedState)&&(Ge=!0,Y&&(a=ao,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Td(n){var r=Me(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=n(d,E.action),E=E.next;while(E!==h);kn(d,r.memoizedState)||(Ge=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function py(n,r,a){var l=Mt,h=Me(),d=$t;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!kn((ie||h).memoizedState,a);E&&(h.memoizedState=a,Ge=!0),h=h.queue;var b=vy.bind(null,l,h,n);if(Ll(2048,8,b,[n]),h.getSnapshot!==r||E||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,co(9,kc(),yy.bind(null,l,h,a,r),null),le===null)throw Error(s(349));d||(Kr&124)!==0||gy(l,r,a)}return a}function gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=vd(),Mt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function yy(n,r,a,l){r.value=a,r.getSnapshot=l,_y(r)&&Ey(n)}function vy(n,r,a){return a(function(){_y(r)&&Ey(n)})}function _y(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!kn(n,a)}catch{return!0}}function Ey(n){var r=eo(n,2);r!==null&&jn(r,n,2)}function bd(n){var r=In();if(typeof n=="function"){var a=n;if(n=a(),pa){on(!0);try{a()}finally{on(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:n},r}function Ty(n,r,a,l){return n.baseState=a,Ed(n,ie,typeof l=="function"?l:yr)}function _S(n,r,a,l,h){if(Lc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};j.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,by(r,d)):(d.next=a.next,r.pending=a.next=d)}}function by(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=j.T,E={};j.T=E;try{var b=a(h,l),I=j.S;I!==null&&I(E,b),Ay(n,r,b)}catch(q){Ad(n,r,q)}finally{j.T=d}}else try{d=a(h,l),Ay(n,r,d)}catch(q){Ad(n,r,q)}}function Ay(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(n,r,l)},function(l){return Ad(n,r,l)}):Sy(n,r,a)}function Sy(n,r,a){r.status="fulfilled",r.value=a,wy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,by(n,a)))}function Ad(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,wy(r),r=r.next;while(r!==l)}n.action=null}function wy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ry(n,r){return r}function Iy(n,r){if($t){var a=le.formState;if(a!==null){t:{var l=Mt;if($t){if(_e){e:{for(var h=_e,d=Vi;h.nodeType!==8;){if(!d){h=null;break e}if(h=mi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){_e=mi(h.nextSibling),l=h.data==="F!";break t}}ha(l)}l=!1}l&&(r=a[0])}}return a=In(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:r},a.queue=l,a=Qy.bind(null,Mt,l),l.dispatch=a,l=bd(!1),d=Cd.bind(null,Mt,!1,l.queue),l=In(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=_S.bind(null,Mt,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function Cy(n){var r=Me();return Dy(r,ie,n)}function Dy(n,r,a){if(r=Ed(n,r,Ry)[0],n=Pc(yr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ul(r)}catch(E){throw E===Nl?Dc:E}else l=r;r=Me();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,co(9,kc(),ES.bind(null,h,a),null)),[l,d,n]}function ES(n,r){n.action=r}function Oy(n){var r=Me(),a=ie;if(a!==null)return Dy(r,a,n);Me(),r=r.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function co(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=vd(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function kc(){return{destroy:void 0,resource:void 0}}function Ny(){return Me().memoizedState}function Uc(n,r,a,l){var h=In();l=l===void 0?null:l,Mt.flags|=n,h.memoizedState=co(1|r,kc(),a,l)}function Ll(n,r,a,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&dd(l,ie.memoizedState.deps)?h.memoizedState=co(r,d,a,l):(Mt.flags|=n,h.memoizedState=co(1|r,d,a,l))}function My(n,r){Uc(8390656,8,n,r)}function xy(n,r){Ll(2048,8,n,r)}function Vy(n,r){return Ll(4,2,n,r)}function Py(n,r){return Ll(4,4,n,r)}function ky(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Uy(n,r,a){a=a!=null?a.concat([n]):null,Ll(4,4,ky.bind(null,r,n),a)}function Sd(){}function Ly(n,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&dd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function zy(n,r){var a=Me();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&dd(r,l[1]))return l[0];if(l=n(),pa){on(!0);try{n()}finally{on(!1)}}return a.memoizedState=[l,r],l}function wd(n,r,a){return a===void 0||(Kr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=jv(),Mt.lanes|=n,ts|=n,a)}function By(n,r,a,l){return kn(a,r)?a:oo.current!==null?(n=wd(n,a,l),kn(n,r)||(Ge=!0),n):(Kr&42)===0?(Ge=!0,n.memoizedState=a):(n=jv(),Mt.lanes|=n,ts|=n,r)}function qy(n,r,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var E=j.T,b={};j.T=b,Cd(n,!1,r,a);try{var I=h(),q=j.S;if(q!==null&&q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=gS(I,l);zl(n,r,Y,qn(n))}else zl(n,r,l,qn(n))}catch(W){zl(n,r,{then:function(){},status:"rejected",reason:W},qn())}finally{st.p=d,j.T=E}}function TS(){}function Rd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=jy(n).queue;qy(n,h,r,mt,a===null?TS:function(){return Hy(n),a(l)})}function jy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:mt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Hy(n){var r=jy(n).next.queue;zl(n,r,{},qn())}function Id(){return ln(iu)}function Fy(){return Me().memoizedState}function Gy(){return Me().memoizedState}function bS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=qn();n=Gr(a);var l=Qr(r,n,a);l!==null&&(jn(l,r,a),xl(l,r,a)),r={cache:id()},n.payload=r;return}r=r.return}}function AS(n,r,a){var l=qn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(n)?Ky(r,a):(a=Kf(n,r,a,l),a!==null&&(jn(a,n,l),Yy(a,r,l)))}function Qy(n,r,a){var l=qn();zl(n,r,a,l)}function zl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(n))Ky(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(h.hasEagerState=!0,h.eagerState=b,kn(b,E))return Tc(n,r,h,0),le===null&&Ec(),!1}catch{}finally{}if(a=Kf(n,r,h,l),a!==null)return jn(a,n,l),Yy(a,r,l),!0}return!1}function Cd(n,r,a,l){if(l={lane:2,revertLane:am(),action:l,hasEagerState:!1,eagerState:null,next:null},Lc(n)){if(r)throw Error(s(479))}else r=Kf(n,a,l,2),r!==null&&jn(r,n,2)}function Lc(n){var r=n.alternate;return n===Mt||r!==null&&r===Mt}function Ky(n,r){lo=Mc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Yy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,fe(n,a)}}var zc={readContext:ln,use:Vc,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},Xy={readContext:ln,use:Vc,useCallback:function(n,r){return In().memoizedState=[n,r===void 0?null:r],n},useContext:ln,useEffect:My,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Uc(4194308,4,ky.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Uc(4194308,4,n,r)},useInsertionEffect:function(n,r){Uc(4,2,n,r)},useMemo:function(n,r){var a=In();r=r===void 0?null:r;var l=n();if(pa){on(!0);try{n()}finally{on(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=In();if(a!==void 0){var h=a(r);if(pa){on(!0);try{a(r)}finally{on(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=AS.bind(null,Mt,n),[l.memoizedState,n]},useRef:function(n){var r=In();return n={current:n},r.memoizedState=n},useState:function(n){n=bd(n);var r=n.queue,a=Qy.bind(null,Mt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(n,r){var a=In();return wd(a,n,r)},useTransition:function(){var n=bd(!1);return n=qy.bind(null,Mt,n.queue,!0,!1),In().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Mt,h=In();if($t){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),le===null)throw Error(s(349));(jt&124)!==0||gy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,My(vy.bind(null,l,d,n),[n]),l.flags|=2048,co(9,kc(),yy.bind(null,l,d,a,r),null),a},useId:function(){var n=In(),r=le.identifierPrefix;if($t){var a=mr,l=dr;a=(l&~(1<<32-Ce(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=xc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=yS++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Id,useFormState:Iy,useActionState:Iy,useOptimistic:function(n){var r=In();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Cd.bind(null,Mt,!0,a),a.dispatch=r,[n,r]},useMemoCache:_d,useCacheRefresh:function(){return In().memoizedState=bS.bind(null,Mt)}},$y={readContext:ln,use:Vc,useCallback:Ly,useContext:ln,useEffect:xy,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:Py,useMemo:zy,useReducer:Pc,useRef:Ny,useState:function(){return Pc(yr)},useDebugValue:Sd,useDeferredValue:function(n,r){var a=Me();return By(a,ie.memoizedState,n,r)},useTransition:function(){var n=Pc(yr)[0],r=Me().memoizedState;return[typeof n=="boolean"?n:Ul(n),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:Id,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,r){var a=Me();return Ty(a,ie,n,r)},useMemoCache:_d,useCacheRefresh:Gy},SS={readContext:ln,use:Vc,useCallback:Ly,useContext:ln,useEffect:xy,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:Py,useMemo:zy,useReducer:Td,useRef:Ny,useState:function(){return Td(yr)},useDebugValue:Sd,useDeferredValue:function(n,r){var a=Me();return ie===null?wd(a,n,r):By(a,ie.memoizedState,n,r)},useTransition:function(){var n=Td(yr)[0],r=Me().memoizedState;return[typeof n=="boolean"?n:Ul(n),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:Id,useFormState:Oy,useActionState:Oy,useOptimistic:function(n,r){var a=Me();return ie!==null?Ty(a,ie,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Gy},ho=null,Bl=0;function Bc(n){var r=Bl;return Bl+=1,ho===null&&(ho=[]),oy(ho,n,r)}function ql(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function qc(n,r){throw r.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Zy(n){var r=n._init;return r(n._payload)}function Wy(n){function r(U,N){if(n){var z=U.deletions;z===null?(U.deletions=[N],U.flags|=16):z.push(N)}}function a(U,N){if(!n)return null;for(;N!==null;)r(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=fr(U,N),U.index=0,U.sibling=null,U}function d(U,N,z){return U.index=z,n?(z=U.alternate,z!==null?(z=z.index,z<N?(U.flags|=67108866,N):z):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function E(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function b(U,N,z,X){return N===null||N.tag!==6?(N=Xf(z,U.mode,X),N.return=U,N):(N=h(N,z),N.return=U,N)}function I(U,N,z,X){var gt=z.type;return gt===B?Y(U,N,z.props.children,X,z.key):N!==null&&(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Zy(gt)===N.type)?(N=h(N,z.props),ql(N,z),N.return=U,N):(N=Ac(z.type,z.key,z.props,null,U.mode,X),ql(N,z),N.return=U,N)}function q(U,N,z,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=$f(z,U.mode,X),N.return=U,N):(N=h(N,z.children||[]),N.return=U,N)}function Y(U,N,z,X,gt){return N===null||N.tag!==7?(N=oa(z,U.mode,X,gt),N.return=U,N):(N=h(N,z),N.return=U,N)}function W(U,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xf(""+N,U.mode,z),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return z=Ac(N.type,N.key,N.props,null,U.mode,z),ql(z,N),z.return=U,z;case P:return N=$f(N,U.mode,z),N.return=U,N;case w:var X=N._init;return N=X(N._payload),W(U,N,z)}if(Ft(N)||k(N))return N=oa(N,U.mode,z,null),N.return=U,N;if(typeof N.then=="function")return W(U,Bc(N),z);if(N.$$typeof===nt)return W(U,Ic(U,N),z);qc(U,N)}return null}function H(U,N,z,X){var gt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:b(U,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===gt?I(U,N,z,X):null;case P:return z.key===gt?q(U,N,z,X):null;case w:return gt=z._init,z=gt(z._payload),H(U,N,z,X)}if(Ft(z)||k(z))return gt!==null?null:Y(U,N,z,X,null);if(typeof z.then=="function")return H(U,N,Bc(z),X);if(z.$$typeof===nt)return H(U,N,Ic(U,z),X);qc(U,z)}return null}function F(U,N,z,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,b(N,U,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return U=U.get(X.key===null?z:X.key)||null,I(N,U,X,gt);case P:return U=U.get(X.key===null?z:X.key)||null,q(N,U,X,gt);case w:var Vt=X._init;return X=Vt(X._payload),F(U,N,z,X,gt)}if(Ft(X)||k(X))return U=U.get(z)||null,Y(N,U,X,gt,null);if(typeof X.then=="function")return F(U,N,z,Bc(X),gt);if(X.$$typeof===nt)return F(U,N,z,Ic(N,X),gt);qc(N,X)}return null}function wt(U,N,z,X){for(var gt=null,Vt=null,vt=N,At=N=0,Ke=null;vt!==null&&At<z.length;At++){vt.index>At?(Ke=vt,vt=null):Ke=vt.sibling;var Kt=H(U,vt,z[At],X);if(Kt===null){vt===null&&(vt=Ke);break}n&&vt&&Kt.alternate===null&&r(U,vt),N=d(Kt,N,At),Vt===null?gt=Kt:Vt.sibling=Kt,Vt=Kt,vt=Ke}if(At===z.length)return a(U,vt),$t&&ua(U,At),gt;if(vt===null){for(;At<z.length;At++)vt=W(U,z[At],X),vt!==null&&(N=d(vt,N,At),Vt===null?gt=vt:Vt.sibling=vt,Vt=vt);return $t&&ua(U,At),gt}for(vt=l(vt);At<z.length;At++)Ke=F(vt,U,At,z[At],X),Ke!==null&&(n&&Ke.alternate!==null&&vt.delete(Ke.key===null?At:Ke.key),N=d(Ke,N,At),Vt===null?gt=Ke:Vt.sibling=Ke,Vt=Ke);return n&&vt.forEach(function(us){return r(U,us)}),$t&&ua(U,At),gt}function bt(U,N,z,X){if(z==null)throw Error(s(151));for(var gt=null,Vt=null,vt=N,At=N=0,Ke=null,Kt=z.next();vt!==null&&!Kt.done;At++,Kt=z.next()){vt.index>At?(Ke=vt,vt=null):Ke=vt.sibling;var us=H(U,vt,Kt.value,X);if(us===null){vt===null&&(vt=Ke);break}n&&vt&&us.alternate===null&&r(U,vt),N=d(us,N,At),Vt===null?gt=us:Vt.sibling=us,Vt=us,vt=Ke}if(Kt.done)return a(U,vt),$t&&ua(U,At),gt;if(vt===null){for(;!Kt.done;At++,Kt=z.next())Kt=W(U,Kt.value,X),Kt!==null&&(N=d(Kt,N,At),Vt===null?gt=Kt:Vt.sibling=Kt,Vt=Kt);return $t&&ua(U,At),gt}for(vt=l(vt);!Kt.done;At++,Kt=z.next())Kt=F(vt,U,At,Kt.value,X),Kt!==null&&(n&&Kt.alternate!==null&&vt.delete(Kt.key===null?At:Kt.key),N=d(Kt,N,At),Vt===null?gt=Kt:Vt.sibling=Kt,Vt=Kt);return n&&vt.forEach(function(w1){return r(U,w1)}),$t&&ua(U,At),gt}function se(U,N,z,X){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:t:{for(var gt=z.key;N!==null;){if(N.key===gt){if(gt=z.type,gt===B){if(N.tag===7){a(U,N.sibling),X=h(N,z.props.children),X.return=U,U=X;break t}}else if(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Zy(gt)===N.type){a(U,N.sibling),X=h(N,z.props),ql(X,z),X.return=U,U=X;break t}a(U,N);break}else r(U,N);N=N.sibling}z.type===B?(X=oa(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=Ac(z.type,z.key,z.props,null,U.mode,X),ql(X,z),X.return=U,U=X)}return E(U);case P:t:{for(gt=z.key;N!==null;){if(N.key===gt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(U,N.sibling),X=h(N,z.children||[]),X.return=U,U=X;break t}else{a(U,N);break}else r(U,N);N=N.sibling}X=$f(z,U.mode,X),X.return=U,U=X}return E(U);case w:return gt=z._init,z=gt(z._payload),se(U,N,z,X)}if(Ft(z))return wt(U,N,z,X);if(k(z)){if(gt=k(z),typeof gt!="function")throw Error(s(150));return z=gt.call(z),bt(U,N,z,X)}if(typeof z.then=="function")return se(U,N,Bc(z),X);if(z.$$typeof===nt)return se(U,N,Ic(U,z),X);qc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(U,N.sibling),X=h(N,z),X.return=U,U=X):(a(U,N),X=Xf(z,U.mode,X),X.return=U,U=X),E(U)):a(U,N)}return function(U,N,z,X){try{Bl=0;var gt=se(U,N,z,X);return ho=null,gt}catch(vt){if(vt===Nl||vt===Dc)throw vt;var Vt=Un(29,vt,null,U.mode);return Vt.lanes=X,Vt.return=U,Vt}finally{}}}var fo=Wy(!0),Jy=Wy(!1),ei=K(null),Pi=null;function Yr(n){var r=n.alternate;Z(ze,ze.current&1),Z(ei,n),Pi===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Pi=n)}function tv(n){if(n.tag===22){if(Z(ze,ze.current),Z(ei,n),Pi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Pi=n)}}else Xr()}function Xr(){Z(ze,ze.current),Z(ei,ei.current)}function vr(n){et(ei),Pi===n&&(Pi=null),et(ze)}var ze=K(0);function jc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Dd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Od={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=qn(),h=Gr(l);h.payload=r,a!=null&&(h.callback=a),r=Qr(n,h,l),r!==null&&(jn(r,n,l),xl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=qn(),h=Gr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Qr(n,h,l),r!==null&&(jn(r,n,l),xl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=qn(),l=Gr(a);l.tag=2,r!=null&&(l.callback=r),r=Qr(n,l,a),r!==null&&(jn(r,n,a),xl(r,n,a))}};function ev(n,r,a,l,h,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Al(a,l)||!Al(h,d):!0}function nv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Od.enqueueReplaceState(r,r.state,null)}function ga(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Hc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function iv(n){Hc(n)}function rv(n){console.error(n)}function sv(n){Hc(n)}function Fc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function av(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nd(n,r,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fc(n,r)},a}function ov(n){return n=Gr(n),n.tag=3,n}function lv(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){av(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){av(r,a,l),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function wS(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Cl(r,a,h,!0),a=ei.current,a!==null){switch(a.tag){case 13:return Pi===null?em():a.alternate===null&&Ee===0&&(Ee=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ad?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),im(n,l,h)),!1;case 22:return a.flags|=65536,l===ad?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),im(n,l,h)),!1}throw Error(s(435,a.tag))}return im(n,l,h),em(),!1}if($t)return r=ei.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Jf&&(n=Error(s(422),{cause:l}),Il(Zn(n,a)))):(l!==Jf&&(r=Error(s(423),{cause:l}),Il(Zn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Zn(l,a),h=Nd(n.stateNode,l,h),ud(n,h),Ee!==4&&(Ee=2)),!1;var d=Error(s(520),{cause:l});if(d=Zn(d,a),Yl===null?Yl=[d]:Yl.push(d),Ee!==4&&(Ee=2),r===null)return!0;l=Zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Nd(a.stateNode,l,n),ud(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ov(h),lv(h,n,a,l),ud(a,h),!1}a=a.return}while(a!==null);return!1}var uv=Error(s(461)),Ge=!1;function Je(n,r,a,l){r.child=n===null?Jy(r,null,a,l):fo(r,n.child,a,l)}function cv(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return da(r),l=md(n,r,a,E,d,h),b=pd(),n!==null&&!Ge?(gd(n,r,h),_r(n,r,h)):($t&&b&&Zf(r),r.flags|=1,Je(n,r,l,h),r.child)}function hv(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Yf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,fv(n,r,d,l,h)):(n=Ac(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!zd(n,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(E,l)&&n.ref===r.ref)return _r(n,r,h)}return r.flags|=1,n=fr(d,l),n.ref=r.ref,n.return=r,r.child=n}function fv(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(Al(d,l)&&n.ref===r.ref)if(Ge=!1,r.pendingProps=l=d,zd(n,h))(n.flags&131072)!==0&&(Ge=!0);else return r.lanes=n.lanes,_r(n,r,h)}return Md(n,r,a,l,h)}function dv(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return mv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Cc(r,d!==null?d.cachePool:null),d!==null?fy(r,d):hd(),tv(r);else return r.lanes=r.childLanes=536870912,mv(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Cc(r,d.cachePool),fy(r,d),Xr(),r.memoizedState=null):(n!==null&&Cc(r,null),hd(),Xr());return Je(n,r,h,a),r.child}function mv(n,r,a,l){var h=sd();return h=h===null?null:{parent:Le._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&Cc(r,null),hd(),tv(r),n!==null&&Cl(n,r,l,!0),null}function Gc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Md(n,r,a,l,h){return da(r),a=md(n,r,a,l,void 0,h),l=pd(),n!==null&&!Ge?(gd(n,r,h),_r(n,r,h)):($t&&l&&Zf(r),r.flags|=1,Je(n,r,a,h),r.child)}function pv(n,r,a,l,h,d){return da(r),r.updateQueue=null,a=my(r,l,a,h),dy(n),l=pd(),n!==null&&!Ge?(gd(n,r,d),_r(n,r,d)):($t&&l&&Zf(r),r.flags|=1,Je(n,r,a,d),r.child)}function gv(n,r,a,l,h){if(da(r),r.stateNode===null){var d=no,E=a.contextType;typeof E=="object"&&E!==null&&(d=ln(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},od(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?ln(E):no,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Dd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Od.enqueueReplaceState(d,d.state,null),Pl(r,l,d,h),Vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,I=ga(a,b);d.props=I;var q=d.context,Y=a.contextType;E=no,typeof Y=="object"&&Y!==null&&(E=ln(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==E)&&nv(r,d,l,E),Fr=!1;var H=r.memoizedState;d.state=H,Pl(r,l,d,h),Vl(),q=r.memoizedState,b||H!==q||Fr?(typeof W=="function"&&(Dd(r,a,W,l),q=r.memoizedState),(I=Fr||ev(r,a,I,l,H,q,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ld(n,r),E=r.memoizedProps,Y=ga(a,E),d.props=Y,W=r.pendingProps,H=d.context,q=a.contextType,I=no,typeof q=="object"&&q!==null&&(I=ln(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==W||H!==I)&&nv(r,d,l,I),Fr=!1,H=r.memoizedState,d.state=H,Pl(r,l,d,h),Vl();var F=r.memoizedState;E!==W||H!==F||Fr||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof b=="function"&&(Dd(r,a,b,l),F=r.memoizedState),(Y=Fr||ev(r,a,Y,l,H,F,I)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Gc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=fo(r,n.child,null,h),r.child=fo(r,null,a,h)):Je(n,r,a,h),r.memoizedState=d.state,n=r.child):n=_r(n,r,h),n}function yv(n,r,a,l){return Rl(),r.flags|=256,Je(n,r,a,l),r.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(n){return{baseLanes:n,cachePool:ry()}}function Pd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=ni),n}function vv(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(ze.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if($t){if(h?Yr(r):Xr(),$t){var b=_e,I;if(I=b){t:{for(I=b,b=Vi;I.nodeType!==8;){if(!b){b=null;break t}if(I=mi(I.nextSibling),I===null){b=null;break t}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:la!==null?{id:dr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},I=Un(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,En=r,_e=null,I=!0):I=!1}I||ha(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return vm(b)?r.lanes=32:r.lanes=536870912,null;vr(r)}return b=l.children,l=l.fallback,h?(Xr(),h=r.mode,b=Qc({mode:"hidden",children:b},h),l=oa(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=Vd(a),h.childLanes=Pd(n,E,a),r.memoizedState=xd,l):(Yr(r),kd(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Yr(r),r.flags&=-257,r=Ud(n,r,a)):r.memoizedState!==null?(Xr(),r.child=n.child,r.flags|=128,r=null):(Xr(),h=l.fallback,b=r.mode,l=Qc({mode:"visible",children:l.children},b),h=oa(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,fo(r,n.child,null,a),l=r.child,l.memoizedState=Vd(a),l.childLanes=Pd(n,E,a),r.memoizedState=xd,r=h);else if(Yr(r),vm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Il({value:l,source:null,stack:null}),r=Ud(n,r,a)}else if(Ge||Cl(n,r,a,!1),E=(a&n.childLanes)!==0,Ge||E){if(E=le,E!==null&&(l=a&-a,l=(l&42)!==0?1:ue(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,eo(n,l),jn(E,n,l),uv;b.data==="$?"||em(),r=Ud(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,_e=mi(b.nextSibling),En=r,$t=!0,ca=null,Vi=!1,n!==null&&(Jn[ti++]=dr,Jn[ti++]=mr,Jn[ti++]=la,dr=n.id,mr=n.overflow,la=r),r=kd(r,l.children),r.flags|=4096);return r}return h?(Xr(),h=l.fallback,b=r.mode,I=n.child,q=I.sibling,l=fr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=fr(q,h):(h=oa(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=n.child.memoizedState,b===null?b=Vd(a):(I=b.cachePool,I!==null?(q=Le._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=ry(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=Pd(n,E,a),r.memoizedState=xd,l):(Yr(r),a=n.child,n=a.sibling,a=fr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function kd(n,r){return r=Qc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Qc(n,r){return n=Un(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ud(n,r,a){return fo(r,n.child,null,a),n=kd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function _v(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),ed(n.return,r,a)}function Ld(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ev(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Je(n,r,l.children,a),l=ze.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,a,r);else if(n.tag===19)_v(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Z(ze,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&jc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ld(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&jc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Ld(r,!0,a,null,d);break;case"together":Ld(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _r(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ts|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Cl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=fr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=fr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function zd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function RS(n,r,a){switch(r.tag){case 3:Gt(r,r.stateNode.containerInfo),Hr(r,Le,n.memoizedState.cache),Rl();break;case 27:case 5:An(r);break;case 4:Gt(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?vv(n,r,a):(Yr(r),n=_r(n,r,a),n!==null?n.sibling:null);Yr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Cl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Ev(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(ze,ze.current),l)break;return null;case 22:case 23:return r.lanes=0,dv(n,r,a);case 24:Hr(r,Le,n.memoizedState.cache)}return _r(n,r,a)}function Tv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ge=!0;else{if(!zd(n,a)&&(r.flags&128)===0)return Ge=!1,RS(n,r,a);Ge=(n.flags&131072)!==0}else Ge=!1,$t&&(r.flags&1048576)!==0&&Zg(r,wc,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Yf(l)?(n=ga(l,n),r.tag=1,r=gv(null,r,l,n,a)):(r.tag=0,r=Md(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===pt){r.tag=11,r=cv(null,r,l,n,a);break t}else if(h===M){r.tag=14,r=hv(null,r,l,n,a);break t}}throw r=be(l)||l,Error(s(306,r,""))}}return r;case 0:return Md(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ga(l,r.pendingProps),gv(n,r,l,h,a);case 3:t:{if(Gt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,ld(n,r),Pl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Hr(r,Le,l),l!==d.cache&&nd(r,[Le],a,!0),Vl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=yv(n,r,l,a);break t}else if(l!==h){h=Zn(Error(s(424)),r),Il(h),r=yv(n,r,l,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_e=mi(n.firstChild),En=r,$t=!0,ca=null,Vi=!0,a=Jy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rl(),l===h){r=_r(n,r,a);break t}Je(n,r,l,a)}r=r.child}return r;case 26:return Gc(n,r),n===null?(a=w_(r.type,null,r.pendingProps,null))?r.memoizedState=a:$t||(a=r.type,n=r.pendingProps,l=ah(ct.current).createElement(a),l[de]=r,l[Qt]=n,en(l,a,n),Ae(l),r.stateNode=l):r.memoizedState=w_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return An(r),n===null&&$t&&(l=r.stateNode=b_(r.type,r.pendingProps,ct.current),En=r,Vi=!0,h=_e,rs(r.type)?(_m=h,_e=mi(l.firstChild)):_e=h),Je(n,r,r.pendingProps.children,a),Gc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&$t&&((h=l=_e)&&(l=t1(l,r.type,r.pendingProps,Vi),l!==null?(r.stateNode=l,En=r,_e=mi(l.firstChild),Vi=!1,h=!0):h=!1),h||ha(r)),An(r),h=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,pm(h,d)?l=null:E!==null&&pm(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=md(n,r,vS,null,null,a),iu._currentValue=h),Gc(n,r),Je(n,r,l,a),r.child;case 6:return n===null&&$t&&((n=a=_e)&&(a=e1(a,r.pendingProps,Vi),a!==null?(r.stateNode=a,En=r,_e=null,n=!0):n=!1),n||ha(r)),null;case 13:return vv(n,r,a);case 4:return Gt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=fo(r,null,l,a):Je(n,r,l,a),r.child;case 11:return cv(n,r,r.type,r.pendingProps,a);case 7:return Je(n,r,r.pendingProps,a),r.child;case 8:return Je(n,r,r.pendingProps.children,a),r.child;case 12:return Je(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Hr(r,r.type,l.value),Je(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,da(r),h=ln(h),l=l(h),r.flags|=1,Je(n,r,l,a),r.child;case 14:return hv(n,r,r.type,r.pendingProps,a);case 15:return fv(n,r,r.type,r.pendingProps,a);case 19:return Ev(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Qc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=fr(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return dv(n,r,a);case 24:return da(r),l=ln(Le),n===null?(h=sd(),h===null&&(h=le,d=id(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},od(r),Hr(r,Le,h)):((n.lanes&a)!==0&&(ld(n,r),Pl(r,null,null,a),Vl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Hr(r,Le,l)):(l=d.cache,Hr(r,Le,l),l!==h.cache&&nd(r,[Le],a,!0))),Je(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Er(n){n.flags|=4}function bv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!O_(r)){if(r=ei.current,r!==null&&((jt&4194048)===jt?Pi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||r!==Pi))throw Ml=ad,sy;n.flags|=8192}}function Kc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Fs():536870912,n.lanes|=r,yo|=r)}function jl(n,r){if(!$t)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ge(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function IS(n,r,a){var l=r.pendingProps;switch(Wf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(r),null;case 1:return ge(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),gr(Le),an(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(wl(r)?Er(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ty())),ge(r),null;case 26:return a=r.memoizedState,n===null?(Er(r),a!==null?(ge(r),bv(r,a)):(ge(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Er(r),ge(r),bv(r,a)):(ge(r),r.flags&=-16777217):(n.memoizedProps!==l&&Er(r),ge(r),r.flags&=-16777217),null;case 27:si(r),a=ct.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ge(r),null}n=ft.current,wl(r)?Wg(r):(n=b_(h,l,a),r.stateNode=n,Er(r))}return ge(r),null;case 5:if(si(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ge(r),null}if(n=ft.current,wl(r))Wg(r);else{switch(h=ah(ct.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[de]=r,n[Qt]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;t:switch(en(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Er(r)}}return ge(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Er(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=ct.current,wl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=En,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[de]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(n.nodeValue,a)),n||ha(r)}else n=ah(n).createTextNode(l),n[de]=r,r.stateNode=n}return ge(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=wl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[de]=r}else Rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ge(r),h=!1}else h=ty(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(vr(r),r):(vr(r),null)}if(vr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Kc(r,r.updateQueue),ge(r),null;case 4:return an(),n===null&&cm(r.stateNode.containerInfo),ge(r),null;case 10:return gr(r.type),ge(r),null;case 19:if(et(ze),h=r.memoizedState,h===null)return ge(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)jl(h,!1);else{if(Ee!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=jc(n),d!==null){for(r.flags|=128,jl(h,!1),n=d.updateQueue,r.updateQueue=n,Kc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)$g(a,n),a=a.sibling;return Z(ze,ze.current&1|2),r.child}n=n.sibling}h.tail!==null&&je()>$c&&(r.flags|=128,l=!0,jl(h,!1),r.lanes=4194304)}else{if(!l)if(n=jc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Kc(r,n),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!$t)return ge(r),null}else 2*je()-h.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,l=!0,jl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=je(),r.sibling=null,n=ze.current,Z(ze,l?n&1|2:n&1),r):(ge(r),null);case 22:case 23:return vr(r),fd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ge(r),r.subtreeFlags&6&&(r.flags|=8192)):ge(r),a=r.updateQueue,a!==null&&Kc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&et(ma),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),gr(Le),ge(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function CS(n,r){switch(Wf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return gr(Le),an(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return si(r),null;case 13:if(vr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Rl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return et(ze),null;case 4:return an(),null;case 10:return gr(r.type),null;case 22:case 23:return vr(r),fd(),n!==null&&et(ma),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return gr(Le),null;case 25:return null;default:return null}}function Av(n,r){switch(Wf(r),r.tag){case 3:gr(Le),an();break;case 26:case 27:case 5:si(r);break;case 4:an();break;case 13:vr(r);break;case 19:et(ze);break;case 10:gr(r.type);break;case 22:case 23:vr(r),fd(),n!==null&&et(ma);break;case 24:gr(Le)}}function Hl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){oe(r,r.return,b)}}function $r(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=r;var I=a,q=b;try{q()}catch(Y){oe(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){oe(r,r.return,Y)}}function Sv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{hy(r,a)}catch(l){oe(n,n.return,l)}}}function wv(n,r,a){a.props=ga(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){oe(n,r,l)}}function Fl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){oe(n,r,h)}}function ki(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){oe(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){oe(n,r,h)}else a.current=null}function Rv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){oe(n,n.return,h)}}function Bd(n,r,a){try{var l=n.stateNode;XS(l,n.type,a,r),l[Qt]=r}catch(h){oe(n,n.return,h)}}function Iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&rs(n.type)||n.tag===4}function qd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&rs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=sh));else if(l!==4&&(l===27&&rs(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(jd(n,r,a),n=n.sibling;n!==null;)jd(n,r,a),n=n.sibling}function Yc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&rs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yc(n,r,a),n=n.sibling;n!==null;)Yc(n,r,a),n=n.sibling}function Cv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);en(r,l,a),r[de]=n,r[Qt]=a}catch(d){oe(n,n.return,d)}}var Tr=!1,we=!1,Hd=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function DS(n,r){if(n=n.containerInfo,dm=fh,n=Bg(n),qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,b=-1,I=-1,q=0,Y=0,W=n,H=null;e:for(;;){for(var F;W!==a||h!==0&&W.nodeType!==3||(b=E+h),W!==d||l!==0&&W.nodeType!==3||(I=E+l),W.nodeType===3&&(E+=W.nodeValue.length),(F=W.firstChild)!==null;)H=W,W=F;for(;;){if(W===n)break e;if(H===a&&++q===h&&(b=E),H===d&&++Y===l&&(I=E),(F=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=F}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:n,selectionRange:a},fh=!1,Qe=r;Qe!==null;)if(r=Qe,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Qe=n;else for(;Qe!==null;){switch(r=Qe,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var wt=ga(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(wt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(bt){oe(a,a.return,bt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Qe=n;break}Qe=r.return}}function Ov(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(n,a),l&4&&Hl(5,a);break;case 1:if(Zr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){oe(a,a.return,E)}else{var h=ga(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){oe(a,a.return,E)}}l&64&&Sv(a),l&512&&Fl(a,a.return);break;case 3:if(Zr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hy(n,r)}catch(E){oe(a,a.return,E)}}break;case 27:r===null&&l&4&&Cv(a);case 26:case 5:Zr(n,a),r===null&&l&4&&Rv(a),l&512&&Fl(a,a.return);break;case 12:Zr(n,a);break;case 13:Zr(n,a),l&4&&xv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=LS.bind(null,a),n1(n,a))));break;case 22:if(l=a.memoizedState!==null||Tr,!l){r=r!==null&&r.memoizedState!==null||we,h=Tr;var d=we;Tr=l,(we=r)&&!d?Wr(n,a,(a.subtreeFlags&8772)!==0):Zr(n,a),Tr=h,we=d}break;case 30:break;default:Zr(n,a)}}function Nv(n){var r=n.alternate;r!==null&&(n.alternate=null,Nv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&zr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pe=null,Cn=!1;function br(n,r,a){for(a=a.child;a!==null;)Mv(n,r,a),a=a.sibling}function Mv(n,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:we||ki(a,r),br(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||ki(a,r);var l=pe,h=Cn;rs(a.type)&&(pe=a.stateNode,Cn=!1),br(n,r,a),Jl(a.stateNode),pe=l,Cn=h;break;case 5:we||ki(a,r);case 6:if(l=pe,h=Cn,pe=null,br(n,r,a),pe=l,Cn=h,pe!==null)if(Cn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(d){oe(a,r,d)}else try{pe.removeChild(a.stateNode)}catch(d){oe(a,r,d)}break;case 18:pe!==null&&(Cn?(n=pe,E_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ou(n)):E_(pe,a.stateNode));break;case 4:l=pe,h=Cn,pe=a.stateNode.containerInfo,Cn=!0,br(n,r,a),pe=l,Cn=h;break;case 0:case 11:case 14:case 15:we||$r(2,a,r),we||$r(4,a,r),br(n,r,a);break;case 1:we||(ki(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wv(a,r,l)),br(n,r,a);break;case 21:br(n,r,a);break;case 22:we=(l=we)||a.memoizedState!==null,br(n,r,a),we=l;break;default:br(n,r,a)}}function xv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ou(n)}catch(a){oe(r,r.return,a)}}function OS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Dv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Dv),r;default:throw Error(s(435,n.tag))}}function Fd(n,r){var a=OS(n);r.forEach(function(l){var h=zS.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Ln(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(rs(b.type)){pe=b.stateNode,Cn=!1;break t}break;case 5:pe=b.stateNode,Cn=!1;break t;case 3:case 4:pe=b.stateNode.containerInfo,Cn=!0;break t}b=b.return}if(pe===null)throw Error(s(160));Mv(d,E,h),pe=null,Cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Vv(r,n),r=r.sibling}var di=null;function Vv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ln(r,n),zn(n),l&4&&($r(3,n,n.return),Hl(3,n),$r(5,n,n.return));break;case 1:Ln(r,n),zn(n),l&512&&(we||a===null||ki(a,a.return)),l&64&&Tr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(Ln(r,n),zn(n),l&512&&(we||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Gs]||d[de]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),en(d,l,a),d[de]=n,Ae(d),l=d;break t;case"link":var E=C_("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break e}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;case"meta":if(E=C_("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break e}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[de]=n,Ae(d),l=d}n.stateNode=l}else D_(h,n.type,n.stateNode);else n.stateNode=I_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?D_(h,n.type,n.stateNode):I_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Bd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Ln(r,n),zn(n),l&512&&(we||a===null||ki(a,a.return)),a!==null&&l&4&&Bd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Ln(r,n),zn(n),l&512&&(we||a===null||ki(a,a.return)),n.flags&32){h=n.stateNode;try{Kn(h,"")}catch(F){oe(n,n.return,F)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Bd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Hd=!0);break;case 6:if(Ln(r,n),zn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){oe(n,n.return,F)}}break;case 3:if(uh=null,h=di,di=oh(r.containerInfo),Ln(r,n),di=h,zn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ou(r.containerInfo)}catch(F){oe(n,n.return,F)}Hd&&(Hd=!1,Pv(n));break;case 4:l=di,di=oh(n.stateNode.containerInfo),Ln(r,n),zn(n),di=l;break;case 12:Ln(r,n),zn(n);break;case 13:Ln(r,n),zn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($d=je()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Fd(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Tr,Y=we;if(Tr=q||h,we=Y||I,Ln(r,n),we=Y,Tr=q,zn(n),l&8192)t:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Tr||we||ya(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=I.stateNode;var W=I.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){oe(I,I.return,F)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){oe(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fd(n,a))));break;case 19:Ln(r,n),zn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Fd(n,l)));break;case 30:break;case 21:break;default:Ln(r,n),zn(n)}}function zn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=qd(n);Yc(n,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Kn(E,""),a.flags&=-33);var b=qd(n);Yc(n,b,E);break;case 3:case 4:var I=a.stateNode.containerInfo,q=qd(n);jd(n,q,I);break;default:throw Error(s(161))}}catch(Y){oe(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Pv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Zr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ov(n,r.alternate,r),r=r.sibling}function ya(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),ya(r);break;case 1:ki(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&wv(r,r.return,a),ya(r);break;case 27:Jl(r.stateNode);case 26:case 5:ki(r,r.return),ya(r);break;case 22:r.memoizedState===null&&ya(r);break;case 30:ya(r);break;default:ya(r)}n=n.sibling}}function Wr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Wr(h,d,a),Hl(4,d);break;case 1:if(Wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){oe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cy(I[h],b)}catch(q){oe(l,l.return,q)}}a&&E&64&&Sv(d),Fl(d,d.return);break;case 27:Cv(d);case 26:case 5:Wr(h,d,a),a&&l===null&&E&4&&Rv(d),Fl(d,d.return);break;case 12:Wr(h,d,a);break;case 13:Wr(h,d,a),a&&E&4&&xv(h,d);break;case 22:d.memoizedState===null&&Wr(h,d,a),Fl(d,d.return);break;case 30:break;default:Wr(h,d,a)}r=r.sibling}}function Gd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Dl(a))}function Qd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dl(n))}function Ui(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kv(n,r,a,l),r=r.sibling}function kv(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ui(n,r,a,l),h&2048&&Hl(9,r);break;case 1:Ui(n,r,a,l);break;case 3:Ui(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dl(n)));break;case 12:if(h&2048){Ui(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){oe(r,r.return,I)}}else Ui(n,r,a,l);break;case 13:Ui(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Ui(n,r,a,l):Gl(n,r):d._visibility&2?Ui(n,r,a,l):(d._visibility|=2,mo(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Gd(E,r);break;case 24:Ui(n,r,a,l),h&2048&&Qd(r.alternate,r);break;default:Ui(n,r,a,l)}}function mo(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,b=a,I=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:mo(d,E,b,I,h),Hl(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?mo(d,E,b,I,h):Gl(d,E):(Y._visibility|=2,mo(d,E,b,I,h)),h&&q&2048&&Gd(E.alternate,E);break;case 24:mo(d,E,b,I,h),h&&q&2048&&Qd(E.alternate,E);break;default:mo(d,E,b,I,h)}r=r.sibling}}function Gl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Gl(a,l),h&2048&&Gd(l.alternate,l);break;case 24:Gl(a,l),h&2048&&Qd(l.alternate,l);break;default:Gl(a,l)}r=r.sibling}}var Ql=8192;function po(n){if(n.subtreeFlags&Ql)for(n=n.child;n!==null;)Uv(n),n=n.sibling}function Uv(n){switch(n.tag){case 26:po(n),n.flags&Ql&&n.memoizedState!==null&&p1(di,n.memoizedState,n.memoizedProps);break;case 5:po(n);break;case 3:case 4:var r=di;di=oh(n.stateNode.containerInfo),po(n),di=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ql,Ql=16777216,po(n),Ql=r):po(n));break;default:po(n)}}function Lv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Kl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qe=l,Bv(l,n)}Lv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&$r(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Xc(n)):Kl(n);break;default:Kl(n)}}function Xc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qe=l,Bv(l,n)}Lv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(r));break;default:Xc(r)}n=n.sibling}}function Bv(n,r){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=n;Qe!==null;){l=Qe;var h=l.sibling,d=l.return;if(Nv(l),l===a){Qe=null;break t}if(h!==null){h.return=d,Qe=h;break t}Qe=d}}}var NS={getCacheForType:function(n){var r=ln(Le),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},MS=typeof WeakMap=="function"?WeakMap:Map,Jt=0,le=null,kt=null,jt=0,te=0,Bn=null,Jr=!1,go=!1,Kd=!1,Ar=0,Ee=0,ts=0,va=0,Yd=0,ni=0,yo=0,Yl=null,Dn=null,Xd=!1,$d=0,$c=1/0,Zc=null,es=null,tn=0,ns=null,vo=null,_o=0,Zd=0,Wd=null,qv=null,Xl=0,Jd=null;function qn(){if((Jt&2)!==0&&jt!==0)return jt&-jt;if(j.T!==null){var n=so;return n!==0?n:am()}return Vn()}function jv(){ni===0&&(ni=(jt&536870912)===0||$t?Rn():536870912);var n=ei.current;return n!==null&&(n.flags|=32),ni}function jn(n,r,a){(n===le&&(te===2||te===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),is(n,jt,ni,!1)),Qn(n,a),((Jt&2)===0||n!==le)&&(n===le&&((Jt&2)===0&&(va|=a),Ee===4&&is(n,jt,ni,!1)),Li(n))}function Hv(n,r,a){if((Jt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Ji(n,r),h=l?PS(n,r):nm(n,r,!0),d=l;do{if(h===0){go&&!l&&is(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!xS(a)){h=nm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=n;h=Yl;var I=b.current.memoizedState.isDehydrated;if(I&&(Eo(b,E).flags|=256),E=nm(b,E,!1),E!==2){if(Kd&&!I){b.errorRecoveryDisabledLanes|=d,va|=d,h=4;break t}d=Dn,Dn=h,d!==null&&(Dn===null?Dn=d:Dn.push.apply(Dn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Eo(n,0),is(n,r,0,!0);break}t:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:is(l,r,ni,!Jr);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=$d+300-je(),10<h)){if(is(l,r,ni,!Jr),Wi(l,0,!0)!==0)break t;l.timeoutHandle=v_(Fv.bind(null,l,a,Dn,Zc,Xd,r,ni,va,yo,Jr,d,2,-0,0),h);break t}Fv(l,a,Dn,Zc,Xd,r,ni,va,yo,Jr,d,0,-0,0)}}break}while(!0);Li(n)}function Fv(n,r,a,l,h,d,E,b,I,q,Y,W,H,F){if(n.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:m1},Uv(r),W=g1(),W!==null)){n.cancelPendingCommit=W(Zv.bind(null,n,r,d,a,l,h,E,b,I,Y,1,H,F)),is(n,d,E,!q);return}Zv(n,r,d,a,l,h,E,b,I)}function xS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!kn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function is(n,r,a,l){r&=~Yd,r&=~va,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-Ce(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Tt(n,a,r)}function Wc(){return(Jt&6)===0?($l(0),!1):!0}function tm(){if(kt!==null){if(te===0)var n=kt.return;else n=kt,pr=fa=null,yd(n),ho=null,Bl=0,n=kt;for(;n!==null;)Av(n.alternate,n),n=n.return;kt=null}}function Eo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,ZS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),tm(),le=n,kt=a=fr(n.current,null),jt=r,te=0,Bn=null,Jr=!1,go=Ji(n,r),Kd=!1,yo=ni=Yd=va=ts=Ee=0,Dn=Yl=null,Xd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-Ce(l),d=1<<h;r|=n[h],l&=~d}return Ar=r,Ec(),a}function Gv(n,r){Mt=null,j.H=zc,r===Nl||r===Dc?(r=ly(),te=3):r===sy?(r=ly(),te=4):te=r===uv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,kt===null&&(Ee=1,Fc(n,Zn(r,n.current)))}function Qv(){var n=j.H;return j.H=zc,n===null?zc:n}function Kv(){var n=j.A;return j.A=NS,n}function em(){Ee=4,Jr||(jt&4194048)!==jt&&ei.current!==null||(go=!0),(ts&134217727)===0&&(va&134217727)===0||le===null||is(le,jt,ni,!1)}function nm(n,r,a){var l=Jt;Jt|=2;var h=Qv(),d=Kv();(le!==n||jt!==r)&&(Zc=null,Eo(n,r)),r=!1;var E=Ee;t:do try{if(te!==0&&kt!==null){var b=kt,I=Bn;switch(te){case 8:tm(),E=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(r=!0);var q=te;if(te=0,Bn=null,To(n,b,I,q),a&&go){E=0;break t}break;default:q=te,te=0,Bn=null,To(n,b,I,q)}}VS(),E=Ee;break}catch(Y){Gv(n,Y)}while(!0);return r&&n.shellSuspendCounter++,pr=fa=null,Jt=l,j.H=h,j.A=d,kt===null&&(le=null,jt=0,Ec()),E}function VS(){for(;kt!==null;)Yv(kt)}function PS(n,r){var a=Jt;Jt|=2;var l=Qv(),h=Kv();le!==n||jt!==r?(Zc=null,$c=je()+500,Eo(n,r)):go=Ji(n,r);t:do try{if(te!==0&&kt!==null){r=kt;var d=Bn;e:switch(te){case 1:te=0,Bn=null,To(n,r,d,1);break;case 2:case 9:if(ay(d)){te=0,Bn=null,Xv(r);break}r=function(){te!==2&&te!==9||le!==n||(te=7),Li(n)},d.then(r,r);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:ay(d)?(te=0,Bn=null,Xv(r)):(te=0,Bn=null,To(n,r,d,7));break;case 5:var E=null;switch(kt.tag){case 26:E=kt.memoizedState;case 5:case 27:var b=kt;if(!E||O_(E)){te=0,Bn=null;var I=b.sibling;if(I!==null)kt=I;else{var q=b.return;q!==null?(kt=q,Jc(q)):kt=null}break e}}te=0,Bn=null,To(n,r,d,5);break;case 6:te=0,Bn=null,To(n,r,d,6);break;case 8:tm(),Ee=6;break t;default:throw Error(s(462))}}kS();break}catch(Y){Gv(n,Y)}while(!0);return pr=fa=null,j.H=l,j.A=h,Jt=a,kt!==null?0:(le=null,jt=0,Ec(),Ee)}function kS(){for(;kt!==null&&!qs();)Yv(kt)}function Yv(n){var r=Tv(n.alternate,n,Ar);n.memoizedProps=n.pendingProps,r===null?Jc(n):kt=r}function Xv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=pv(a,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=pv(a,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:yd(r);default:Av(a,r),r=kt=$g(r,Ar),r=Tv(a,r,Ar)}n.memoizedProps=n.pendingProps,r===null?Jc(n):kt=r}function To(n,r,a,l){pr=fa=null,yd(r),ho=null,Bl=0;var h=r.return;try{if(wS(n,h,r,a,jt)){Ee=1,Fc(n,Zn(a,n.current)),kt=null;return}}catch(d){if(h!==null)throw kt=h,d;Ee=1,Fc(n,Zn(a,n.current)),kt=null;return}r.flags&32768?($t||l===1?n=!0:go||(jt&536870912)!==0?n=!1:(Jr=n=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),$v(r,n)):Jc(r)}function Jc(n){var r=n;do{if((r.flags&32768)!==0){$v(r,Jr);return}n=r.return;var a=IS(r.alternate,r,Ar);if(a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=n}while(r!==null);Ee===0&&(Ee=5)}function $v(n,r){do{var a=CS(n.alternate,n);if(a!==null){a.flags&=32767,kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){kt=n;return}kt=n=a}while(n!==null);Ee=6,kt=null}function Zv(n,r,a,l,h,d,E,b,I){n.cancelPendingCommit=null;do th();while(tn!==0);if((Jt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Qf,Ur(n,a,d,E,b,I),n===le&&(kt=le=null,jt=0),vo=r,ns=n,_o=a,Zd=d,Wd=h,qv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,BS(Xi,function(){return n_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,h=st.p,st.p=2,E=Jt,Jt|=4;try{DS(n,r,a)}finally{Jt=E,st.p=h,j.T=l}}tn=1,Wv(),Jv(),t_()}}function Wv(){if(tn===1){tn=0;var n=ns,r=vo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=st.p;st.p=2;var h=Jt;Jt|=4;try{Vv(r,n);var d=mm,E=Bg(n.containerInfo),b=d.focusedElem,I=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&zg(b.ownerDocument.documentElement,b)){if(I!==null&&qf(b)){var q=I.start,Y=I.end;if(Y===void 0&&(Y=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Y,b.value.length);else{var W=b.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var F=H.getSelection(),wt=b.textContent.length,bt=Math.min(I.start,wt),se=I.end===void 0?bt:Math.min(I.end,wt);!F.extend&&bt>se&&(E=se,se=bt,bt=E);var U=Lg(b,bt),N=Lg(b,se);if(U&&N&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=W.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),bt>se?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for(W=[],F=b;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var X=W[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}fh=!!dm,mm=dm=null}finally{Jt=h,st.p=l,j.T=a}}n.current=r,tn=2}}function Jv(){if(tn===2){tn=0;var n=ns,r=vo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=st.p;st.p=2;var h=Jt;Jt|=4;try{Ov(n,r.alternate,r)}finally{Jt=h,st.p=l,j.T=a}}tn=3}}function t_(){if(tn===4||tn===3){tn=0,js();var n=ns,r=vo,a=_o,l=qv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,vo=ns=null,e_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(es=null),De(a),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ae,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=j.T,h=st.p,st.p=2,j.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{j.T=r,st.p=h}}(_o&3)!==0&&th(),Li(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Jd?Xl++:(Xl=0,Jd=n):Xl=0,$l(0)}}function e_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Dl(r)))}function th(n){return Wv(),Jv(),t_(),n_()}function n_(){if(tn!==5)return!1;var n=ns,r=Zd;Zd=0;var a=De(_o),l=j.T,h=st.p;try{st.p=32>a?32:a,j.T=null,a=Wd,Wd=null;var d=ns,E=_o;if(tn=0,vo=ns=null,_o=0,(Jt&6)!==0)throw Error(s(331));var b=Jt;if(Jt|=4,zv(d.current),kv(d,d.current,E,a),Jt=b,$l(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{st.p=h,j.T=l,e_(n,r)}}function i_(n,r,a){r=Zn(a,r),r=Nd(n.stateNode,r,2),n=Qr(n,r,2),n!==null&&(Qn(n,2),Li(n))}function oe(n,r,a){if(n.tag===3)i_(n,n,a);else for(;r!==null;){if(r.tag===3){i_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){n=Zn(a,n),a=ov(2),l=Qr(r,a,2),l!==null&&(lv(a,l,r,n),Qn(l,2),Li(l));break}}r=r.return}}function im(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new MS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Kd=!0,h.add(a),n=US.bind(null,n,r,a),r.then(n,n))}function US(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,le===n&&(jt&a)===a&&(Ee===4||Ee===3&&(jt&62914560)===jt&&300>je()-$d?(Jt&2)===0&&Eo(n,0):Yd|=a,yo===jt&&(yo=0)),Li(n)}function r_(n,r){r===0&&(r=Fs()),n=eo(n,r),n!==null&&(Qn(n,r),Li(n))}function LS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),r_(n,a)}function zS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),r_(n,a)}function BS(n,r){return Yi(n,r)}var eh=null,bo=null,rm=!1,nh=!1,sm=!1,_a=0;function Li(n){n!==bo&&n.next===null&&(bo===null?eh=bo=n:bo=bo.next=n),nh=!0,rm||(rm=!0,jS())}function $l(n,r){if(!sm&&nh){sm=!0;do for(var a=!1,l=eh;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ce(42|n)+1)-1,d&=h&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(l,d))}else d=jt,d=Wi(l,l===le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ji(l,d)||(a=!0,l_(l,d));l=l.next}while(a);sm=!1}}function qS(){s_()}function s_(){nh=rm=!1;var n=0;_a!==0&&($S()&&(n=_a),_a=0);for(var r=je(),a=null,l=eh;l!==null;){var h=l.next,d=a_(l,r);d===0?(l.next=null,a===null?eh=h:a.next=h,h===null&&(bo=a)):(a=l,(n!==0||(d&3)!==0)&&(nh=!0)),l=h}$l(n)}function a_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Ce(d),b=1<<E,I=h[E];I===-1?((b&a)===0||(b&l)!==0)&&(h[E]=tr(b,r)):I<=r&&(n.expiredLanes|=b),d&=~b}if(r=le,a=jt,a=Wi(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(te===2||te===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ji(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ai(l),De(a)){case 2:case 8:a=kr;break;case 32:a=Xi;break;case 268435456:a=xn;break;default:a=Xi}return l=o_.bind(null,n),a=Yi(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ai(l),n.callbackPriority=2,n.callbackNode=null,2}function o_(n,r){if(tn!==0&&tn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(th()&&n.callbackNode!==a)return null;var l=jt;return l=Wi(n,n===le?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Hv(n,l,r),a_(n,je()),n.callbackNode!=null&&n.callbackNode===a?o_.bind(null,n):null)}function l_(n,r){if(th())return null;Hv(n,r,!0)}function jS(){WS(function(){(Jt&6)!==0?Yi(gn,qS):s_()})}function am(){return _a===0&&(_a=Rn()),_a}function u_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ha(""+n)}function c_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function HS(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=u_((h[Qt]||null).action),E=l.submitter;E&&(r=(r=E[Qt]||null)?u_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new Fa("action","action",null,l,h);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var I=E?c_(h,E):new FormData(h);Rd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=E?c_(h,E):new FormData(h),Rd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var om=0;om<Gf.length;om++){var lm=Gf[om],FS=lm.toLowerCase(),GS=lm[0].toUpperCase()+lm.slice(1);fi(FS,"on"+GS)}fi(Hg,"onAnimationEnd"),fi(Fg,"onAnimationIteration"),fi(Gg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(lS,"onTransitionRun"),fi(uS,"onTransitionStart"),fi(cS,"onTransitionCancel"),fi(Qg,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function h_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],I=b.instance,q=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=q;try{d(h)}catch(Y){Hc(Y)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(b=l[E],I=b.instance,q=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=q;try{d(h)}catch(Y){Hc(Y)}h.currentTarget=null,d=I}}}}function Ut(n,r){var a=r[Lr];a===void 0&&(a=r[Lr]=new Set);var l=n+"__bubble";a.has(l)||(f_(r,n,2,!1),a.add(l))}function um(n,r,a){var l=0;r&&(l|=4),f_(a,n,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[ih]){n[ih]=!0,ul.forEach(function(a){a!=="selectionchange"&&(QS.has(a)||um(a,!1,n),um(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[ih]||(r[ih]=!0,um("selectionchange",!1,r))}}function f_(n,r,a,l){switch(k_(r)){case 2:var h=_1;break;case 8:h=E1;break;default:h=Sm}a=h.bind(null,r,a,n),h=void 0,!Xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function hm(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=nr(b),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue t}b=b.parentNode}}l=l.return}sc(function(){var q=d,Y=Yn(a),W=[];t:{var H=Kg.get(n);if(H!==void 0){var F=Fa,wt=n;switch(n){case"keypress":if(Di(a)===0)break t;case"keydown":case"keyup":F=$a;break;case"focusin":wt="focus",F=Ka;break;case"focusout":wt="blur",F=Ka;break;case"beforeblur":case"afterblur":F=Ka;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=dc;break;case Hg:case Fg:case Gg:F=Ya;break;case Qg:F=pc;break;case"scroll":case"scrollend":F=ac;break;case"wheel":F=Za;break;case"copy":case"cut":case"paste":F=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Tl;break;case"toggle":case"beforetoggle":F=yc}var bt=(r&4)!==0,se=!bt&&(n==="scroll"||n==="scrollend"),U=bt?H!==null?H+"Capture":null:H;bt=[];for(var N=q,z;N!==null;){var X=N;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=Ws(N,U),X!=null&&bt.push(Wl(N,X,z))),se)break;N=N.return}0<bt.length&&(H=new F(H,wt,null,a,Y),W.push({event:H,listeners:bt}))}}if((r&7)===0){t:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==ar&&(wt=a.relatedTarget||a.fromElement)&&(nr(wt)||wt[me]))break t;if((F||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,F?(wt=a.relatedTarget||a.toElement,F=q,wt=wt?nr(wt):null,wt!==null&&(se=u(wt),bt=wt.tag,wt!==se||bt!==5&&bt!==27&&bt!==6)&&(wt=null)):(F=null,wt=q),F!==wt)){if(bt=$n,X="onMouseLeave",U="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(bt=Tl,X="onPointerLeave",U="onPointerEnter",N="pointer"),se=F==null?H:wi(F),z=wt==null?H:wi(wt),H=new bt(X,N+"leave",F,a,Y),H.target=se,H.relatedTarget=z,X=null,nr(Y)===q&&(bt=new bt(U,N+"enter",wt,a,Y),bt.target=z,bt.relatedTarget=se,X=bt),se=X,F&&wt)e:{for(bt=F,U=wt,N=0,z=bt;z;z=Ao(z))N++;for(z=0,X=U;X;X=Ao(X))z++;for(;0<N-z;)bt=Ao(bt),N--;for(;0<z-N;)U=Ao(U),z--;for(;N--;){if(bt===U||U!==null&&bt===U.alternate)break e;bt=Ao(bt),U=Ao(U)}bt=null}else bt=null;F!==null&&d_(W,H,F,bt,!1),wt!==null&&se!==null&&d_(W,se,wt,bt,!0)}}t:{if(H=q?wi(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var gt=Mg;else if(Ue(H))if(xg)gt=sS;else{gt=iS;var Vt=nS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ml(q.elementType)&&(gt=Mg):gt=rS;if(gt&&(gt=gt(n,q))){hr(W,gt,a,Y);break t}Vt&&Vt(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&qr(H,"number",H.value)}switch(Vt=q?wi(q):window,n){case"focusin":(Ue(Vt)||Vt.contentEditable==="true")&&(Wa=Vt,jf=q,Sl=null);break;case"focusout":Sl=jf=Wa=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,qg(W,a,Y);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":qg(W,a,Y)}var vt;if(Mi)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Bt?Q(n,a)&&(At="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(v&&a.locale!=="ko"&&(Bt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Bt&&(vt=gl()):(Ci=Y,jr="value"in Ci?Ci.value:Ci.textContent,Bt=!0)),Vt=rh(q,At),0<Vt.length&&(At=new _l(At,n,null,a,Y),W.push({event:At,listeners:Vt}),vt?At.data=vt:(vt=at(a),vt!==null&&(At.data=vt)))),(vt=g?ke(n,a):qt(n,a))&&(At=rh(q,"onBeforeInput"),0<At.length&&(Vt=new _l("onBeforeInput","beforeinput",null,a,Y),W.push({event:Vt,listeners:At}),Vt.data=vt)),HS(W,n,q,a,Y)}h_(W,r)})}function Wl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function rh(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ws(n,a),h!=null&&l.unshift(Wl(n,h,d)),h=Ws(n,r),h!=null&&l.push(Wl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function Ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d_(n,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,I=b.alternate,q=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||q===null||(I=q,h?(q=Ws(a,d),q!=null&&E.unshift(Wl(a,q,I))):h||(q=Ws(a,d),q!=null&&E.push(Wl(a,q,I)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var KS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function m_(n){return(typeof n=="string"?n:""+n).replace(KS,`
`).replace(YS,"")}function p_(n,r){return r=m_(r),m_(n)===r}function sh(){}function re(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Kn(n,""+l);break;case"className":Ri(n,"class",l);break;case"tabIndex":Ri(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(n,a,l);break;case"style":dl(n,l,d);break;case"data":if(r!=="object"){Ri(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&re(n,r,"name",h.name,h,null),re(n,r,"formEncType",h.formEncType,h,null),re(n,r,"formMethod",h.formMethod,h,null),re(n,r,"formTarget",h.formTarget,h,null)):(re(n,r,"encType",h.encType,h,null),re(n,r,"method",h.method,h,null),re(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=sh);break;case"onScroll":l!=null&&Ut("scroll",n);break;case"onScrollEnd":l!=null&&Ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ha(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ut("beforetoggle",n),Ut("toggle",n),Br(n,"popover",l);break;case"xlinkActuate":Ze(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ze(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ze(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ze(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ze(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ze(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ze(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ze(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ze(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pf.get(a)||a,Br(n,a,l))}}function fm(n,r,a,l,h,d){switch(a){case"style":dl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&Kn(n,""+l);break;case"onScroll":l!=null&&Ut("scroll",n);break;case"onScrollEnd":l!=null&&Ut("scrollend",n);break;case"onClick":l!=null&&(n.onclick=sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Br(n,a,l)}}}function en(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",n),Ut("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(n,r,d,E,a,null)}}h&&re(n,r,"srcSet",a.srcSet,a,null),l&&re(n,r,"src",a.src,a,null);return;case"input":Ut("invalid",n);var b=d=E=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":I=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:re(n,r,l,Y,a,null)}}Xs(n,d,b,I,q,E,h,!1),ja(n);return;case"select":Ut("invalid",n),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:re(n,r,h,b,a,null)}r=d,a=E,n.multiple=!!l,r!=null?sr(n,!!l,r,!1):a!=null&&sr(n,!!l,a,!0);return;case"textarea":Ut("invalid",n),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:re(n,r,E,b,a,null)}$s(n,l,h,d),ja(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(n,r,I,l,a,null)}return;case"dialog":Ut("beforetoggle",n),Ut("toggle",n),Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":Ut("load",n);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Ut(Zl[l],n);break;case"image":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"embed":case"source":case"link":Ut("error",n),Ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(n,r,q,l,a,null)}return;default:if(ml(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&fm(n,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&re(n,r,b,l,a,null))}function XS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,b=null,I=null,q=null,Y=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(F)||re(n,r,F,null,l,W)}}for(var H in l){var F=l[H];if(W=a[H],l.hasOwnProperty(H)&&(F!=null||W!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":Y=F;break;case"value":E=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==W&&re(n,r,H,F,l,W)}}Pn(n,E,b,I,q,Y,d,h);return;case"select":F=E=b=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||re(n,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==I&&re(n,r,h,d,l,I)}r=b,a=E,l=F,H!=null?sr(n,!!a,H,!1):!!l!=!!a&&(r!=null?sr(n,!!a,r,!0):sr(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:re(n,r,b,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&re(n,r,E,h,l,d)}ne(n,H,F);return;case"option":for(var wt in a)if(H=a[wt],a.hasOwnProperty(wt)&&H!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":n.selected=!1;break;default:re(n,r,wt,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:re(n,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)H=a[bt],a.hasOwnProperty(bt)&&H!=null&&!l.hasOwnProperty(bt)&&re(n,r,bt,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:re(n,r,q,H,l,F)}return;default:if(ml(r)){for(var se in a)H=a[se],a.hasOwnProperty(se)&&H!==void 0&&!l.hasOwnProperty(se)&&fm(n,r,se,void 0,l,H);for(Y in l)H=l[Y],F=a[Y],!l.hasOwnProperty(Y)||H===F||H===void 0&&F===void 0||fm(n,r,Y,H,l,F);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&re(n,r,U,null,l,H);for(W in l)H=l[W],F=a[W],!l.hasOwnProperty(W)||H===F||H==null&&F==null||re(n,r,W,H,l,F)}var dm=null,mm=null;function ah(n){return n.nodeType===9?n:n.ownerDocument}function g_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function pm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gm=null;function $S(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(n){return __.resolve(null).then(n).catch(JS)}:v_;function JS(n){setTimeout(function(){throw n})}function rs(n){return n==="head"}function E_(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Jl(E.documentElement),a&2&&Jl(E.body),a&4)for(a=E.head,Jl(a),E=a.firstChild;E;){var b=E.nextSibling,I=E.nodeName;E[Gs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){n.removeChild(d),ou(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ou(r)}function ym(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),zr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function t1(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Gs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=mi(n.nextSibling),n===null)break}return null}function e1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mi(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function n1(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function mi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var _m=null;function T_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function b_(n,r,a){switch(r=ah(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Jl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);zr(n)}var ii=new Map,A_=new Set;function oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Sr=st.d;st.d={f:i1,r:r1,D:s1,C:a1,L:o1,m:l1,X:c1,S:u1,M:h1};function i1(){var n=Sr.f(),r=Wc();return n||r}function r1(n){var r=Si(n);r!==null&&r.tag===5&&r.type==="form"?Hy(r):Sr.r(n)}var So=typeof document>"u"?null:document;function S_(n,r,a){var l=So;if(l&&typeof r=="string"&&r){var h=Oe(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),en(r,"link",n),Ae(r),l.head.appendChild(r)))}}function s1(n){Sr.D(n),S_("dns-prefetch",n,null)}function a1(n,r){Sr.C(n,r),S_("preconnect",n,r)}function o1(n,r,a){Sr.L(n,r,a);var l=So;if(l&&n&&r){var h='link[rel="preload"][as="'+Oe(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Oe(a.imageSizes)+'"]')):h+='[href="'+Oe(n)+'"]';var d=h;switch(r){case"style":d=wo(n);break;case"script":d=Ro(n)}ii.has(d)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ii.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(tu(d))||r==="script"&&l.querySelector(eu(d))||(r=l.createElement("link"),en(r,"link",n),Ae(r),l.head.appendChild(r)))}}function l1(n,r){Sr.m(n,r);var a=So;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Oe(l)+'"][href="'+Oe(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ro(n)}if(!ii.has(d)&&(n=T({rel:"modulepreload",href:n},r),ii.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(d)))return}l=a.createElement("link"),en(l,"link",n),Ae(l),a.head.appendChild(l)}}}function u1(n,r,a){Sr.S(n,r,a);var l=So;if(l&&n){var h=yn(l).hoistableStyles,d=wo(n);r=r||"default";var E=h.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(tu(d)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ii.get(d))&&Em(n,a);var I=E=l.createElement("link");Ae(I),en(I,"link",n),I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,lh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(d,E)}}}function c1(n,r){Sr.X(n,r);var a=So;if(a&&n){var l=yn(a).hoistableScripts,h=Ro(n),d=l.get(h);d||(d=a.querySelector(eu(h)),d||(n=T({src:n,async:!0},r),(r=ii.get(h))&&Tm(n,r),d=a.createElement("script"),Ae(d),en(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h1(n,r){Sr.M(n,r);var a=So;if(a&&n){var l=yn(a).hoistableScripts,h=Ro(n),d=l.get(h);d||(d=a.querySelector(eu(h)),d||(n=T({src:n,async:!0,type:"module"},r),(r=ii.get(h))&&Tm(n,r),d=a.createElement("script"),Ae(d),en(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function w_(n,r,a,l){var h=(h=ct.current)?oh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=wo(a.href),a=yn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=wo(a.href);var d=yn(h).hoistableStyles,E=d.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=h.querySelector(tu(n)))&&!d._p&&(E.instance=d,E.state.loading=5),ii.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(n,a),d||f1(h,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(a),a=yn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function wo(n){return'href="'+Oe(n)+'"'}function tu(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function f1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),en(r,"link",a),Ae(r),n.head.appendChild(r))}function Ro(n){return'[src="'+Oe(n)+'"]'}function eu(n){return"script[async]"+n}function I_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Oe(a.href)+'"]');if(l)return r.instance=l,Ae(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ae(l),en(l,"style",h),lh(l,a.precedence,n),r.instance=l;case"stylesheet":h=wo(a.href);var d=n.querySelector(tu(h));if(d)return r.state.loading|=4,r.instance=d,Ae(d),d;l=R_(a),(h=ii.get(h))&&Em(l,h),d=(n.ownerDocument||n).createElement("link"),Ae(d);var E=d;return E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),en(d,"link",l),r.state.loading|=4,lh(d,a.precedence,n),r.instance=d;case"script":return d=Ro(a.src),(h=n.querySelector(eu(d)))?(r.instance=h,Ae(h),h):(l=a,(h=ii.get(d))&&(l=T({},a),Tm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ae(h),en(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,lh(l,a.precedence,n));return r.instance}function lh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Em(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var uh=null;function C_(n,r,a){if(uh===null){var l=new Map,h=uh=new Map;h.set(a,l)}else h=uh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Gs]||d[de]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function D_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function d1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function O_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var nu=null;function m1(){}function p1(n,r,a){if(nu===null)throw Error(s(475));var l=nu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=wo(a.href),d=n.querySelector(tu(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=ch.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,Ae(d);return}d=n.ownerDocument||n,a=R_(a),(h=ii.get(h))&&Em(a,h),d=d.createElement("link"),Ae(d);var E=d;E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),en(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ch.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function g1(){if(nu===null)throw Error(s(475));var n=nu;return n.stylesheets&&n.count===0&&bm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&bm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function ch(){if(this.count--,this.count===0){if(this.stylesheets)bm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function bm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,r.forEach(y1,n),hh=null,ch.call(n))}function y1(n,r){if(!(r.state.loading&4)){var a=hh.get(n);if(a)var l=a.get(null);else{a=new Map,hh.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=ch.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var iu={$$typeof:nt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function v1(n,r,a,l,h,d,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function N_(n,r,a,l,h,d,E,b,I,q,Y,W){return n=new v1(n,r,a,E,b,I,q,W),r=1,d===!0&&(r|=24),d=Un(3,null,null,r),n.current=d,d.stateNode=n,r=id(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},od(d),n}function M_(n){return n?(n=no,n):no}function x_(n,r,a,l,h,d){h=M_(h),l.context===null?l.context=h:l.pendingContext=h,l=Gr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qr(n,l,r),a!==null&&(jn(a,n,r),xl(a,n,r))}function V_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Am(n,r){V_(n,r),(n=n.alternate)&&V_(n,r)}function P_(n){if(n.tag===13){var r=eo(n,67108864);r!==null&&jn(r,n,67108864),Am(n,67108864)}}var fh=!0;function _1(n,r,a,l){var h=j.T;j.T=null;var d=st.p;try{st.p=2,Sm(n,r,a,l)}finally{st.p=d,j.T=h}}function E1(n,r,a,l){var h=j.T;j.T=null;var d=st.p;try{st.p=8,Sm(n,r,a,l)}finally{st.p=d,j.T=h}}function Sm(n,r,a,l){if(fh){var h=wm(l);if(h===null)hm(n,r,l,dh,a),U_(n,l);else if(b1(h,n,r,a,l))l.stopPropagation();else if(U_(n,l),r&4&&-1<T1.indexOf(n)){for(;h!==null;){var d=Si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=wn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var I=1<<31-Ce(E);b.entanglements[1]|=I,E&=~I}Li(d),(Jt&6)===0&&($c=je()+500,$l(0))}}break;case 13:b=eo(d,2),b!==null&&jn(b,d,2),Wc(),Am(d,2)}if(d=wm(l),d===null&&hm(n,r,l,dh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hm(n,r,l,null,a)}}function wm(n){return n=Yn(n),Rm(n)}var dh=null;function Rm(n){if(dh=null,n=nr(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return dh=n,null}function k_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case gn:return 2;case kr:return 8;case Xi:case $e:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Im=!1,ss=null,as=null,os=null,ru=new Map,su=new Map,ls=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(n,r){switch(n){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(r.pointerId)}}function au(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Si(r),r!==null&&P_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function b1(n,r,a,l,h){switch(r){case"focusin":return ss=au(ss,n,r,a,l,h),!0;case"dragenter":return as=au(as,n,r,a,l,h),!0;case"mouseover":return os=au(os,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return ru.set(d,au(ru.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,su.set(d,au(su.get(d)||null,n,r,a,l,h)),!0}return!1}function L_(n){var r=nr(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,ve(n.priority,function(){if(a.tag===13){var l=qn();l=ue(l);var h=eo(a,l);h!==null&&jn(h,a,l),Am(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=wm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ar=l,a.target.dispatchEvent(l),ar=null}else return r=Si(a),r!==null&&P_(r),n.blockedOn=a,!1;r.shift()}return!0}function z_(n,r,a){mh(n)&&a.delete(r)}function A1(){Im=!1,ss!==null&&mh(ss)&&(ss=null),as!==null&&mh(as)&&(as=null),os!==null&&mh(os)&&(os=null),ru.forEach(z_),su.forEach(z_)}function ph(n,r){n.blockedOn===r&&(n.blockedOn=null,Im||(Im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,A1)))}var gh=null;function B_(n){gh!==n&&(gh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===n&&(gh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var d=Si(a);d!==null&&(n.splice(r,3),r-=3,Rd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ou(n){function r(I){return ph(I,n)}ss!==null&&ph(ss,n),as!==null&&ph(as,n),os!==null&&ph(os,n),ru.forEach(r),su.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&ls.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Qt]||null;if(typeof d=="function")E||B_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Qt]||null)b=E.formAction;else if(Rm(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),B_(a)}}}function Cm(n){this._internalRoot=n}yh.prototype.render=Cm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=qn();x_(a,l,n,r,null,null)},yh.prototype.unmount=Cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;x_(n.current,2,null,n,null,null),Wc(),r[me]=null}};function yh(n){this._internalRoot=n}yh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Vn();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,n),a===0&&L_(n)}};var q_=t.version;if(q_!=="19.1.0")throw Error(s(527,q_,"19.1.0"));st.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var S1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{ae=vh.inject(S1),Xt=vh}catch{}}return uu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=iv,d=rv,E=sv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=N_(n,1,!1,null,null,a,l,h,d,E,b,null),n[me]=r.current,cm(n),new Cm(r)},uu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=iv,E=rv,b=sv,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=N_(n,1,!0,r,a??null,l,h,d,E,b,I,q),r.context=M_(null),a=r.current,l=qn(),l=ue(l),h=Gr(l),h.callback=null,Qr(a,h,l),a=l,r.current.lanes=a,Qn(r,a),Li(r),n[me]=r.current,cm(n),new yh(r)},uu.version="19.1.0",uu}var W_;function P1(){if(W_)return Mm.exports;W_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mm.exports=V1(),Mm.exports}var k1=P1();const U1="modulepreload",L1=function(i){return"/multi-tenant-app/"+i},J_={},lf=function(t,e,s){let o=Promise.resolve();if(e&&e.length>0){let f=function(y){return Promise.all(y.map(T=>Promise.resolve(T).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(e.map(y=>{if(y=L1(y),y in J_)return;J_[y]=!0;const T=y.endsWith(".css"),_=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const S=document.createElement("link");if(S.rel=T?"stylesheet":U1,T||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),T)return new Promise((P,B)=>{S.addEventListener("load",P),S.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};var z1=aT();const B1=sT(z1);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Au.apply(this,arguments)}var Ts;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Ts||(Ts={}));const t0="popstate";function q1(i){i===void 0&&(i={});function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Jm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(s,o){return typeof o=="string"?o:zh(o)}return H1(t,e,null,i)}function Ie(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function oT(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j1(){return Math.random().toString(36).substr(2,8)}function e0(i,t){return{usr:i.state,key:i.key,idx:t}}function Jm(i,t,e,s){return e===void 0&&(e=null),Au({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof t=="string"?el(t):t,{state:e,key:t&&t.key||s||j1()})}function zh(i){let{pathname:t="/",search:e="",hash:s=""}=i;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function el(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substr(e),i=i.substr(0,e));let s=i.indexOf("?");s>=0&&(t.search=i.substr(s),i=i.substr(0,s)),i&&(t.pathname=i)}return t}function H1(i,t,e,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=Ts.Pop,p=null,y=T();y==null&&(y=0,f.replaceState(Au({},f.state,{idx:y}),""));function T(){return(f.state||{idx:null}).idx}function _(){m=Ts.Pop;let V=T(),rt=V==null?null:V-y;y=V,p&&p({action:m,location:G.location,delta:rt})}function S(V,rt){m=Ts.Push;let ot=Jm(G.location,V,rt);y=T()+1;let nt=e0(ot,y),pt=G.createHref(ot);try{f.pushState(nt,"",pt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(pt)}u&&p&&p({action:m,location:G.location,delta:1})}function P(V,rt){m=Ts.Replace;let ot=Jm(G.location,V,rt);y=T();let nt=e0(ot,y),pt=G.createHref(ot);f.replaceState(nt,"",pt),u&&p&&p({action:m,location:G.location,delta:0})}function B(V){let rt=o.location.origin!=="null"?o.location.origin:o.location.href,ot=typeof V=="string"?V:zh(V);return ot=ot.replace(/ $/,"%20"),Ie(rt,"No window.location.(origin|href) available to create URL for href: "+ot),new URL(ot,rt)}let G={get action(){return m},get location(){return i(o,f)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(t0,_),p=V,()=>{o.removeEventListener(t0,_),p=null}},createHref(V){return t(o,V)},createURL:B,encodeLocation(V){let rt=B(V);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:S,replace:P,go(V){return f.go(V)}};return G}var n0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(n0||(n0={}));function F1(i,t,e){return e===void 0&&(e="/"),G1(i,t,e)}function G1(i,t,e,s){let o=typeof t=="string"?el(t):t,u=Np(o.pathname||"/",e);if(u==null)return null;let f=lT(i);Q1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=rw(u);m=ew(f[p],y)}return m}function lT(i,t,e,s){t===void 0&&(t=[]),e===void 0&&(e=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ie(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=As([s,p.relativePath]),T=e.concat(p);u.children&&u.children.length>0&&(Ie(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),lT(u.children,t,T,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:J1(y,u.index),routesMeta:T})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of uT(u.path))o(u,f,p)}),t}function uT(i){let t=i.split("/");if(t.length===0)return[];let[e,...s]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=uT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Q1(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:tw(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}const K1=/^:[\w-]+$/,Y1=3,X1=2,$1=1,Z1=10,W1=-2,i0=i=>i==="*";function J1(i,t){let e=i.split("/"),s=e.length;return e.some(i0)&&(s+=W1),t&&(s+=X1),e.filter(o=>!i0(o)).reduce((o,u)=>o+(K1.test(u)?Y1:u===""?$1:Z1),s)}function tw(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function ew(i,t,e){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",_=nw({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),S=p.route;if(!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:As([u,_.pathname]),pathnameBase:lw(As([u,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(u=As([u,_.pathnameBase]))}return f}function nw(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,s]=iw(i.path,i.caseSensitive,i.end),o=t.match(e);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,T,_)=>{let{paramName:S,isOptional:P}=T;if(S==="*"){let G=m[_]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const B=m[_];return P&&!B?y[S]=void 0:y[S]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function iw(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),oT(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function rw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oT(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),i}}function Np(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=i.charAt(e);return s&&s!=="/"?null:i.slice(e)||"/"}function sw(i,t){t===void 0&&(t="/");let{pathname:e,search:s="",hash:o=""}=typeof i=="string"?el(i):i;return{pathname:e?e.startsWith("/")?e:aw(e,t):t,search:uw(s),hash:cw(o)}}function aw(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function km(i,t,e,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ow(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Mp(i,t){let e=ow(i);return t?e.map((s,o)=>o===e.length-1?s.pathname:s.pathnameBase):e.map(s=>s.pathnameBase)}function xp(i,t,e,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=el(i):(o=Au({},i),Ie(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=e;else{let _=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}m=_>=0?t[_]:"/"}let p=sw(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}const As=i=>i.join("/").replace(/\/\/+/g,"/"),lw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,cw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function hw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const cT=["post","put","patch","delete"];new Set(cT);const fw=["get",...cT];new Set(fw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Su.apply(this,arguments)}const Vp=it.createContext(null),dw=it.createContext(null),Us=it.createContext(null),uf=it.createContext(null),Vr=it.createContext({outlet:null,matches:[],isDataRoute:!1}),hT=it.createContext(null);function mw(i,t){let{relative:e}=t===void 0?{}:t;nl()||Ie(!1);let{basename:s,navigator:o}=it.useContext(Us),{hash:u,pathname:f,search:m}=mT(i,{relative:e}),p=f;return s!=="/"&&(p=f==="/"?s:As([s,f])),o.createHref({pathname:p,search:m,hash:u})}function nl(){return it.useContext(uf)!=null}function Lu(){return nl()||Ie(!1),it.useContext(uf).location}function fT(i){it.useContext(Us).static||it.useLayoutEffect(i)}function dT(){let{isDataRoute:i}=it.useContext(Vr);return i?Dw():pw()}function pw(){nl()||Ie(!1);let i=it.useContext(Vp),{basename:t,future:e,navigator:s}=it.useContext(Us),{matches:o}=it.useContext(Vr),{pathname:u}=Lu(),f=JSON.stringify(Mp(o,e.v7_relativeSplatPath)),m=it.useRef(!1);return fT(()=>{m.current=!0}),it.useCallback(function(y,T){if(T===void 0&&(T={}),!m.current)return;if(typeof y=="number"){s.go(y);return}let _=xp(y,JSON.parse(f),u,T.relative==="path");i==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:As([t,_.pathname])),(T.replace?s.replace:s.push)(_,T.state,T)},[t,s,f,u,i])}const gw=it.createContext(null);function yw(i){let t=it.useContext(Vr).outlet;return t&&it.createElement(gw.Provider,{value:i},t)}function mT(i,t){let{relative:e}=t===void 0?{}:t,{future:s}=it.useContext(Us),{matches:o}=it.useContext(Vr),{pathname:u}=Lu(),f=JSON.stringify(Mp(o,s.v7_relativeSplatPath));return it.useMemo(()=>xp(i,JSON.parse(f),u,e==="path"),[i,f,u,e])}function vw(i,t){return _w(i,t)}function _w(i,t,e,s){nl()||Ie(!1);let{navigator:o}=it.useContext(Us),{matches:u}=it.useContext(Vr),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=Lu(),T;if(t){var _;let V=typeof t=="string"?el(t):t;p==="/"||(_=V.pathname)!=null&&_.startsWith(p)||Ie(!1),T=V}else T=y;let S=T.pathname||"/",P=S;if(p!=="/"){let V=p.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let B=F1(i,{pathname:P}),G=Sw(B&&B.map(V=>Object.assign({},V,{params:Object.assign({},m,V.params),pathname:As([p,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:As([p,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,e,s);return t&&G?it.createElement(uf.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Ts.Pop}},G):G}function Ew(){let i=Cw(),t=hw(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return it.createElement(it.Fragment,null,it.createElement("h2",null,"Unexpected Application Error!"),it.createElement("h3",{style:{fontStyle:"italic"}},t),e?it.createElement("pre",{style:o},e):null,null)}const Tw=it.createElement(Ew,null);class bw extends it.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?it.createElement(Vr.Provider,{value:this.props.routeContext},it.createElement(hT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aw(i){let{routeContext:t,match:e,children:s}=i,o=it.useContext(Vp);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),it.createElement(Vr.Provider,{value:t},s)}function Sw(i,t,e,s){var o;if(t===void 0&&(t=[]),e===void 0&&(e=null),s===void 0&&(s=null),i==null){var u;if(!e)return null;if(e.errors)i=e.matches;else if((u=s)!=null&&u.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let f=i,m=(o=e)==null?void 0:o.errors;if(m!=null){let T=f.findIndex(_=>_.route.id&&(m==null?void 0:m[_.route.id])!==void 0);T>=0||Ie(!1),f=f.slice(0,Math.min(f.length,T+1))}let p=!1,y=-1;if(e&&s&&s.v7_partialHydration)for(let T=0;T<f.length;T++){let _=f[T];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=T),_.route.id){let{loaderData:S,errors:P}=e,B=_.route.loader&&S[_.route.id]===void 0&&(!P||P[_.route.id]===void 0);if(_.route.lazy||B){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((T,_,S)=>{let P,B=!1,G=null,V=null;e&&(P=m&&_.route.id?m[_.route.id]:void 0,G=_.route.errorElement||Tw,p&&(y<0&&S===0?(Ow("route-fallback"),B=!0,V=null):y===S&&(B=!0,V=_.route.hydrateFallbackElement||null)));let rt=t.concat(f.slice(0,S+1)),ot=()=>{let nt;return P?nt=G:B?nt=V:_.route.Component?nt=it.createElement(_.route.Component,null):_.route.element?nt=_.route.element:nt=T,it.createElement(Aw,{match:_,routeContext:{outlet:T,matches:rt,isDataRoute:e!=null},children:nt})};return e&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?it.createElement(bw,{location:e.location,revalidation:e.revalidation,component:G,error:P,children:ot(),routeContext:{outlet:null,matches:rt,isDataRoute:!0}}):ot()},null)}var pT=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(pT||{}),gT=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(gT||{});function ww(i){let t=it.useContext(Vp);return t||Ie(!1),t}function Rw(i){let t=it.useContext(dw);return t||Ie(!1),t}function Iw(i){let t=it.useContext(Vr);return t||Ie(!1),t}function yT(i){let t=Iw(),e=t.matches[t.matches.length-1];return e.route.id||Ie(!1),e.route.id}function Cw(){var i;let t=it.useContext(hT),e=Rw(),s=yT();return t!==void 0?t:(i=e.errors)==null?void 0:i[s]}function Dw(){let{router:i}=ww(pT.UseNavigateStable),t=yT(gT.UseNavigateStable),e=it.useRef(!1);return fT(()=>{e.current=!0}),it.useCallback(function(o,u){u===void 0&&(u={}),e.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,Su({fromRouteId:t},u)))},[i,t])}const r0={};function Ow(i,t,e){r0[i]||(r0[i]=!0)}function Nw(i,t){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Mw(i){let{to:t,replace:e,state:s,relative:o}=i;nl()||Ie(!1);let{future:u,static:f}=it.useContext(Us),{matches:m}=it.useContext(Vr),{pathname:p}=Lu(),y=dT(),T=xp(t,Mp(m,u.v7_relativeSplatPath),p,o==="path"),_=JSON.stringify(T);return it.useEffect(()=>y(JSON.parse(_),{replace:e,state:s,relative:o}),[y,_,o,e,s]),null}function xw(i){return yw(i.context)}function Io(i){Ie(!1)}function Vw(i){let{basename:t="/",children:e=null,location:s,navigationType:o=Ts.Pop,navigator:u,static:f=!1,future:m}=i;nl()&&Ie(!1);let p=t.replace(/^\/*/,"/"),y=it.useMemo(()=>({basename:p,navigator:u,static:f,future:Su({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=el(s));let{pathname:T="/",search:_="",hash:S="",state:P=null,key:B="default"}=s,G=it.useMemo(()=>{let V=Np(T,p);return V==null?null:{location:{pathname:V,search:_,hash:S,state:P,key:B},navigationType:o}},[p,T,_,S,P,B,o]);return G==null?null:it.createElement(Us.Provider,{value:y},it.createElement(uf.Provider,{children:e,value:G}))}function Pw(i){let{children:t,location:e}=i;return vw(tp(t),e)}new Promise(()=>{});function tp(i,t){t===void 0&&(t=[]);let e=[];return it.Children.forEach(i,(s,o)=>{if(!it.isValidElement(s))return;let u=[...t,o];if(s.type===it.Fragment){e.push.apply(e,tp(s.props.children,u));return}s.type!==Io&&Ie(!1),!s.props.index||!s.props.children||Ie(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=tp(s.props.children,u)),e.push(f)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},ep.apply(this,arguments)}function kw(i,t){if(i==null)return{};var e={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(t.indexOf(o)>=0)&&(e[o]=i[o]);return e}function Uw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Lw(i,t){return i.button===0&&(!t||t==="_self")&&!Uw(i)}const zw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bw="6";try{window.__reactRouterVersion=Bw}catch{}const qw="startTransition",s0=O1[qw];function jw(i){let{basename:t,children:e,future:s,window:o}=i,u=it.useRef();u.current==null&&(u.current=q1({window:o,v5Compat:!0}));let f=u.current,[m,p]=it.useState({action:f.action,location:f.location}),{v7_startTransition:y}=s||{},T=it.useCallback(_=>{y&&s0?s0(()=>p(_)):p(_)},[p,y]);return it.useLayoutEffect(()=>f.listen(T),[f,T]),it.useEffect(()=>Nw(s),[s]),it.createElement(Vw,{basename:t,children:e,location:m.location,navigationType:m.action,navigator:f,future:s})}const Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ux=it.forwardRef(function(t,e){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:_}=t,S=kw(t,zw),{basename:P}=it.useContext(Us),B,G=!1;if(typeof y=="string"&&Fw.test(y)&&(B=y,Hw))try{let nt=new URL(window.location.href),pt=y.startsWith("//")?new URL(nt.protocol+y):new URL(y),ut=Np(pt.pathname,P);pt.origin===nt.origin&&ut!=null?y=ut+pt.search+pt.hash:G=!0}catch{}let V=mw(y,{relative:o}),rt=Gw(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:_});function ot(nt){s&&s(nt),nt.defaultPrevented||rt(nt)}return it.createElement("a",ep({},S,{href:B||V,onClick:G||u?s:ot,ref:e,target:p}))});var a0;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(a0||(a0={}));var o0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(o0||(o0={}));function Gw(i,t){let{target:e,replace:s,state:o,preventScrollReset:u,relative:f,viewTransition:m}=t===void 0?{}:t,p=dT(),y=Lu(),T=mT(i,{relative:f});return it.useCallback(_=>{if(Lw(_,e)){_.preventDefault();let S=s!==void 0?s:zh(y)===zh(T);p(i,{replace:S,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[y,p,T,s,o,e,i,u,f,m])}const Qw=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Kw=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],f=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],f=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,T=u>>2,_=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(S=64)),s.push(e[T],e[_],e[S],e[P])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(vT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Kw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const y=o<i.length?e[i.charAt(o)]:64;++o;const _=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||_==null)throw new Yw;const S=u<<2|m>>4;if(s.push(S),y!==64){const P=m<<4&240|y>>2;if(s.push(P),_!==64){const B=y<<6&192|_;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xw=function(i){const t=vT(i);return _T.encodeByteArray(t,!0)},Bh=function(i){return Xw(i).replace(/\./g,"")},ET=function(i){try{return _T.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=()=>$w().__FIREBASE_DEFAULTS__,Ww=()=>{if(typeof process>"u"||typeof l0>"u")return;const i=l0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Jw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ET(i[1]);return t&&JSON.parse(t)},cf=()=>{try{return Qw()||Zw()||Ww()||Jw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},TT=i=>{var t,e;return(e=(t=cf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},tR=i=>{const t=TT(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},bT=()=>{var i;return(i=cf())===null||i===void 0?void 0:i.config},AT=i=>{var t;return(t=cf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(i){return i.endsWith(".cloudworkstations.dev")}async function ST(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Bh(JSON.stringify(e)),Bh(JSON.stringify(f)),""].join(".")}const mu={};function iR(){const i={prod:[],emulator:[]};for(const t of Object.keys(mu))mu[t]?i.emulator.push(t):i.prod.push(t);return i}function rR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let u0=!1;function wT(i,t){if(typeof window>"u"||typeof document>"u"||!zu(window.location.host)||mu[i]===t||mu[i]||u0)return;mu[i]=t;function e(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=iR().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{u0=!0,f()},S}function T(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=rR(s),P=e("text"),B=document.getElementById(P)||document.createElement("span"),G=e("learnmore"),V=document.getElementById(G)||document.createElement("a"),rt=e("preprendIcon"),ot=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const nt=S.element;m(nt),T(V,G);const pt=y();p(ot,rt),nt.append(ot,B,V,pt),document.body.appendChild(nt)}u?(B.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function aR(){var i;const t=(i=cf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="FirebaseError";class Pr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=mR,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?pR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Pr(o,m,s)}}function pR(i,t){return i.replace(gR,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const gR=/\{\$([^}]+)}/g;function yR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ia(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(c0(u)&&c0(f)){if(!Ia(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function c0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function vR(i,t){const e=new _R(i,t);return e.subscribe.bind(e)}class _R{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");ER(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(i){return i&&i._delegate?i._delegate:i}class Ca{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new eR;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AR(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bR(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(i){return i===Ea?void 0:i}function AR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new TR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Lt||(Lt={}));const wR={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},RR=Lt.INFO,IR={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},CR=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=IR[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pp{constructor(t){this.name=t,this._logLevel=RR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const DR=(i,t)=>t.some(e=>i instanceof e);let h0,f0;function OR(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RT=new WeakMap,np=new WeakMap,IT=new WeakMap,Lm=new WeakMap,kp=new WeakMap;function MR(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{e(Ss(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&RT.set(e,i)}).catch(()=>{}),kp.set(t,i),t}function xR(i){if(np.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});np.set(i,t)}let ip={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return np.get(i);if(t==="objectStoreNames")return i.objectStoreNames||IT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ss(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function VR(i){ip=i(ip)}function PR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(zm(this),t,...e);return IT.set(s,t.sort?t.sort():[t]),Ss(s)}:NR().includes(i)?function(...t){return i.apply(zm(this),t),Ss(RT.get(this))}:function(...t){return Ss(i.apply(zm(this),t))}}function kR(i){return typeof i=="function"?PR(i):(i instanceof IDBTransaction&&xR(i),DR(i,OR())?new Proxy(i,ip):i)}function Ss(i){if(i instanceof IDBRequest)return MR(i);if(Lm.has(i))return Lm.get(i);const t=kR(i);return t!==i&&(Lm.set(i,t),kp.set(t,i)),t}const zm=i=>kp.get(i);function UR(i,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=Ss(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ss(f.result),p.oldVersion,p.newVersion,Ss(f.transaction),p)}),e&&f.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const LR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Bm=new Map;function d0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Bm.get(t))return Bm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=zR.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LR.includes(e)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[e](...m),o&&p.done]))[0]};return Bm.set(t,u),u}VR(i=>({...i,get:(t,e,s)=>d0(t,e)||i.get(t,e,s),has:(t,e)=>!!d0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(qR(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function qR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rp="@firebase/app",m0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Pp("@firebase/app"),jR="@firebase/app-compat",HR="@firebase/analytics-compat",FR="@firebase/analytics",GR="@firebase/app-check-compat",QR="@firebase/app-check",KR="@firebase/auth",YR="@firebase/auth-compat",XR="@firebase/database",$R="@firebase/data-connect",ZR="@firebase/database-compat",WR="@firebase/functions",JR="@firebase/functions-compat",tI="@firebase/installations",eI="@firebase/installations-compat",nI="@firebase/messaging",iI="@firebase/messaging-compat",rI="@firebase/performance",sI="@firebase/performance-compat",aI="@firebase/remote-config",oI="@firebase/remote-config-compat",lI="@firebase/storage",uI="@firebase/storage-compat",cI="@firebase/firestore",hI="@firebase/ai",fI="@firebase/firestore-compat",dI="firebase",mI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",pI={[rp]:"fire-core",[jR]:"fire-core-compat",[FR]:"fire-analytics",[HR]:"fire-analytics-compat",[QR]:"fire-app-check",[GR]:"fire-app-check-compat",[KR]:"fire-auth",[YR]:"fire-auth-compat",[XR]:"fire-rtdb",[$R]:"fire-data-connect",[ZR]:"fire-rtdb-compat",[WR]:"fire-fn",[JR]:"fire-fn-compat",[tI]:"fire-iid",[eI]:"fire-iid-compat",[nI]:"fire-fcm",[iI]:"fire-fcm-compat",[rI]:"fire-perf",[sI]:"fire-perf-compat",[aI]:"fire-rc",[oI]:"fire-rc-compat",[lI]:"fire-gcs",[uI]:"fire-gcs-compat",[cI]:"fire-fst",[fI]:"fire-fst-compat",[hI]:"fire-vertex","fire-js":"fire-js",[dI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,gI=new Map,ap=new Map;function p0(i,t){try{i.container.addComponent(t)}catch(e){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Qo(i){const t=i.name;if(ap.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;ap.set(t,i);for(const e of qh.values())p0(e,i);for(const e of gI.values())p0(e,i);return!0}function Up(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function vi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Bu("app","Firebase",yI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=mI;function CT(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:sp,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(e||(e=bT()),!e)throw ws.create("no-options");const u=qh.get(o);if(u){if(Ia(e,u.options)&&Ia(s,u.config))return u;throw ws.create("duplicate-app",{appName:o})}const f=new SR(o);for(const p of ap.values())f.addComponent(p);const m=new vI(e,s,f);return qh.set(o,m),m}function DT(i=sp){const t=qh.get(i);if(!t&&i===sp&&bT())return CT();if(!t)throw ws.create("no-app",{appName:i});return t}function Rs(i,t,e){var s;let o=(s=pI[i])!==null&&s!==void 0?s:i;e&&(o+=`-${e}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(m.join(" "));return}Qo(new Ca(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firebase-heartbeat-database",EI=1,wu="firebase-heartbeat-store";let qm=null;function OT(){return qm||(qm=UR(_I,EI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(wu)}catch(e){console.warn(e)}}}}).catch(i=>{throw ws.create("idb-open",{originalErrorMessage:i.message})})),qm}async function TI(i){try{const e=(await OT()).transaction(wu),s=await e.objectStore(wu).get(NT(i));return await e.done,s}catch(t){if(t instanceof Pr)Dr.warn(t.message);else{const e=ws.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(e.message)}}}async function g0(i,t){try{const s=(await OT()).transaction(wu,"readwrite");await s.objectStore(wu).put(t,NT(i)),await s.done}catch(e){if(e instanceof Pr)Dr.warn(e.message);else{const s=ws.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(s.message)}}}function NT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1024,AI=30;class SI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new RI(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>AI){const f=II(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Dr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y0(),{heartbeatsToSend:s,unsentEntries:o}=wI(this._heartbeatsCache.heartbeats),u=Bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Dr.warn(e),""}}}function y0(){return new Date().toISOString().substring(0,10)}function wI(i,t=bI){const e=[];let s=i.slice();for(const o of i){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),v0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),v0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class RI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await TI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function v0(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function II(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(i){Qo(new Ca("platform-logger",t=>new BR(t),"PRIVATE")),Qo(new Ca("heartbeat",t=>new SI(t),"PRIVATE")),Rs(rp,m0,i),Rs(rp,m0,"esm2017"),Rs("fire-js","")}CI("");var _0=function(){return _0=Object.assign||function(t){for(var e,s=1,o=arguments.length;s<o;s++){e=arguments[s];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u])}return t},_0.apply(this,arguments)};function Lp(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(e[s[o]]=i[s[o]]);return e}function Lx(i,t,e){if(e||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return i.concat(u||Array.prototype.slice.call(t))}function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DI=MT,xT=new Bu("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Pp("@firebase/auth");function OI(i,...t){jh.logLevel<=Lt.WARN&&jh.warn(`Auth (${rl}): ${i}`,...t)}function Dh(i,...t){jh.logLevel<=Lt.ERROR&&jh.error(`Auth (${rl}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(i,...t){throw zp(i,...t)}function Fn(i,...t){return zp(i,...t)}function VT(i,t,e){const s=Object.assign(Object.assign({},DI()),{[t]:e});return new Bu("auth","Firebase",s).create(t,{appName:i.name})}function Is(i){return VT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return xT.create(i,...t)}function dt(i,t,...e){if(!i)throw zp(t,...e)}function Ir(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Dh(t),new Error(t)}function Nr(i,t){i||Ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function PT(){return E0()==="http:"||E0()==="https:"}function E0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PT()||lR()||"connection"in navigator)?navigator.onLine:!0}function MI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Nr(e>t,"Short delay should be less than long delay!"),this.isMobile=sR()||uR()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i,t){Nr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PI=new qu(3e4,6e4);function Ki(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function bi(i,t,e,s,o={}){return UT(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=il(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:t,headers:p},u);return oR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&zu(i.emulatorConfig.host)&&(y.credentials="include"),kT.fetch()(await LT(i,i.config.apiHost,e,m),y)})}async function UT(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},xI),t);try{const o=new UI(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw cu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw cu(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw cu(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw VT(i,T,y);Or(i,T)}}catch(o){if(o instanceof Pr)throw o;Or(i,"network-request-failed",{message:String(o)})}}async function hf(i,t,e,s,o={}){const u=await bi(i,t,e,s,o);return"mfaPendingCredential"in u&&Or(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function LT(i,t,e,s){const o=`${t}${e}?${s}`,u=i,f=u.config.emulator?Bp(i.config,o):`${i.config.apiScheme}://${o}`;return VI.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function kI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Fn(this.auth,"network-request-failed")),PI.get())})}}function cu(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Fn(i,t,s);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(i){return i!==void 0&&i.getResponse!==void 0}function b0(i){return i!==void 0&&i.enterprise!==void 0}class zT{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return kI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(i){return(await bi(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function BT(i,t){return bi(i,"GET","/v2/recaptchaConfig",Ki(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,t){return bi(i,"POST","/v1/accounts:delete",t)}async function Hh(i,t){return bi(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BI(i,t=!1){const e=Xe(i),s=await e.getIdToken(t),o=qp(s);dt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:pu(jm(o.auth_time)),issuedAtTime:pu(jm(o.iat)),expirationTime:pu(jm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(i){return Number(i)*1e3}function qp(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ET(e);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function A0(i){const t=qp(i);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Pr&&qI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function qI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(i){var t;const e=i.auth,s=await i.getIdToken(),o=await Ru(i,Hh(e,{idToken:s}));dt(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?qT(u.providerUserInfo):[],m=FI(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new lp(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,_)}async function HI(i){const t=Xe(i);await Fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FI(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function qT(i){return i.map(t=>{var{providerId:e}=t,s=Lp(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,t){const e=await UT(i,{},async()=>{const s=il({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await LT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",kT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function QI(i,t){return bi(i,"POST","/v2/accounts:revokeToken",Ki(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):A0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const e=A0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await GI(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,f=new xo;return s&&(dt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(dt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(dt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(i,t){dt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class _i{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,u=Lp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await Ru(this,this.stsTokenManager.getToken(this.auth,t));return dt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return BI(this,t)}reload(){return HI(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new _i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Is(this.auth));const t=await this.getIdToken();return await Ru(this,zI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,u,f,m,p,y,T;const _=(s=e.displayName)!==null&&s!==void 0?s:void 0,S=(o=e.email)!==null&&o!==void 0?o:void 0,P=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=e.photoURL)!==null&&f!==void 0?f:void 0,G=(m=e.tenantId)!==null&&m!==void 0?m:void 0,V=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,rt=(y=e.createdAt)!==null&&y!==void 0?y:void 0,ot=(T=e.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:nt,emailVerified:pt,isAnonymous:ut,providerData:Et,stsTokenManager:M}=e;dt(nt&&M,t,"internal-error");const w=xo.fromJSON(this.name,M);dt(typeof nt=="string",t,"internal-error"),cs(_,t.name),cs(S,t.name),dt(typeof pt=="boolean",t,"internal-error"),dt(typeof ut=="boolean",t,"internal-error"),cs(P,t.name),cs(B,t.name),cs(G,t.name),cs(V,t.name),cs(rt,t.name),cs(ot,t.name);const R=new _i({uid:nt,auth:t,email:S,emailVerified:pt,displayName:_,isAnonymous:ut,photoURL:B,phoneNumber:P,tenantId:G,stsTokenManager:w,createdAt:rt,lastLoginAt:ot});return Et&&Array.isArray(Et)&&(R.providerData=Et.map(O=>Object.assign({},O))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(t,e,s=!1){const o=new xo;o.updateFromServerResponse(e);const u=new _i({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];dt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new xo;m.updateFromIdToken(s);const p=new _i({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;function Cr(i){Nr(i instanceof Function,"Expected a class definition");let t=S0.get(i);return t?(Nr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,S0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jT.type="NONE";const w0=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(i,t,e){return`firebase:${i}:${t}:${e}`}class Vo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Hh(this.auth,{idToken:t}).catch(()=>{});return e?_i._fromGetAccountInfoResponse(this.auth,e,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Vo(Cr(w0),t,s);const o=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Cr(w0);const f=Oh(s,t.config.apiKey,t.name);let m=null;for(const y of e)try{const T=await y._get(f);if(T){let _;if(typeof T=="string"){const S=await Hh(t,{idToken:T}).catch(()=>{});if(!S)break;_=await _i._fromGetAccountInfoResponse(t,S,T)}else _=_i._fromJSON(t,T);y!==u&&(m=_),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Vo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(e.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Vo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YT(t))return"Blackberry";if(XT(t))return"Webos";if(FT(t))return"Safari";if((t.includes("chrome/")||GT(t))&&!t.includes("edge/"))return"Chrome";if(KT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function HT(i=pn()){return/firefox\//i.test(i)}function FT(i=pn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GT(i=pn()){return/crios\//i.test(i)}function QT(i=pn()){return/iemobile/i.test(i)}function KT(i=pn()){return/android/i.test(i)}function YT(i=pn()){return/blackberry/i.test(i)}function XT(i=pn()){return/webos/i.test(i)}function jp(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function KI(i=pn()){var t;return jp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function YI(){return cR()&&document.documentMode===10}function $T(i=pn()){return jp(i)||KT(i)||XT(i)||YT(i)||/windows phone/i.test(i)||QT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i,t=[]){let e;switch(i){case"Browser":e=R0(pn());break;case"Worker":e=`${R0(pn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${rl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,t={}){return bi(i,"GET","/v2/passwordPolicy",Ki(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=6;class WI{constructor(t){var e,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=f.minPasswordLength)!==null&&e!==void 0?e:ZI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new XI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cr(e)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Hh(this,{idToken:t}),s=await _i._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Fh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(Is(this));const e=t?Xe(t):null;return e&&dt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $I(this),e=new WI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await QI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cr(t)||this._popupRedirectResolver;dt(e,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Cr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(e);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&OI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ls(i){return Xe(i)}class I0{constructor(t){this.auth=t,this.observer=null,this.addObserver=vR(e=>this.observer=e)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tC(i){ju=i}function Hp(i){return ju.loadJS(i)}function eC(){return ju.recaptchaV2Script}function nC(){return ju.recaptchaEnterpriseScript}function iC(){return ju.gapiScript}function WT(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=500,sC=6e4,Eh=1e12;class aC{constructor(t){this.auth=t,this.counter=Eh,this._widgets=new Map}render(t,e){const s=this.counter;return this._widgets.set(s,new uC(t,this.auth.name,e||{})),this.counter++,s}reset(t){var e;const s=t||Eh;(e=this._widgets.get(s))===null||e===void 0||e.delete(),this._widgets.delete(s)}getResponse(t){var e;const s=t||Eh;return((e=this._widgets.get(s))===null||e===void 0?void 0:e.getResponse())||""}async execute(t){var e;const s=t||Eh;return(e=this._widgets.get(s))===null||e===void 0||e.execute(),""}}class oC{constructor(){this.enterprise=new lC}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class lC{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class uC{constructor(t,e,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof t=="string"?document.getElementById(t):t;dt(o,"argument-error",{appName:e}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=cC(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},sC)},rC))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function cC(i){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}const hC="recaptcha-enterprise",gu="NO_RECAPTCHA";class JT{constructor(t){this.type=hC,this.auth=Ls(t)}async verify(t="verify",e=!1){async function s(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{BT(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new zT(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;b0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(gu)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!e&&b0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nC();p.length!==0&&(p+=m),Hp(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Hm(i,t,e,s=!1,o=!1){const u=new JT(i);let f;if(o)f=gu;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const m=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Fm(i,t,e,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const f=await Hm(i,t,e);return s(i,f).catch(async m=>{var p;if(((p=i._getRecaptchaConfig())===null||p===void 0?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(m.code==="auth/missing-recaptcha-token"||m.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);const y=await Hm(i,t,e,!1,!0);return s(i,y)}return Promise.reject(m)})}else{const f=await Hm(i,t,e,!1,!0);return s(i,f)}}async function fC(i){const t=Ls(i),e=await BT(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new zT(e);t.tenantId==null?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,s.isAnyProviderEnabled()&&new JT(t).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i,t){const e=Up(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Ia(u,t??{}))return o;Or(o,"already-initialized")}return e.initialize({options:t})}function mC(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Cr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function pC(i,t,e){const s=Ls(i);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=tb(t),{host:f,port:m}=gC(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(Ia(y,s.config.emulator)&&Ia(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,zu(f)?(ST(`${u}//${f}${p}`),wT("Auth",!0)):yC()}function tb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function gC(i){const t=tb(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:C0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:C0(f)}}}function C0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function yC(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ir("not implemented")}_getIdTokenResponse(t){return Ir("not implemented")}_linkToIdToken(t,e){return Ir("not implemented")}_getReauthenticationResolver(t){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i,t){return hf(i,"POST","/v1/accounts:signInWithIdp",Ki(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="http://localhost";class Da extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Or("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,u=Lp(e,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Da(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return Po(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Po(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Po(t,e)}buildRequest(){const t={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=il(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(i,t){return bi(i,"POST","/v1/accounts:sendVerificationCode",Ki(i,t))}async function _C(i,t){return hf(i,"POST","/v1/accounts:signInWithPhoneNumber",Ki(i,t))}async function EC(i,t){const e=await hf(i,"POST","/v1/accounts:signInWithPhoneNumber",Ki(i,t));if(e.temporaryProof)throw cu(i,"account-exists-with-different-credential",e);return e}const TC={USER_NOT_FOUND:"user-not-found"};async function bC(i,t){const e=Object.assign(Object.assign({},t),{operation:"REAUTH"});return hf(i,"POST","/v1/accounts:signInWithPhoneNumber",Ki(i,e),TC)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Fp{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new yu({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new yu({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return _C(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return EC(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return bC(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:s,verificationCode:o}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:s,code:o}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:e,verificationCode:s,phoneNumber:o,temporaryProof:u}=t;return!s&&!e&&!o&&!u?null:new yu({verificationId:e,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Hu{constructor(){super("facebook.com")}static credential(t){return Da._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fs.credential(t.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Da._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return ds.credential(e,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Hu{constructor(){super("github.com")}static credential(t){return Da._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ms.credential(t.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Hu{constructor(){super("twitter.com")}static credential(t,e){return Da._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return ps.credential(e,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await _i._fromIdTokenResponse(t,s,o),f=O0(s);return new Ko({user:u,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=O0(s);return new Ko({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function O0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends Pr{constructor(t,e,s,o){var u;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new Gh(t,e,s,o)}}function nb(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(i,u,t,s):u})}async function AC(i,t,e=!1){const s=await Ru(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Ko._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(i,t,e=!1){const{auth:s}=i;if(vi(s.app))return Promise.reject(Is(s));const o="reauthenticate";try{const u=await Ru(i,nb(s,o,t,i),e);dt(u.idToken,s,"internal-error");const f=qp(u.idToken);dt(f,s,"internal-error");const{sub:m}=f;return dt(i.uid===m,s,"user-mismatch"),Ko._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Or(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(i,t,e=!1){if(vi(i.app))return Promise.reject(Is(i));const s="signIn",o=await nb(i,s,t),u=await Ko._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(u.user),u}async function wC(i,t){return ib(Ls(i),t)}function RC(i,t,e,s){return Xe(i).onIdTokenChanged(t,e,s)}function IC(i,t,e){return Xe(i).beforeAuthStateChanged(t,e)}function CC(i,t,e,s){return Xe(i).onAuthStateChanged(t,e,s)}function zx(i){return Xe(i).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(i,t){return bi(i,"POST","/v2/accounts/mfaEnrollment:start",Ki(i,t))}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1e3,OC=10;class sb extends rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);YI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,OC):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}sb.type="LOCAL";const NC=sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ab.type="SESSION";const ob=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new ff(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(e.origin,u)),p=await MC(m);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Gp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return window}function VC(i){Ve().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){return typeof Ve().WorkerGlobalScope<"u"&&typeof Ve().importScripts=="function"}async function PC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function UC(){return Qp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",LC=1,Kh="firebaseLocalStorage",ub="fbase_key";class Fu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function df(i,t){return i.transaction([Kh],t?"readwrite":"readonly").objectStore(Kh)}function zC(){const i=indexedDB.deleteDatabase(lb);return new Fu(i).toPromise()}function up(){const i=indexedDB.open(lb,LC);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:ub})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?t(s):(s.close(),await zC(),t(await up()))})})}async function M0(i,t,e){const s=df(i,!0).put({[ub]:t,value:e});return new Fu(s).toPromise()}async function BC(i,t){const e=df(i,!1).get(t),s=await new Fu(e).toPromise();return s===void 0?null:s.value}function x0(i,t){const e=df(i,!0).delete(t);return new Fu(e).toPromise()}const qC=800,jC=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>jC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(UC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await PC(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await up();return await M0(t,Qh,"1"),await x0(t,Qh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>M0(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>BC(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>x0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=df(o,!1).getAll();return new Fu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const HC=cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(i,t){return bi(i,"POST","/v2/accounts/mfaSignIn:start",Ki(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=WT("rcb"),FC=new qu(3e4,6e4);class GC{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=Ve().grecaptcha)===null||t===void 0)&&t.render)}load(t,e=""){return dt(QC(e),t,"argument-error"),this.shouldResolveImmediately(e)&&T0(Ve().grecaptcha)?Promise.resolve(Ve().grecaptcha):new Promise((s,o)=>{const u=Ve().setTimeout(()=>{o(Fn(t,"network-request-failed"))},FC.get());Ve()[Gm]=()=>{Ve().clearTimeout(u),delete Ve()[Gm];const m=Ve().grecaptcha;if(!m||!T0(m)){o(Fn(t,"internal-error"));return}const p=m.render;m.render=(y,T)=>{const _=p(y,T);return this.counter++,_},this.hostLanguage=e,s(m)};const f=`${eC()}?${il({onload:Gm,render:"explicit",hl:e})}`;Hp(f).catch(()=>{clearTimeout(u),o(Fn(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(!((e=Ve().grecaptcha)===null||e===void 0)&&e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function QC(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class KC{async load(t){return new aC(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="recaptcha",YC={theme:"light",type:"image"};class XC{constructor(t,e,s=Object.assign({},YC)){this.parameters=s,this.type=vu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ls(t),this.isInvisible=this.parameters.size==="invisible",dt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof e=="string"?document.getElementById(e):e;dt(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new KC:new GC,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),e=this.getAssertedRecaptcha(),s=e.getResponse(t);return s||new Promise(o=>{const u=f=>{f&&(this.tokenChangeListeners.delete(u),o(f))};this.tokenChangeListeners.add(u),this.isInvisible&&e.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){dt(!this.parameters.sitekey,this.auth,"argument-error"),dt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),dt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(s=>s(e)),typeof t=="function")t(e);else if(typeof t=="string"){const s=Ve()[t];typeof s=="function"&&s(e)}}}assertNotDestroyed(){dt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){dt(PT()&&!Qp(),this.auth,"internal-error"),await $C(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await LI(this.auth);dt(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return dt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function $C(){let i=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}i=()=>t(),window.addEventListener("load",i)}).catch(t=>{throw i&&window.removeEventListener("load",i),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=yu._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}async function Bx(i,t,e){if(vi(i.app))return Promise.reject(Is(i));const s=Ls(i),o=await WC(s,t,Xe(e));return new ZC(o,u=>wC(s,u))}async function WC(i,t,e){var s;if(!i._getRecaptchaConfig())try{await fC(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){const u=o.session;if("phoneNumber"in o){dt(u.type==="enroll",i,"internal-error");const f={idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Fm(i,f,"mfaSmsEnrollment",async(T,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===gu){dt((e==null?void 0:e.type)===vu,T,"argument-error");const S=await Qm(T,_,e);return N0(T,S)}return N0(T,_)},"PHONE_PROVIDER").catch(T=>Promise.reject(T))).phoneSessionInfo.sessionInfo}else{dt(u.type==="signin",i,"internal-error");const f=((s=o.multiFactorHint)===null||s===void 0?void 0:s.uid)||o.multiFactorUid;dt(f,i,"missing-multi-factor-info");const m={mfaPendingCredential:u.credential,mfaEnrollmentId:f,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Fm(i,m,"mfaSmsSignIn",async(_,S)=>{if(S.phoneSignInInfo.captchaResponse===gu){dt((e==null?void 0:e.type)===vu,_,"argument-error");const P=await Qm(_,S,e);return V0(_,P)}return V0(_,S)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const u={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Fm(i,u,"sendVerificationCode",async(y,T)=>{if(T.captchaResponse===gu){dt((e==null?void 0:e.type)===vu,y,"argument-error");const _=await Qm(y,T,e);return D0(y,_)}return D0(y,T)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).sessionInfo}}finally{e==null||e._reset()}}async function Qm(i,t,e){dt(e.type===vu,i,"argument-error");const s=await e.verify();dt(typeof s=="string",i,"argument-error");const o=Object.assign({},t);if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.captchaResponse,m=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:s,captchaResponse:f,clientType:m,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.captchaResponse,f=o.phoneSignInInfo.clientType,m=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:u,clientType:f,recaptchaVersion:m}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i,t){return t?Cr(t):(dt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Fp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Po(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Po(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Po(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function t2(i){return ib(i.auth,new Kp(i),i.bypassAuthState)}function e2(i){const{auth:t,user:e}=i;return dt(e,t,"internal-error"),SC(e,new Kp(i),i.bypassAuthState)}async function n2(i){const{auth:t,user:e}=i;return dt(e,t,"internal-error"),AC(e,new Kp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:Or(this.auth,"internal-error")}}resolve(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new qu(2e3,1e4);class Mo extends hb{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const t=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,i2.get())};t()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="pendingRedirect",Nh=new Map;class s2 extends hb{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Nh.get(this.auth._key());if(!t){try{const s=await a2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Nh.set(this.auth._key(),t)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a2(i,t){const e=u2(t),s=l2(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function o2(i,t){Nh.set(i._key(),t)}function l2(i){return Cr(i._redirectPersistence)}function u2(i){return Oh(r2,i.config.apiKey,i.name)}async function c2(i,t,e=!1){if(vi(i.app))return Promise.reject(Is(i));const s=Ls(i),o=JC(s,t),f=await new s2(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=10*60*1e3;class f2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!d2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!fb(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Fn(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=h2&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(t))}saveEventToCache(t){this.cachedEventUids.add(P0(t)),this.lastProcessedEventTime=Date.now()}}function P0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function fb({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function d2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(i,t={}){return bi(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g2=/^https?/;async function y2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await m2(i);for(const e of t)try{if(v2(e))return}catch{}Or(i,"unauthorized-domain")}function v2(i){const t=op(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!g2.test(e))return!1;if(p2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new qu(3e4,6e4);function k0(){const i=Ve().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function E2(i){return new Promise((t,e)=>{var s,o,u;function f(){k0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k0(),e(Fn(i,"network-request-failed"))},timeout:_2.get()})}if(!((o=(s=Ve().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ve().gapi)===null||u===void 0)&&u.load)f();else{const m=WT("iframefcb");return Ve()[m]=()=>{gapi.load?f():e(Fn(i,"network-request-failed"))},Hp(`${iC()}?onload=${m}`).catch(p=>e(p))}}).catch(t=>{throw Mh=null,t})}let Mh=null;function T2(i){return Mh=Mh||E2(i),Mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new qu(5e3,15e3),A2="__/auth/iframe",S2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(i){const t=i.config;dt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Bp(t,S2):`https://${i.config.authDomain}/${A2}`,s={apiKey:t.apiKey,appName:i.name,v:rl},o=R2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${il(s).slice(1)}`}async function C2(i){const t=await T2(i),e=Ve().gapi;return dt(e,i,"internal-error"),t.open({where:document.body,url:I2(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Fn(i,"network-request-failed"),m=Ve().setTimeout(()=>{u(f)},b2.get());function p(){Ve().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,N2=600,M2="_blank",x2="http://localhost";class U0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(i,t,e,s=O2,o=N2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},D2),{width:s.toString(),height:o.toString(),top:u,left:f}),y=pn().toLowerCase();e&&(m=GT(y)?M2:e),HT(y)&&(t=t||x2,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[P,B])=>`${S}${P}=${B},`,"");if(KI(y)&&m!=="_self")return P2(t||"",m),new U0(null);const _=window.open(t||"",m,T);dt(_,i,"popup-blocked");try{_.focus()}catch{}return new U0(_)}function P2(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__/auth/handler",U2="emulator/auth/handler",L2=encodeURIComponent("fac");async function L0(i,t,e,s,o,u){dt(i.config.authDomain,i,"auth-domain-config-required"),dt(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:rl,eventId:o};if(t instanceof eb){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",yR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,_]of Object.entries({}))f[T]=_}if(t instanceof Hu){const T=t.getScopes().filter(_=>_!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),y=p?`#${L2}=${encodeURIComponent(p)}`:"";return`${z2(i)}?${il(m).slice(1)}${y}`}function z2({config:i}){return i.emulator?Bp(i,U2):`https://${i.authDomain}/${k2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class B2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=c2,this._overrideRedirectResult=o2}async _openPopup(t,e,s,o){var u;Nr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await L0(t,e,s,op(),o);return V2(t,f,Gp())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await L0(t,e,s,op(),o);return VC(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await C2(t),s=new f2(t);return e.register("authEvent",o=>(dt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Km,{type:Km},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Km];f!==void 0&&e(!!f),Or(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=y2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return $T()||FT()||jp()}}const q2=B2;var z0="@firebase/auth",B0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F2(i){Qo(new Ca("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;dt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(i)},y=new JI(s,o,u,p);return mC(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Qo(new Ca("auth-internal",t=>{const e=Ls(t.getProvider("auth").getImmediate());return(s=>new j2(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(z0,B0,H2(i)),Rs(z0,B0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=5*60,Q2=AT("authIdTokenMaxAge")||G2;let q0=null;const K2=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>Q2)return;const o=e==null?void 0:e.token;q0!==o&&(q0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Y2(i=DT()){const t=Up(i,"auth");if(t.isInitialized())return t.getImmediate();const e=dC(i,{popupRedirectResolver:q2,persistence:[HC,NC,ob]}),s=AT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=K2(u.toString());IC(e,f,()=>f(e.currentUser)),RC(e,m=>f(m))}}const o=TT("auth");return o&&pC(e,`http://${o}`),e}function X2(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}tC({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Fn("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",X2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F2("Browser");var $2="firebase",Z2="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs($2,Z2,"app");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,db;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function R(){}R.prototype=w.prototype,M.D=w.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,x,k){for(var C=Array(arguments.length-2),be=2;be<arguments.length;be++)C[be-2]=arguments[be];return w.prototype[x].apply(O,C)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)O[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;16>x;++x)O[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=M.g[0],R=M.g[1],x=M.g[2];var k=M.g[3],C=w+(k^R&(x^k))+O[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=k+(x^w&(R^x))+O[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=x+(R^k&(w^R))+O[2]+606105819&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(w^x&(k^w))+O[3]+3250441966&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(k^R&(x^k))+O[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(x^w&(R^x))+O[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=x+(R^k&(w^R))+O[6]+2821735955&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(w^x&(k^w))+O[7]+4249261313&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(k^R&(x^k))+O[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(x^w&(R^x))+O[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=x+(R^k&(w^R))+O[10]+4294925233&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(w^x&(k^w))+O[11]+2304563134&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(k^R&(x^k))+O[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(x^w&(R^x))+O[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=x+(R^k&(w^R))+O[14]+2792965006&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(w^x&(k^w))+O[15]+1236535329&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(x^k&(R^x))+O[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(w^R))+O[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(k^w))+O[11]+643717713&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(x^k))+O[0]+3921069994&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^k&(R^x))+O[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(w^R))+O[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(k^w))+O[15]+3634488961&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(x^k))+O[4]+3889429448&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^k&(R^x))+O[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(w^R))+O[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(k^w))+O[3]+4107603335&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(x^k))+O[8]+1163531501&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^k&(R^x))+O[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(w^R))+O[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(k^w))+O[7]+1735328473&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(x^k))+O[12]+2368359562&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(R^x^k)+O[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^x)+O[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=x+(k^w^R)+O[11]+1839030562&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^w)+O[14]+4259657740&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^k)+O[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^x)+O[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=x+(k^w^R)+O[7]+4139469664&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^w)+O[10]+3200236656&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^k)+O[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^x)+O[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=x+(k^w^R)+O[3]+3572445317&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^w)+O[6]+76029189&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^k)+O[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^x)+O[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=x+(k^w^R)+O[15]+530742520&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^w)+O[2]+3299628645&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(x^(R|~k))+O[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~x))+O[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=x+(w^(k|~R))+O[14]+2878612391&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~w))+O[5]+4237533241&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~k))+O[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~x))+O[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=x+(w^(k|~R))+O[10]+4293915773&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~w))+O[1]+2240044497&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~k))+O[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~x))+O[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=x+(w^(k|~R))+O[6]+2734768916&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~w))+O[13]+1309151649&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~k))+O[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~x))+O[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=x+(w^(k|~R))+O[2]+718787259&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~w))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var R=w-this.blockSize,O=this.B,x=this.h,k=0;k<w;){if(x==0)for(;k<=R;)o(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<w;)if(O[x++]=M.charCodeAt(k++),x==this.blockSize){o(this,O),x=0;break}}else for(;k<w;)if(O[x++]=M[k++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var R=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=R&255,R/=256;for(this.u(M),M=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)M[R++]=this.g[w]>>>O&255;return M};function u(M,w){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=w(M)}function f(M,w){this.h=w;for(var R=[],O=!0,x=M.length-1;0<=x;x--){var k=M[x]|0;O&&k==w||(R[x]=k,O=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return V(y(-M));for(var w=[],R=1,O=0;M>=R;O++)w[O]=M/R|0,R*=4294967296;return new f(w,0)}function T(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return V(T(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=_,x=0;x<M.length;x+=8){var k=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+k),w);8>k?(k=y(Math.pow(w,k)),O=O.j(k).add(y(C))):(O=O.j(R),O=O.add(y(C)))}return O}var _=p(0),S=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-V(this).m();for(var M=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*w,w*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(B(this))return"0";if(G(this))return"-"+V(this).toString(M);for(var w=y(Math.pow(M,6)),R=this,O="";;){var x=pt(R,w).g;R=rt(R,x.j(w));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=x,B(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function B(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function G(M){return M.h==-1}i.l=function(M){return M=rt(this,M),G(M)?-1:B(M)?0:1};function V(M){for(var w=M.g.length,R=[],O=0;O<w;O++)R[O]=~M.g[O];return new f(R,~M.h).add(S)}i.abs=function(){return G(this)?V(this):this},i.add=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0,x=0;x<=w;x++){var k=O+(this.i(x)&65535)+(M.i(x)&65535),C=(k>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);O=C>>>16,k&=65535,C&=65535,R[x]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function rt(M,w){return M.add(V(w))}i.j=function(M){if(B(this)||B(M))return _;if(G(this))return G(M)?V(this).j(V(M)):V(V(this).j(M));if(G(M))return V(this.j(V(M)));if(0>this.l(P)&&0>M.l(P))return y(this.m()*M.m());for(var w=this.g.length+M.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<M.g.length;x++){var k=this.i(O)>>>16,C=this.i(O)&65535,be=M.i(x)>>>16,Ft=M.i(x)&65535;R[2*O+2*x]+=C*Ft,ot(R,2*O+2*x),R[2*O+2*x+1]+=k*Ft,ot(R,2*O+2*x+1),R[2*O+2*x+1]+=C*be,ot(R,2*O+2*x+1),R[2*O+2*x+2]+=k*be,ot(R,2*O+2*x+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function ot(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function nt(M,w){this.g=M,this.h=w}function pt(M,w){if(B(w))throw Error("division by zero");if(B(M))return new nt(_,_);if(G(M))return w=pt(V(M),w),new nt(V(w.g),V(w.h));if(G(w))return w=pt(M,V(w)),new nt(V(w.g),w.h);if(30<M.g.length){if(G(M)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(M);)R=ut(R),O=ut(O);var x=Et(R,1),k=Et(O,1);for(O=Et(O,2),R=Et(R,2);!B(O);){var C=k.add(O);0>=C.l(M)&&(x=x.add(R),k=C),O=Et(O,1),R=Et(R,1)}return w=rt(M,x.j(w)),new nt(x,w)}for(x=_;0<=M.l(w);){for(R=Math.max(1,Math.floor(M.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=y(R),C=k.j(w);G(C)||0<C.l(M);)R-=O,k=y(R),C=k.j(w);B(k)&&(k=S),x=x.add(k),M=rt(M,C)}return new nt(x,M)}i.A=function(M){return pt(this,M).h},i.and=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&M.i(O);return new f(R,this.h&M.h)},i.or=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|M.i(O);return new f(R,this.h|M.h)},i.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^M.i(O);return new f(R,this.h^M.h)};function ut(M){for(var w=M.g.length+1,R=[],O=0;O<w;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(R,M.h)}function Et(M,w){var R=w>>5;w%=32;for(var O=M.g.length-R,x=[],k=0;k<O;k++)x[k]=0<w?M.i(k+R)>>>w|M.i(k+R+1)<<32-w:M.i(k+R);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,db=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Cs=f}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mb,hu,pb,xh,cp,gb,yb,vb;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=e(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,L={next:function(){if(!A&&v<c.length){var Q=v++;return{value:g(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function _(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function S(c,g,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:_,S.apply(null,arguments)}function P(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function B(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,L,Q){for(var at=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)at[Bt-2]=arguments[Bt];return g.prototype[L].apply(A,at)}}function G(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function V(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const L=c.length||0,Q=A.length||0;c.length=L+Q;for(let at=0;at<Q;at++)c[L+at]=A[at]}else c.push(A)}}class rt{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ot(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pt(c){return pt[" "](c),c}pt[" "]=function(){};var ut=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function Et(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function M(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function x(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Dt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class be{constructor(){this.h=this.g=null}add(g,v){const A=Ft.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ft=new rt(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,mt=!1,Dt=new be,D=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(K)}};var K=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){k(v)}var g=Ft;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Rt(c,g){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ut){t:{try{pt(g.nodeName);var L=!0;break t}catch{}L=!1}L||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ct[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}B(Rt,Z);var ct={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function an(c,g,v,A,L){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=L,this.key=++Gt,this.da=this.fa=!1}function An(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function si(c){this.src=c,this.g={},this.h=0}si.prototype.add=function(c,g,v,A,L){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var at=Yi(c,g,A,L);return-1<at?(g=c[at],v||(g.fa=!1)):(g=new an(g,this.src,Q,!!A,L),g.fa=v,c.push(g)),g};function Ai(c,g){var v=g.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=L)&&Array.prototype.splice.call(A,L,1),Q&&(An(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Yi(c,g,v,A){for(var L=0;L<c.length;++L){var Q=c[L];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==A)return L}return-1}var ai="closure_lm_"+(1e6*Math.random()|0),qs={};function js(c,g,v,A,L){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)js(c,g[Q],v,A,L);return null}return v=ka(v),c&&c[he]?c.K(g,v,y(A)?!!A.capture:!1,L):je(c,g,v,!1,A,L)}function je(c,g,v,A,L,Q){if(!g)throw Error("Invalid event type");var at=y(L)?!!L.capture:!!L,Bt=xn(c);if(Bt||(c[ai]=Bt=new si(c)),v=Bt.add(g,v,A,at,Q),v.proxy)return v;if(A=Pa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ft||(L=at),L===void 0&&(L=!1),c.addEventListener(g.toString(),A,L);else if(c.attachEvent)c.attachEvent(Xi(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pa(){function c(v){return g.call(c.src,c.listener,v)}const g=$e;return c}function gn(c,g,v,A,L){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)gn(c,g[Q],v,A,L);else A=y(A)?!!A.capture:!!A,v=ka(v),c&&c[he]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],v=Yi(Q,v,A,L),-1<v&&(An(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=xn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Yi(g,v,A,L)),(v=-1<c?g[c]:null)&&kr(v))}function kr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])Ai(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Xi(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=xn(g))?(Ai(v,c),v.h==0&&(v.src=null,g[ai]=null)):An(c)}}}function Xi(c){return c in qs?qs[c]:qs[c]="on"+c}function $e(c,g){if(c.da)c=!0;else{g=new Rt(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&kr(c),c=v.call(A,g)}return c}function xn(c){return c=c[ai],c instanceof si?c:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(c){return typeof c=="function"?c:(c[Hs]||(c[Hs]=function(g){return c.handleEvent(g)}),c[Hs])}function ae(){et.call(this),this.i=new si(this),this.M=this,this.F=null}B(ae,et),ae.prototype[he]=!0,ae.prototype.removeEventListener=function(c,g,v,A){gn(this,c,g,v,A)};function Xt(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new Z(g,c);else if(g instanceof Z)g.target=g.target||c;else{var L=g;g=new Z(A,c),O(g,L)}if(L=!0,v)for(var Q=v.length-1;0<=Q;Q--){var at=g.g=v[Q];L=on(at,A,!0,g)&&L}if(at=g.g=c,L=on(at,A,!0,g)&&L,L=on(at,A,!1,g)&&L,v)for(Q=0;Q<v.length;Q++)at=g.g=v[Q],L=on(at,A,!1,g)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)An(v[A]);delete c.g[g],c.h--}}this.F=null},ae.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ae.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function on(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,Q=0;Q<g.length;++Q){var at=g[Q];if(at&&!at.da&&at.capture==v){var Bt=at.listener,ke=at.ha||at.src;at.fa&&Ai(c.i,at),L=Bt.call(ke,A)!==!1&&L}}return L&&!A.defaultPrevented}function Ce(c,g,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function oi(c){c.g=Ce(()=>{c.g=null,c.i&&(c.i=!1,oi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ua extends et{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:oi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(c){et.call(this),this.h=c,this.g={}}B(Sn,et);var $i=[];function Zi(c){Et(c.g,function(g,v){this.g.hasOwnProperty(v)&&kr(g)},c),c.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),Zi(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=m.JSON.stringify,Wi=m.JSON.parse,Ji=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function tr(){}tr.prototype.h=null;function Rn(c){return c.h||(c.h=c.i())}function Fs(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){Z.call(this,"d")}B(Qn,Z);function Ur(){Z.call(this,"c")}B(Ur,Z);var Tt={},fe=null;function ue(){return fe=fe||new ae}Tt.La="serverreachability";function De(c){Z.call(this,Tt.La,c)}B(De,Z);function Vn(c){const g=ue();Xt(g,new De(g))}Tt.STAT_EVENT="statevent";function ve(c,g){Z.call(this,Tt.STAT_EVENT,c),this.stat=g}B(ve,Z);function Pt(c){const g=ue();Xt(g,new ve(g,c))}Tt.Ma="timingevent";function de(c,g){Z.call(this,Tt.Ma,c),this.size=g}B(de,Z);function Qt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function me(){this.g=!0}me.prototype.xa=function(){this.g=!1};function Lr(c,g,v,A,L,Q){c.info(function(){if(c.g)if(Q)for(var at="",Bt=Q.split("&"),ke=0;ke<Bt.length;ke++){var qt=Bt[ke].split("=");if(1<qt.length){var Fe=qt[0];qt=qt[1];var Ue=Fe.split("_");at=2<=Ue.length&&Ue[1]=="type"?at+(Fe+"="+qt+"&"):at+(Fe+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+v+`
`+at})}function ui(c,g,v,A,L,Q,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+v+`
`+Q+" "+at})}function er(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gs(c,v)+(A?" "+A:"")})}function Ju(c,g){c.info(function(){return"TIMEOUT: "+g})}me.prototype.info=function(){};function Gs(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<L.length;at++)L[at]=""}}}}return wn(v)}catch{return g}}var zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Si;function wi(){}B(wi,tr),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Si=new wi;function yn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var ul={},La={};function ci(c,g,v){c.L=1,c.v=$s(Pn(g)),c.m=v,c.P=!0,ir(c,null)}function ir(c,g){c.F=Date.now(),Qs(c),c.A=Pn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),pl(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Ae,c.g=pc(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Ua(S(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&($i[0]=L.toString()),L=$i);for(var Q=0;Q<L.length;Q++){var at=js(v,L[Q],A||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Vn(),Lr(c.i,c.u,c.A,c.l,c.R,c.m)}yn.prototype.ca=function(c){c=c.target;const g=this.M;g&&$n(c)==3?g.j():this.Y(c)},yn.prototype.Y=function(c){try{if(c==this.g)t:{const Ue=$n(this.g);var g=this.g.Ba();const hr=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Ue!=4||g==7||(g==8||0>=hr?Vn(3):Vn(2)),Br(this);var v=this.g.Z();this.X=v;e:if(tc(this)){var A=oc(this.g);c="";var L=A.length,Q=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ze(this),Ri(this);var at="";break e}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Q&&g==L-1)});A.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,ui(this.i,this.u,this.A,this.l,this.R,Ue,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,ke=this.g;if((Bt=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Bt)){var qt=Bt;break e}}qt=null}if(v=qt)er(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,v);else{this.o=!1,this.s=3,Pt(12),Ze(this),Ri(this);break t}}if(this.P){v=!0;let We;for(;!this.J&&this.C<at.length;)if(We=ec(this,at),We==La){Ue==4&&(this.s=4,Pt(14),v=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(We==ul){this.s=4,Pt(15),er(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else er(this.i,this.l,We,null),Ks(this,We);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||at.length!=0||this.h.h||(this.s=1,Pt(16),v=!1),this.o=this.o&&v,!v)er(this.i,this.l,at,"[Invalid Chunked Response]"),Ze(this),Ri(this);else if(0<at.length&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.ba&&!Fe.M&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),ra(Fe),Fe.M=!0,Pt(11))}}else er(this.i,this.l,at,null),Ks(this,at);Ue==4&&Ze(this),this.o&&!this.J&&(Ue==4?fc(this.j,this):(this.o=!1,Qs(this)))}else Uf(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Ze(this),Ri(this)}}}catch{}finally{}};function tc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ec(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?La:(v=Number(g.substring(v,A)),isNaN(v)?ul:(A+=1,A+v>g.length?La:(g=g.slice(A,A+v),c.C=A+v,g)))}yn.prototype.cancel=function(){this.J=!0,Ze(this)};function Qs(c){c.S=Date.now()+c.I,nc(c,c.I)}function nc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qt(S(c.ba,c),g)}function Br(c){c.B&&(m.clearTimeout(c.B),c.B=null)}yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ju(this.i,this.A),this.L!=2&&(Vn(),Pt(17)),Ze(this),this.s=2,Ri(this)):nc(this,this.S-c)};function Ri(c){c.j.G==0||c.J||fc(c.j,c)}function Ze(c){Br(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Zi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ks(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||cl(v.h,c))){if(!c.K&&cl(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)$a(v),Ya(v);else break t;El(v),Pt(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Qt(S(v.Za,v),6e3));if(1>=Ba(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else cr(v,11)}else if((c.K||v.g==c)&&$a(v),!ot(g))for(L=v.Da.g.parse(g),g=0;g<L.length;g++){let qt=L[g];if(v.T=qt[0],qt=qt[1],v.G==2)if(qt[0]=="c"){v.K=qt[1],v.ia=qt[2];const Fe=qt[3];Fe!=null&&(v.la=Fe,v.j.info("VER="+v.la));const Ue=qt[4];Ue!=null&&(v.Aa=Ue,v.j.info("SVER="+v.Aa));const hr=qt[5];hr!=null&&typeof hr=="number"&&0<hr&&(A=1.5*hr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const We=c.g;if(We){const xi=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Q=A.h;Q.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qa(Q,Q.h),Q.h=null))}if(A.D){const bl=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(A.ya=bl,ne(A.I,A.D,bl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var at=c;if(A.qa=mc(A,A.J?A.ia:null,A.W),at.K){vn(A.h,at);var Bt=at,ke=A.L;ke&&(Bt.I=ke),Bt.B&&(Br(Bt),Qs(Bt)),A.g=at}else cc(A);0<v.i.length&&Xa(v)}else qt[0]!="stop"&&qt[0]!="close"||cr(v,7);else v.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?cr(v,7):vl(v):qt[0]!="noop"&&v.l&&v.l.ta(qt),v.v=0)}}Vn(4)}catch{}}var ic=class{constructor(c,g){this.g=c,this.map=g}};function rr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ba(c){return c.h?1:c.g?c.g.size:0}function cl(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function qa(c,g){c.g?c.g.add(g):c.h=g}function vn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}rr.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return G(c.i)}function xf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function ja(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function fl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ja(c),A=xf(c),L=A.length,Q=0;Q<L;Q++)g.call(void 0,A[Q],v&&v[Q],c)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vf(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),L=null;if(0<=A){var Q=c[v].substring(0,A);L=c[v].substring(A+1)}else Q=c[v];g(Q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Oe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oe){this.h=c.h,Xs(this,c.j),this.o=c.o,this.g=c.g,qr(this,c.s),this.l=c.l;var g=c.i,v=new ar;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),sr(this,v),this.m=c.m}else c&&(g=String(c).match(Ys))?(this.h=!1,Xs(this,g[1]||"",!0),this.o=Kn(g[2]||""),this.g=Kn(g[3]||"",!0),qr(this,g[4]),this.l=Kn(g[5]||"",!0),sr(this,g[6]||"",!0),this.m=Kn(g[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Oe.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zs(g,dl,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zs(g,dl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zs(v,v.charAt(0)=="/"?Pf:ml,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zs(v,Ha)),c.join("")};function Pn(c){return new Oe(c)}function Xs(c,g,v){c.j=v?Kn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function qr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function sr(c,g,v){g instanceof ar?(c.i=g,sc(c.i,c.h)):(v||(g=Zs(g,kf)),c.i=new ar(g,c.h))}function ne(c,g,v){c.i.set(g,v)}function $s(c){return ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Kn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,rc),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dl=/[#\/\?@]/g,ml=/[#\?:]/g,Pf=/[#\?]/g,kf=/[#\?@]/g,Ha=/#/g;function ar(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Vf(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=ar.prototype,i.add=function(c,g){Yn(this),this.i=null,c=Ii(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function or(c,g){Yn(c),g=Ii(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function lr(c,g){return Yn(c),g=Ii(c,g),c.g.has(g)}i.forEach=function(c,g){Yn(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(g,L,A,this)},this)},this)},i.na=function(){Yn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const L=c[A];for(let Q=0;Q<L.length;Q++)v.push(g[A])}return v},i.V=function(c){Yn(this);let g=[];if(typeof c=="string")lr(this,c)&&(g=g.concat(this.g.get(Ii(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return Yn(this),this.i=null,c=Ii(this,c),lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function pl(c,g,v){or(c,g),0<v.length&&(c.i=null,c.g.set(Ii(c,g),G(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const Q=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var L=Q;at[A]!==""&&(L+="="+encodeURIComponent(String(at[A]))),c.push(L)}}return this.i=c.join("&")};function Ii(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sc(c,g){g&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(v,A){var L=A.toLowerCase();A!=L&&(or(this,A),pl(this,L,v))},c)),c.j=g}function Ws(c,g){const v=new me;if(m.Image){const A=new Image;A.onload=P(Xn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Xn,v,"TestLoadImage: error",!1,g,A),A.onabort=P(Xn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Xn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function hi(c,g){const v=new me,A=new AbortController,L=setTimeout(()=>{A.abort(),Xn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(L),Q.ok?Xn(v,"TestPingServer: ok",!0,g):Xn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Xn(v,"TestPingServer: error",!1,g)})}function Xn(c,g,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Js(){this.g=new Ji}function Ci(c,g,v){const A=v||"";try{fl(c,function(L,Q){let at=L;y(L)&&(at=wn(L)),g.push(A+Q+"="+encodeURIComponent(at))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(jr,tr),jr.prototype.g=function(){return new ur(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function ur(c,g){ae.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(ur,ae),i=ur.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Di(this):Oi(this),this.readyState==3&&gl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Di(this))},i.Qa=function(c){this.g&&(this.response=c,Di(this))},i.ga=function(){this.g&&Di(this)};function Di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Oi(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yl(c){let g="";return Et(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function He(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=yl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ne(c,g,v))}function Zt(c){ae.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Zt,ae);var Fa=/^https?$/i,ta=["POST","PUT"];i=Zt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Si.g(),this.v=this.o?Rn(this.o):Rn(Si),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){ac(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of v)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ac(this,Q)}};function ac(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ga(c),Ni(c)}function Ga(c){c.A||(c.A=!0,Xt(c,"complete"),Xt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xt(this,"complete"),Xt(this,"abort"),Ni(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Zt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},i.bb=function(){Qa(this)};function Qa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)Ce(c.Ea,0,c);else if(Xt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=at===0){var L=String(c.D).match(Ys)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!Fa.test(L?L.toLowerCase():"")}v=A}if(v)Xt(c,"complete"),Xt(c,"success");else{c.m=6;try{var Q=2<$n(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ga(c)}}finally{Ni(c)}}}}function Ni(c,g){if(c.g){ea(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Xt(c,"ready");try{v.onreadystatechange=A}catch{}}}function ea(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Wi(g)}};function oc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uf(c){const g={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ot(c[A]))continue;var v=x(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[L]||[];g[L]=Q,Q.push(v)}M(g,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ka(c){this.Aa=0,this.i=[],this.j=new me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,c),this.cb=na("retryDelaySeedMs",1e4,c),this.Wa=na("forwardChannelMaxRetries",2,c),this.wa=na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rr(c&&c.concurrentRequestLimit),this.Da=new Js,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ka.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,A){Pt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=mc(this,null,this.W),Xa(this)};function vl(c){if(lc(c),c.G==3){var g=c.U++,v=Pn(c.I);if(ne(v,"SID",c.K),ne(v,"RID",g),ne(v,"TYPE","terminate"),ia(c,v),g=new yn(c,c.j,g),g.L=2,g.v=$s(Pn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=pc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qs(g)}dc(c)}function Ya(c){c.g&&(ra(c),c.g.cancel(),c.g=null)}function lc(c){Ya(c),c.u&&(m.clearTimeout(c.u),c.u=null),$a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Xa(c){if(!za(c.h)&&!c.s){c.s=!0;var g=c.Ga;st||D(),mt||(st(),mt=!0),Dt.add(g,c),c.B=0}}function Lf(c,g){return Ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qt(S(c.Ga,c,g),Tl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new yn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(L.H=Q,Q=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=uc(this,L,g),v=Pn(this.I),ne(v,"RID",c),ne(v,"CVER",22),this.D&&ne(v,"X-HTTP-Session-Id",this.D),ia(this,v),Q&&(this.O?g="headers="+encodeURIComponent(String(yl(Q)))+"&"+g:this.m&&He(v,this.m,Q)),qa(this.h,L),this.Ua&&ne(v,"TYPE","init"),this.P?(ne(v,"$req",g),ne(v,"SID","null"),L.T=!0,ci(L,v,null)):ci(L,v,g),this.G=2}}else this.G==3&&(c?_l(this,c):this.i.length==0||za(this.h)||_l(this))};function _l(c,g){var v;g?v=g.l:v=c.U++;const A=Pn(c.I);ne(A,"SID",c.K),ne(A,"RID",v),ne(A,"AID",c.T),ia(c,A),c.m&&c.o&&He(A,c.m,c.o),v=new yn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=uc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qa(c.h,v),ci(v,A,g)}function ia(c,g){c.H&&Et(c.H,function(v,A){ne(g,A,v)}),c.l&&fl({},function(v,A){ne(g,A,v)})}function uc(c,g,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;t:{var L=c.i;let Q=-1;for(;;){const at=["count="+v];Q==-1?0<v?(Q=L[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Bt=!0;for(let ke=0;ke<v;ke++){let qt=L[ke].g;const Fe=L[ke].map;if(qt-=Q,0>qt)Q=Math.max(0,L[ke].g-100),Bt=!1;else try{Ci(Fe,at,"req"+qt+"_")}catch{A&&A(Fe)}}if(Bt){A=at.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,A}function cc(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;st||D(),mt||(st(),mt=!0),Dt.add(g,c),c.v=0}}function El(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qt(S(c.Fa,c),Tl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Ya(this),hc(this))};function ra(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hc(c){c.g=new yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Pn(c.qa);ne(g,"RID","rpc"),ne(g,"SID",c.K),ne(g,"AID",c.T),ne(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ne(g,"TO",c.ja),ne(g,"TYPE","xmlhttp"),ia(c,g),c.m&&c.o&&He(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=$s(Pn(g)),v.m=null,v.P=!0,ir(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ya(this),El(this),Pt(19))};function $a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fc(c,g){var v=null;if(c.g==g){$a(c),ra(c),c.g=null;var A=2}else if(cl(c.h,g))v=g.D,vn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;A=ue(),Xt(A,new de(A,v)),Xa(c)}else cc(c);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&Lf(c,g)||A==2&&El(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),L){case 1:cr(c,5);break;case 4:cr(c,10);break;case 3:cr(c,6);break;default:cr(c,2)}}}function Tl(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function cr(c,g){if(c.j.info("Error code "+g),g==2){var v=S(c.fb,c),A=c.Xa;const L=!A;A=new Oe(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xs(A,"https"),$s(A),L?Ws(A.toString(),v):hi(A.toString(),v)}else Pt(2);c.G=0,c.l&&c.l.sa(g),dc(c),lc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function dc(c){if(c.G=0,c.ka=[],c.l){const g=hl(c.h);(g.length!=0||c.i.length!=0)&&(V(c.ka,g),V(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function mc(c,g,v){var A=v instanceof Oe?Pn(v):new Oe(v);if(A.g!="")g&&(A.g=g+"."+A.g),qr(A,A.s);else{var L=m.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var Q=new Oe(null);A&&Xs(Q,A),g&&(Q.g=g),L&&qr(Q,L),v&&(Q.l=v),A=Q}return v=c.D,g=c.ya,v&&g&&ne(A,v,g),ne(A,"VER",c.la),ia(c,A),A}function pc(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Zt(new jr({eb:v})):new Zt(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}i=gc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Za(){}Za.prototype.g=function(c,g){return new _n(c,g)};function _n(c,g){ae.call(this),this.g=new Ka(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ot(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ot(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Mi(this)}B(_n,ae),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){vl(this.g)},_n.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=wn(c),c=v);g.i.push(new ic(g.Ya++,c)),g.G==3&&Xa(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,_n.aa.N.call(this)};function yc(c){Qn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}B(yc,Qn);function vc(){Ur.call(this),this.status=1}B(vc,Ur);function Mi(c){this.g=c}B(Mi,gc),Mi.prototype.ua=function(){Xt(this.g,"a")},Mi.prototype.ta=function(c){Xt(this.g,new yc(c))},Mi.prototype.sa=function(c){Xt(this.g,new vc)},Mi.prototype.ra=function(){Xt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,vb=function(){return new Za},yb=function(){return ue()},gb=Tt,cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,xh=zr,nr.COMPLETE="complete",pb=nr,Fs.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",ae.prototype.listen=ae.prototype.K,hu=Fs,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,mb=Zt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const H0="@firebase/firestore",F0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Pp("@firebase/firestore");function Co(){return Oa.logLevel}function ht(i,...t){if(Oa.logLevel<=Lt.DEBUG){const e=t.map(Yp);Oa.debug(`Firestore (${sl}): ${i}`,...e)}}function Mr(i,...t){if(Oa.logLevel<=Lt.ERROR){const e=t.map(Yp);Oa.error(`Firestore (${sl}): ${i}`,...e)}}function Yo(i,...t){if(Oa.logLevel<=Lt.WARN){const e=t.map(Yp);Oa.warn(`Firestore (${sl}): ${i}`,...e)}}function Yp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,_b(i,s,e)}function _b(i,t,e){let s=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Mr(s),new Error(s)}function Wt(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||_b(t,o,s)}function Ct(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Pr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(dn.UNAUTHENTICATED))}shutdown(){}}class J2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class tD{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ds,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ds)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new Eb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class eD{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nD{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new eD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new G0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function xt(i,t){return i<t?-1:i>t?1:0}function hp(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return xt(s,o);{const u=Tb(),f=sD(u.encode(Q0(i,e)),u.encode(Q0(t,e)));return f!==0?f:xt(s,o)}}e+=s>65535?2:1}return xt(i.length,t.length)}function Q0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function sD(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return xt(i[e],t[e]);return xt(i.length,t.length)}function Xo(i,t,e){return i.length===t.length&&i.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Y0=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*Y0);return new Be(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<K0)throw new yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-K0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Be(0,0))}static max(){return new It(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class Bi{constructor(t,e,s){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&St(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return xt(t.length,e.length)}static compareSegments(t,e){const s=Bi.isNumericId(t),o=Bi.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(e)):hp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cs.fromString(t.substring(4,t.length-2))}}class ce extends Bi{construct(t,e,s){return new ce(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new ce(e)}static emptyPath(){return new ce([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Bi{construct(t,e,s){return new rn(t,e,s)}static isValidIdentifier(t){return aD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new rn([X0])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new yt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ce.fromString(t))}static fromName(t){return new _t(ce.fromString(t).popFirst(5))}static empty(){return new _t(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ce(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function oD(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new Be(e+1,0):new Be(e,s));return new Ns(o,_t.empty(),t)}function lD(i){return new Ns(i.readTime,i.key,Iu)}class Ns{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Ns(It.min(),_t.empty(),Iu)}static max(){return new Ns(It.max(),_t.empty(),Iu)}}function uD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(i.documentKey,t.documentKey),e!==0?e:xt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==cD)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):J.reject(e)}static resolve(t){return new J((e,s)=>{e(t)})}static reject(t){return new J((e,s)=>{s(t)})}static waitFor(t){return new J((e,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&e()},p=>s(p))}),f=!0,u===o&&e()})}static or(t){let e=J.resolve(!1);for(const s of t)e=e.next(o=>o?J.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,u)=>{s.push(e.call(this,o,u))}),this.waitFor(s)}static mapArray(t,e){return new J((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;e(t[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(t,e){return new J((s,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):s()};u()})}}function fD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ol(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}mf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function pf(i){return i==null}function Yh(i){return i===0&&1/i==-1/0}function dD(i){return typeof i=="number"&&Number.isInteger(i)&&!Yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="";function mD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=$0(t)),t=pD(i.get(e),t);return $0(t)}function pD(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case Ab:e+="";break;default:e+=u}}return e}function $0(i){return i+Ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function zs(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Sb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bh(this.root,t,this.comparator,!0)}}class bh{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new nn(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(t){return new W0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new qe(this.comparator);return e.data=t,e}}class W0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Hn([])}unionWith(t){let e=new qe(rn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Hn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Xo(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wb("Invalid base64 string: "+u):u}}(t);return new sn(e)}static fromUint8Array(t){const e=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new sn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(i){if(Wt(!!i,39018),typeof i=="string"){let t=0;const e=gD.exec(i);if(Wt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Re(i.seconds),nanos:Re(i.nanos)}}function Re(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xs(i){return typeof i=="string"?sn.fromBase64String(i):sn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="server_timestamp",Ib="__type__",Cb="__previous_value__",Db="__local_write_time__";function $p(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ib])===null||e===void 0?void 0:e.stringValue)===Rb}function gf(i){const t=i.mapValue.fields[Cb];return $p(t)?gf(t):t}function Cu(i){const t=Ms(i.mapValue.fields[Db].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,e,s,o,u,f,m,p,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const Xh="(default)";class Du{constructor(t,e){this.projectId=t,this.database=e||Xh}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(t){return t instanceof Du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",vD="__max__",Ah={mapValue:{}},Nb="__vector__",$h="value";function Vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$p(i)?4:ED(i)?9007199254740991:_D(i)?10:11:St(28295,{value:i})}function Qi(i,t){if(i===t)return!0;const e=Vs(i);if(e!==Vs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Cu(i).isEqual(Cu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ms(o.timestampValue),m=Ms(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return xs(o.bytesValue).isEqual(xs(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Re(o.geoPointValue.latitude)===Re(u.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Re(o.integerValue)===Re(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Re(o.doubleValue),m=Re(u.doubleValue);return f===m?Yh(f)===Yh(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return Xo(i.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Z0(f)!==Z0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Qi(f[p],m[p])))return!1;return!0}(i,t);default:return St(52216,{left:i})}}function Ou(i,t){return(i.values||[]).find(e=>Qi(e,t))!==void 0}function $o(i,t){if(i===t)return 0;const e=Vs(i),s=Vs(t);if(e!==s)return xt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return xt(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Re(u.integerValue||u.doubleValue),p=Re(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return J0(i.timestampValue,t.timestampValue);case 4:return J0(Cu(i),Cu(t));case 5:return hp(i.stringValue,t.stringValue);case 6:return function(u,f){const m=xs(u),p=xs(f);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=xt(m[y],p[y]);if(T!==0)return T}return xt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=xt(Re(u.latitude),Re(f.latitude));return m!==0?m:xt(Re(u.longitude),Re(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return tE(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,T;const _=u.fields||{},S=f.fields||{},P=(m=_[$h])===null||m===void 0?void 0:m.arrayValue,B=(p=S[$h])===null||p===void 0?void 0:p.arrayValue,G=xt(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=B==null?void 0:B.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:tE(P,B)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ah.mapValue&&f===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(f===Ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let _=0;_<p.length&&_<T.length;++_){const S=hp(p[_],T[_]);if(S!==0)return S;const P=$o(m[p[_]],y[T[_]]);if(P!==0)return P}return xt(p.length,T.length)}(i.mapValue,t.mapValue);default:throw St(23264,{Pe:e})}}function J0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return xt(i,t);const e=Ms(i),s=Ms(t),o=xt(e.seconds,s.seconds);return o!==0?o:xt(e.nanos,s.nanos)}function tE(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=$o(e[o],s[o]);if(u)return u}return xt(e.length,s.length)}function Zo(i){return fp(i)}function fp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=Ms(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return xs(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return _t.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=fp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${fp(e.fields[f])}`;return o+"}"}(i.mapValue):St(61005,{value:i})}function Vh(i){switch(Vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gf(i);return t?16+Vh(t):16;case 5:return 2*i.stringValue.length;case 6:return xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Vh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return zs(s.fields,(u,f)=>{o+=u.length+Vh(f)}),o}(i.mapValue);default:throw St(13486,{value:i})}}function eE(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function dp(i){return!!i&&"integerValue"in i}function Zp(i){return!!i&&"arrayValue"in i}function nE(i){return!!i&&"nullValue"in i}function iE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ph(i){return!!i&&"mapValue"in i}function _D(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ob])===null||e===void 0?void 0:e.stringValue)===Nb}function _u(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return zs(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=_u(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_u(i.arrayValue.values[e]);return t}return Object.assign({},i)}function ED(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Ph(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(e)}setAll(t){let e=rn.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=m.popLast()}f?s[m.lastSegment()]=_u(f):o.push(m.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());Ph(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){zs(e,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Mn(_u(this.value))}}function Mb(i){const t=[];return zs(i.fields,(e,s)=>{const o=new rn([e]);if(Ph(s)){const u=Mb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,e,s,o,u,f,m){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new mn(t,0,It.min(),It.min(),It.min(),Mn.empty(),0)}static newFoundDocument(t,e,s,o){return new mn(t,1,e,It.min(),s,o,0)}static newNoDocument(t,e){return new mn(t,2,e,It.min(),It.min(),Mn.empty(),0)}static newUnknownDocument(t,e){return new mn(t,3,e,It.min(),It.min(),Mn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,e){this.position=t,this.inclusive=e}}function rE(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),e.key):s=$o(f,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Qi(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,e="asc"){this.field=t,this.dir=e}}function TD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{}class Pe extends xb{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new AD(t,e,s):e==="array-contains"?new RD(t,s):e==="in"?new ID(t,s):e==="not-in"?new CD(t,s):e==="array-contains-any"?new DD(t,s):new Pe(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new SD(t,s):new wD(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison($o(e,this.value)):e!==null&&Vs(this.value)===Vs(e)&&this.matchesComparison($o(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends xb{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ti(t,e)}matches(t){return Vb(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Vb(i){return i.op==="and"}function Pb(i){return bD(i)&&Vb(i)}function bD(i){for(const t of i.filters)if(t instanceof Ti)return!1;return!0}function mp(i){if(i instanceof Pe)return i.field.canonicalString()+i.op.toString()+Zo(i.value);if(Pb(i))return i.filters.map(t=>mp(t)).join(",");{const t=i.filters.map(e=>mp(e)).join(",");return`${i.op}(${t})`}}function kb(i,t){return i instanceof Pe?function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&Qi(s.value,o.value)}(i,t):i instanceof Ti?function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&kb(f,o.filters[m]),!0):!1}(i,t):void St(19439)}function Ub(i){return i instanceof Pe?function(e){return`${e.field.canonicalString()} ${e.op} ${Zo(e.value)}`}(i):i instanceof Ti?function(e){return e.op.toString()+" {"+e.getFilters().map(Ub).join(" ,")+"}"}(i):"Filter"}class AD extends Pe{constructor(t,e,s){super(t,e,s),this.key=_t.fromName(s.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class SD extends Pe{constructor(t,e){super(t,"in",e),this.keys=Lb("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class wD extends Pe{constructor(t,e){super(t,"not-in",e),this.keys=Lb("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Lb(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>_t.fromName(s.referenceValue))}class RD extends Pe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Zp(e)&&Ou(e.arrayValue,this.value)}}class ID extends Pe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ou(this.value.arrayValue,e)}}class CD extends Pe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ou(this.value.arrayValue,e)}}class DD extends Pe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Zp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,e=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function aE(i,t=null,e=[],s=[],o=null,u=null,f=null){return new OD(i,t,e,s,o,u,f)}function Wp(i){const t=Ct(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>mp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),pf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Zo(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Zo(s)).join(",")),t.Ie=e}return t.Ie}function Jp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!TD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!kb(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!sE(i.startAt,t.startAt)&&sE(i.endAt,t.endAt)}function pp(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,e=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ND(i,t,e,s,o,u,f,m){return new Gu(i,t,e,s,o,u,f,m)}function zb(i){return new Gu(i)}function oE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Bb(i){return i.collectionGroup!==null}function Eu(i){const t=Ct(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new qe(rn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Wh(u,s))}),e.has(rn.keyField().canonicalString())||t.Ee.push(new Wh(rn.keyField(),s))}return t.Ee}function Fi(i){const t=Ct(i);return t.de||(t.de=MD(t,Eu(i))),t.de}function MD(i,t){if(i.limitType==="F")return aE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Wh(o.field,u)});const e=i.endAt?new Zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zh(i.startAt.position,i.startAt.inclusive):null;return aE(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function gp(i,t){const e=i.filters.concat([t]);return new Gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Jh(i,t,e){return new Gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function yf(i,t){return Jp(Fi(i),Fi(t))&&i.limitType===t.limitType}function qb(i){return`${Wp(Fi(i))}|lt:${i.limitType}`}function Do(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>Ub(o)).join(", ")}]`),pf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>Zo(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>Zo(o)).join(",")),`Target(${s})`}(Fi(i))}; limitType=${i.limitType})`}function vf(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of Eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=rE(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Eu(s),o)||s.endAt&&!function(f,m,p){const y=rE(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Eu(s),o))}(i,t)}function xD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jb(i){return(t,e)=>{let s=!1;for(const o of Eu(i)){const u=VD(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VD(i,t,e){const s=i.field.isKeyField()?_t.comparator(t.key,e.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?$o(p,y):St(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,(e,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new ye(_t.comparator);function xr(){return PD}const Hb=new ye(_t.comparator);function fu(...i){let t=Hb;for(const e of i)t=t.insert(e.key,e);return t}function Fb(i){let t=Hb;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Ta(){return Tu()}function Gb(){return Tu()}function Tu(){return new xa(i=>i.toString(),(i,t)=>i.isEqual(t))}const kD=new ye(_t.comparator),UD=new qe(_t.comparator);function zt(...i){let t=UD;for(const e of i)t=t.add(e);return t}const LD=new qe(xt);function zD(){return LD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(t)?"-0":t}}function Qb(i){return{integerValue:""+i}}function BD(i,t){return dD(t)?Qb(t):tg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function qD(i,t,e){return i instanceof Nu?function(o,u){const f={fields:{[Ib]:{stringValue:Rb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=gf(u)),u&&(f.fields[Cb]=u),{mapValue:f}}(e,t):i instanceof Mu?Yb(i,t):i instanceof xu?Xb(i,t):function(o,u){const f=Kb(o,u),m=lE(f)+lE(o.Re);return dp(f)&&dp(o.Re)?Qb(m):tg(o.serializer,m)}(i,t)}function jD(i,t,e){return i instanceof Mu?Yb(i,t):i instanceof xu?Xb(i,t):e}function Kb(i,t){return i instanceof tf?function(s){return dp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Nu extends _f{}class Mu extends _f{constructor(t){super(),this.elements=t}}function Yb(i,t){const e=$b(t);for(const s of i.elements)e.some(o=>Qi(o,s))||e.push(s);return{arrayValue:{values:e}}}class xu extends _f{constructor(t){super(),this.elements=t}}function Xb(i,t){let e=$b(t);for(const s of i.elements)e=e.filter(o=>!Qi(o,s));return{arrayValue:{values:e}}}class tf extends _f{constructor(t,e){super(),this.serializer=t,this.Re=e}}function lE(i){return Re(i.integerValue||i.doubleValue)}function $b(i){return Zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e){this.field=t,this.transform=e}}function FD(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof Mu&&o instanceof Mu||s instanceof xu&&o instanceof xu?Xo(s.elements,o.elements,Qi):s instanceof tf&&o instanceof tf?Qi(s.Re,o.Re):s instanceof Nu&&o instanceof Nu}(i.transform,t.transform)}class GD{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}let Ef=class{};function Zb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new eg(i.key,Ei.none()):new Qu(i.key,i.data,Ei.none());{const e=i.data,s=Mn.empty();let o=new qe(rn.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Bs(i.key,s,new Hn(o.toArray()),Ei.none())}}function QD(i,t,e){i instanceof Qu?function(o,u,f){const m=o.value.clone(),p=cE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,e):i instanceof Bs?function(o,u,f){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=cE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Wb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,t,e):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,e)}function bu(i,t,e,s){return i instanceof Qu?function(u,f,m,p){if(!kh(u.precondition,f))return m;const y=u.value.clone(),T=hE(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,t,e,s):i instanceof Bs?function(u,f,m,p){if(!kh(u.precondition,f))return m;const y=hE(u.fieldTransforms,p,f),T=f.data;return T.setAll(Wb(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(_=>_.field))}(i,t,e,s):function(u,f,m){return kh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,e)}function KD(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=Kb(s.transform,o||null);u!=null&&(e===null&&(e=Mn.empty()),e.set(s.field,u))}return e||null}function uE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xo(s,o,(u,f)=>FD(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Qu extends Ef{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bs extends Ef{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Wb(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function cE(i,t,e){const s=new Map;Wt(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let o=0;o<e.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,jD(f,m,e[o]))}return s}function hE(i,t,e){const s=new Map;for(const o of i){const u=o.transform,f=e.data.field(o.field);s.set(o.field,qD(u,f,t))}return s}class eg extends Ef{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends Ef{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&QD(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=bu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=bu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=Gb();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=e.has(o.key)?null:m;const p=Zb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),zt())}isEqual(t){return this.batchId===t.batchId&&Xo(this.mutations,t.mutations,(e,s)=>uE(e,s))&&Xo(this.baseMutations,t.baseMutations,(e,s)=>uE(e,s))}}class ng{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Wt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return kD}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ng(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Ht;function WD(i){switch(i){case tt.OK:return St(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return St(15467,{code:i})}}function Jb(i){if(i===void 0)return Mr("GRPC error has no .code"),tt.UNKNOWN;switch(i){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return St(39323,{code:i})}}(Ht=xe||(xe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Cs([4294967295,4294967295],0);function fE(i){const t=Tb().encode(i),e=new db;return e.update(t),new Uint8Array(e.digest())}function dE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Cs([e,s],0),new Cs([o,u],0)]}class ig{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new du(`Invalid padding: ${e}`);if(s<0)throw new du(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new du(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Cs.fromNumber(this.pe)}we(t,e,s){let o=t.add(e.multiply(Cs.fromNumber(s)));return o.compare(JD)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=fE(t),[s,o]=dE(e);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new ig(u,o,e);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const e=fE(t),[s,o]=dE(e);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Tf(It.min(),o,new ye(xt),xr(),zt())}}class Ku{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Ku(s,e,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e,s,o){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=o}}class tA{constructor(t,e){this.targetId=t,this.Ce=e}}class eA{constructor(t,e,s=sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class mE{constructor(){this.Fe=0,this.Me=pE(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=zt(),e=zt(),s=zt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}}),new Ku(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=pE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tO{constructor(t){this.ze=t,this.je=new Map,this.He=xr(),this.Je=Sh(),this.Ye=Sh(),this.Ze=new ye(xt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,s=t.Ce.count,o=this._t(e);if(o){const u=o.target;if(pp(u))if(s===0){const f=new _t(u.path);this.tt(e,f,mn.newNoDocument(f,It.min()))}else Wt(s===1,20013,{expectedCount:s});else{const f=this.ut(e);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(e);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,y)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let f,m;try{f=xs(s).toUint8Array()}catch(p){if(p instanceof wb)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ig(f,o,u)}catch(p){return Yo(p instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(e,u,null),o++)}),o}It(t){const e=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&pp(m.target)){const p=new _t(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,mn.newNoDocument(p,t))}u.Le&&(e.set(f,u.qe()),u.Qe())}});let s=zt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Tf(t,e,this.Ze,this.He,s);return this.He=xr(),this.Je=Sh(),this.Ye=Sh(),this.Ze=new ye(xt),o}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new mE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new qe(xt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new qe(xt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new mE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Sh(){return new ye(_t.comparator)}function pE(){return new ye(_t.comparator)}const eO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class rO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function yp(i,t){return i.useProto3Json||pf(t)?t:{value:t}}function ef(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nA(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function sO(i,t){return ef(i,t.toTimestamp())}function Gi(i){return Wt(!!i,49232),It.fromTimestamp(function(e){const s=Ms(e);return new Be(s.seconds,s.nanos)}(i))}function rg(i,t){return vp(i,t).canonicalString()}function vp(i,t){const e=function(o){return new ce(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function iA(i){const t=ce.fromString(i);return Wt(lA(t),10190,{key:t.toString()}),t}function _p(i,t){return rg(i.databaseId,t.path)}function Ym(i,t){const e=iA(t);if(e.get(1)!==i.databaseId.projectId)throw new yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new _t(sA(e))}function rA(i,t){return rg(i.databaseId,t)}function aO(i){const t=iA(i);return t.length===4?ce.emptyPath():sA(t)}function Ep(i){return new ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sA(i){return Wt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gE(i,t,e){return{name:_p(i,t),fields:e.value.mapValue.fields}}function oO(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Wt(T===void 0||typeof T=="string",58123),sn.fromBase64String(T||"")):(Wt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),sn.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?tt.UNKNOWN:Jb(y.code);return new yt(T,y.message||"")}(f);e=new eA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(i,s.document.name),u=Gi(s.document.updateTime),f=s.document.createTime?Gi(s.document.createTime):It.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];e=new Uh(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Ym(i,s.document),u=s.readTime?Gi(s.readTime):It.min(),f=mn.newNoDocument(o,u),m=s.removedTargetIds||[];e=new Uh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Ym(i,s.document),u=s.removedTargetIds||[];e=new Uh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ZD(o,u),m=s.targetId;e=new tA(m,f)}}return e}function lO(i,t){let e;if(t instanceof Qu)e={update:gE(i,t.key,t.value)};else if(t instanceof eg)e={delete:_p(i,t.key)};else if(t instanceof Bs)e={update:gE(i,t.key,t.data),updateMask:yO(t.fieldMask)};else{if(!(t instanceof YD))return St(16599,{ft:t.type});e={verify:_p(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Nu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof tf)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw St(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:sO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)}(i,t.precondition)),e}function uO(i,t){return i&&i.length>0?(Wt(t!==void 0,14353),i.map(e=>function(o,u){let f=o.updateTime?Gi(o.updateTime):Gi(u);return f.isEqual(It.min())&&(f=Gi(u)),new GD(f,o.transformResults||[])}(e,t))):[]}function cO(i,t){return{documents:[rA(i,t.path)]}}function hO(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=rA(i,o);const u=function(y){if(y.length!==0)return oA(Ti.create(y,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(S){return{field:Oo(S.field),direction:mO(S.dir)}}(T))}(t.orderBy);f&&(e.structuredQuery.orderBy=f);const m=yp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:e,parent:o}}function fO(i){let t=aO(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const T=e.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];e.where&&(u=function(_){const S=aA(_);return S instanceof Ti&&Pb(S)?S.getFilters():[S]}(e.where));let f=[];e.orderBy&&(f=function(_){return _.map(S=>function(B){return new Wh(No(B.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(S))}(e.orderBy));let m=null;e.limit&&(m=function(_){let S;return S=typeof _=="object"?_.value:_,pf(S)?null:S}(e.limit));let p=null;e.startAt&&(p=function(_){const S=!!_.before,P=_.values||[];return new Zh(P,S)}(e.startAt));let y=null;return e.endAt&&(y=function(_){const S=!_.before,P=_.values||[];return new Zh(P,S)}(e.endAt)),ND(t,o,f,u,m,"F",p,y)}function dO(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function aA(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=No(e.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(e.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(e.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=No(e.unaryFilter.field);return Pe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(i):i.fieldFilter!==void 0?function(e){return Pe.create(No(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Ti.create(e.compositeFilter.filters.map(s=>aA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(e.compositeFilter.op))}(i):St(30097,{filter:i})}function mO(i){return eO[i]}function pO(i){return nO[i]}function gO(i){return iO[i]}function Oo(i){return{fieldPath:i.canonicalString()}}function No(i){return rn.fromServerFormat(i.fieldPath)}function oA(i){return i instanceof Pe?function(e){if(e.op==="=="){if(iE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(nE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(iE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(nE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:pO(e.op),value:e.value}}}(i):i instanceof Ti?function(e){const s=e.getFilters().map(o=>oA(o));return s.length===1?s[0]:{compositeFilter:{op:gO(e.op),filters:s}}}(i):St(54877,{filter:i})}function yO(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,e,s,o,u=It.min(),f=It.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t){this.wt=t}}function _O(i){const t=fO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.Cn=new TO}addToCollectionParentIndex(t,e){return this.Cn.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(Ns.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(Ns.min())}updateCollectionGroup(t,e,s){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class TO{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new qe(ce.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new qe(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uA=41943040;class Nn{static withCacheSize(t){return new Nn(t,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(uA,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Wo(0)}static lr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",bO=1048576;function _E([i,t],[e,s]){const o=xt(i,e);return o===0?xt(t,s):o}class AO{constructor(t){this.Er=t,this.buffer=new qe(_E),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();_E(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class SO{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(vE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ol(e)?ht(vE,"Ignoring IndexedDB error during garbage collection: ",e):await al(e)}await this.mr(3e5)})}}class wO{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return J.resolve(mf.le);const s=new AO(e);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(yE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,f=Date.now(),this.nthSequenceNumber(t,o))).next(_=>(s=_,m=Date.now(),this.removeTargets(t,s,e))).next(_=>(u=_,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(y=Date.now(),Co()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_})))}}function RO(i,t){return new wO(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.changes=new xa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?J.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&bu(s.mutation,o,Hn.empty(),Be.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,zt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=zt()){const o=Ta();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(u=>{let f=fu();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,e){const s=Ta();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,zt()))}populateOverlays(t,e,s){const o=[];return s.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{e.set(f,m)})})}computeViews(t,e,s,o){let u=xr();const f=Tu(),m=function(){return Tu()}();return e.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Bs)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),bu(T.mutation,y,T.mutation.getFieldMask(),Be.now())):f.set(y.key,Hn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),e.forEach((y,T)=>{var _;return m.set(y,new CO(T,(_=f.get(y))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,e){const s=Tu();let o=new ye((f,m)=>f-m),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=e.get(p);if(y===null)return;let T=s.get(p)||Hn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const _=(o.get(m.batchId)||zt()).add(p);o=o.insert(m.batchId,_)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,_=Gb();T.forEach(S=>{if(!u.has(S)){const P=Zb(e.get(S),s.get(S));P!==null&&_.set(S,P),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,_))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Bb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):J.resolve(Ta());let m=Iu,p=u;return f.next(y=>J.forEach(y,(T,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next(S=>{p=p.insert(T,S)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,zt())).next(T=>({batchId:m,changes:Fb(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(s=>{let o=fu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let f=fu();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,p=>{const y=function(_,S){return new Gu(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((_,S)=>{f=f.insert(_,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,mn.newInvalidDocument(T)))});let m=fu();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&bu(T.mutation,y,Hn.empty(),Be.now()),vf(e,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return J.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}}(e)),J.resolve()}getNamedQuery(t,e){return J.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:_O(o.bundledQuery),readTime:Gi(o.readTime)}}(e)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new ye(_t.comparator),this.Qr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ta();return J.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,u)=>{this.St(t,e,u)}),J.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(t,e,s){const o=Ta(),u=e.length+1,f=new _t(e.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new ye((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ta(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return J.resolve(m)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $D(e,s));let u=this.Qr.get(e);u===void 0&&(u=zt(),this.Qr.set(e,u)),this.Qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.$r=new qe(Ye.Ur),this.Kr=new qe(Ye.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Ye(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Ye(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new _t(new ce([])),s=new Ye(e,t),o=new Ye(e,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new _t(new ce([])),s=new Ye(e,t),o=new Ye(e,t+1);let u=zt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const e=new Ye(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return _t.comparator(t.key,e.key)||xt(t.Zr,e.Zr)}static Wr(t,e){return xt(t.Zr,e.Zr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new qe(Ye.Ur)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XD(u,e,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Ye(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,e){return J.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ti(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Xp:this.nr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ye(e,0),o=new Ye(e,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new qe(xt);return e.forEach(o=>{const u=new Ye(o,0),f=new Ye(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new Ye(new _t(u),0);let m=new qe(xt);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},f),J.resolve(this.ni(m))}ni(t){const e=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Wt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(e.mutations,o=>{const u=new Ye(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Ye(e,0),o=this.Xr.firstAfterOrEqual(s);return J.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.ii=t,this.docs=function(){return new ye(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return J.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(e))}getEntries(t,e){let s=xr();return e.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=xr();const f=e.path,m=new _t(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||uD(lD(T),s)<=0||(o.has(T.key)||vf(e,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,e,s,o){St(9500)}si(t,e){return J.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new PO(this)}getSize(t){return J.resolve(this.size)}}class PO extends IO{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),J.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.persistence=t,this.oi=new xa(e=>Wp(e),Jp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this._i=0,this.ai=new sg,this.targetCount=0,this.ui=Wo.cr()}forEachTarget(t,e){return this.oi.forEach((s,o)=>e(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),J.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Wo(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.Tr(e),J.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=e&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return J.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),J.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return J.resolve(s)}containsKey(t,e){return J.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,e){this.ci={},this.overlays={},this.li=new mf(0),this.hi=!1,this.hi=!0,this.Pi=new MO,this.referenceDelegate=t(this),this.Ti=new kO(this),this.indexManager=new EO,this.remoteDocumentCache=function(o){return new VO(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new vO(e),this.Ei=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new NO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new xO(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const o=new UO(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,e){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class UO extends hD{constructor(t){super(),this.currentSequenceNumber=t}}class ag{constructor(t){this.persistence=t,this.Vi=new sg,this.mi=null}static fi(t){return new ag(t)}get gi(){if(this.mi)return this.mi;throw St(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),J.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),J.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const o=_t.fromPath(s);return this.pi(t,o).next(u=>{u||e.removeEntry(o,It.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return J.or([()=>J.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class nf{constructor(t,e){this.persistence=t,this.yi=new xa(s=>mD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=RO(this,e)}static fi(t,e){return new nf(t,e)}di(){}Ai(t){return J.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return J.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?J.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,e).next(m=>{m||(s++,u.removeEntry(f,It.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),J.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),J.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Vh(t.data.value)),e}Dr(t,e,s){return J.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.ds=s,this.As=o}static Rs(t,e){let s=zt(),o=zt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new og(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return hR()?8:fD(pn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ws(t,e).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,e,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new LO;return this.Ss(t,e,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,e,f,m.size)})}).next(()=>u.result)}Ds(t,e,s,o){return s.documentReadCount<this.gs?(Co()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Do(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(Co()<=Lt.DEBUG&&ht("QueryEngine","Query:",Do(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Co()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Do(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(e))):J.resolve())}ws(t,e){if(oE(e))return J.resolve(null);let s=Fi(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Jh(e,null,"F"),s=Fi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=zt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.vs(e,m);return this.Cs(e,y,f,p.readTime)?this.ws(t,Jh(e,null,"F")):this.Fs(t,y,e,p)}))})))}bs(t,e,s,o){return oE(e)||o.isEqual(It.min())?J.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(e,u);return this.Cs(e,f,s,o)?J.resolve(null):(Co()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(e)),this.Fs(t,f,e,oD(o,Iu)).next(m=>m))})}vs(t,e){let s=new qe(jb(t));return e.forEach((o,u)=>{vf(t,u)&&(s=s.add(u))}),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return Co()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Do(e)),this.ys.getDocumentsMatchingQuery(t,e,Ns.min(),s)}Fs(t,e,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(e.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",BO=3e8;class qO{constructor(t,e,s,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new ye(xt),this.Os=new xa(u=>Wp(u),Jp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function jO(i,t,e,s){return new qO(i,t,e,s)}async function hA(i,t){const e=Ct(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=zt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return e.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function HO(i,t){const e=Ct(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=e.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const _=y.batch,S=_.keys();let P=J.resolve();return S.forEach(B=>{P=P.next(()=>T.getEntry(p,B)).next(G=>{const V=y.docVersions.get(B);Wt(V!==null,48541),G.version.compareTo(V)<0&&(_.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),T.addEntry(G)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,_))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=zt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function fA(i){const t=Ct(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function FO(i,t){const e=Ct(i),s=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const m=[];t.targetChanges.forEach((T,_)=>{const S=o.get(_);if(!S)return;m.push(e.Ti.removeMatchingKeys(u,T.removedDocuments,_).next(()=>e.Ti.addMatchingKeys(u,T.addedDocuments,_)));let P=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?P=P.withResumeToken(sn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(_,P),function(G,V,rt){return G.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=BO?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(S,P,T)&&m.push(e.Ti.updateTargetData(u,P))});let p=xr(),y=zt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(GO(u,f,t.documentUpdates).next(T=>{p=T.qs,y=T.Qs})),!s.isEqual(It.min())){const T=e.Ti.getLastRemoteSnapshotVersion(u).next(_=>e.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(e.xs=o,u))}function GO(i,t,e){let s=zt(),o=zt();return e.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let f=xr();return e.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(lg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function QO(i,t){const e=Ct(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Xp),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function KO(i,t){const e=Ct(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Ti.getTargetData(s,t).next(u=>u?(o=u,J.resolve(o)):e.Ti.allocateTargetId(s).next(f=>(o=new bs(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Tp(i,t,e){const s=Ct(i),o=s.xs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ol(f))throw f;ht(lg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function EE(i,t,e){const s=Ct(i);let o=It.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const _=Ct(p),S=_.Os.get(T);return S!==void 0?J.resolve(_.xs.get(S)):_.Ti.getTargetData(y,T)}(s,f,Fi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,e?o:It.min(),e?u:zt())).next(m=>(YO(s,xD(t),m),{documents:m,$s:u})))}function YO(i,t,e){let s=i.Ns.get(t)||It.min();e.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(t,s)}class TE{constructor(){this.activeTargetIds=zD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XO{constructor(){this.xo=new TE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new TE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class AE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(bE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(bE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function bp(){return wh===null?wh=function(){return 268435456+Math.round(2147483648*Math.random())}():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WO{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,e,s,o,u){const f=bp(),m=this.jo(t,e.toUriEncodedString());ht(Xm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(m),T=zu(y);return this.Jo(t,m,p,s,T).then(_=>(ht(Xm,`Received RPC '${t}' ${f}: `,_),_),_=>{throw Yo(Xm,`RPC '${t}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Yo(t,e,s,o,u,f){return this.zo(t,e,s,o,u)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,e){const s=ZO[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class tN extends WO{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const f=bp();return new Promise((m,p)=>{const y=new mb;y.setWithCredentials(!0),y.listenOnce(pb.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case xh.NO_ERROR:const _=y.getResponseJson();ht(hn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(_)),m(_);break;case xh.TIMEOUT:ht(hn,`RPC '${t}' ${f} timed out`),p(new yt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const S=y.getStatus();if(ht(hn,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const B=P==null?void 0:P.error;if(B&&B.status&&B.message){const G=function(rt){const ot=rt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ot)>=0?ot:tt.UNKNOWN}(B.status);p(new yt(G,B.message))}else p(new yt(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new yt(tt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{h_:t,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ht(hn,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(o);ht(hn,`RPC '${t}' ${f} sending request:`,o),y.send(e,"POST",T,s,15)})}I_(t,e,s){const o=bp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=vb(),m=yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ht(hn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const _=f.createWebChannel(T,p);this.E_(_);let S=!1,P=!1;const B=new JO({Zo:V=>{P?ht(hn,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(S||(ht(hn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),S=!0),ht(hn,`RPC '${t}' stream ${o} sending:`,V),_.send(V))},Xo:()=>_.close()}),G=(V,rt,ot)=>{V.listen(rt,nt=>{try{ot(nt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return G(_,hu.EventType.OPEN,()=>{P||(ht(hn,`RPC '${t}' stream ${o} transport opened.`),B.__())}),G(_,hu.EventType.CLOSE,()=>{P||(P=!0,ht(hn,`RPC '${t}' stream ${o} transport closed`),B.u_(),this.d_(_))}),G(_,hu.EventType.ERROR,V=>{P||(P=!0,Yo(hn,`RPC '${t}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),B.u_(new yt(tt.UNAVAILABLE,"The operation could not be completed")))}),G(_,hu.EventType.MESSAGE,V=>{var rt;if(!P){const ot=V.data[0];Wt(!!ot,16349);const nt=ot,pt=(nt==null?void 0:nt.error)||((rt=nt[0])===null||rt===void 0?void 0:rt.error);if(pt){ht(hn,`RPC '${t}' stream ${o} received error:`,pt);const ut=pt.status;let Et=function(R){const O=xe[R];if(O!==void 0)return Jb(O)}(ut),M=pt.message;Et===void 0&&(Et=tt.INTERNAL,M="Unknown error status: "+ut+" with message "+pt.message),P=!0,B.u_(new yt(Et,M)),_.close()}else ht(hn,`RPC '${t}' stream ${o} received:`,ot),B.c_(ot)}}),G(m,gb.STAT_EVENT,V=>{V.stat===cp.PROXY?ht(hn,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===cp.NOPROXY&&ht(hn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.a_()},0),B}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(i){return new rO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,e,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class mA{constructor(t,e,s,o,u,f,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new dA(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(Mr(e.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===e&&this.z_(s,o)},s=>{t(()=>{const o=new yt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ht(SE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(ht(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eN extends mA{constructor(t,e,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=oO(this.serializer,t),s=function(u){if(!("targetChange"in u))return It.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?Gi(f.readTime):It.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Ep(this.serializer),e.addTarget=function(u,f){let m;const p=f.target;if(m=pp(p)?{documents:cO(u,p)}:{query:hO(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nA(u,f.resumeToken);const y=yp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(It.min())>0){m.readTime=ef(u,f.snapshotVersion.toTimestamp());const y=yp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=dO(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Ep(this.serializer),e.removeTarget=t,this.Q_(e)}}class nN extends mA{constructor(t,e,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=uO(t.writeResults,t.commitTime),s=Gi(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Ep(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>lO(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{}class rN extends iN{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new yt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,vp(e,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(tt.UNKNOWN,u.toString())})}Yo(t,e,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,vp(e,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(tt.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class sN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Mr(e),this.ua=!1):ht("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class aN{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Va(this)&&(ht(Na,"Restarting streams for network reachability change."),await async function(p){const y=Ct(p);y.da.add(4),await Yu(y),y.Va.set("Unknown"),y.da.delete(4),await Af(y)}(this))})}),this.Va=new sN(s,o)}}async function Af(i){if(Va(i))for(const t of i.Aa)await t(!0)}async function Yu(i){for(const t of i.Aa)await t(!1)}function pA(i,t){const e=Ct(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),fg(e)?hg(e):ll(e).N_()&&cg(e,t))}function ug(i,t){const e=Ct(i),s=ll(e);e.Ea.delete(t),s.N_()&&gA(e,t),e.Ea.size===0&&(s.N_()?s.k_():Va(e)&&e.Va.set("Unknown"))}function cg(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ll(i).Z_(t)}function gA(i,t){i.ma.Ke(t),ll(i).X_(t)}function hg(i){i.ma=new tO({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.Va.ca()}function fg(i){return Va(i)&&!ll(i).O_()&&i.Ea.size>0}function Va(i){return Ct(i).da.size===0}function yA(i){i.ma=void 0}async function oN(i){i.Va.set("Online")}async function lN(i){i.Ea.forEach((t,e)=>{cg(i,t)})}async function uN(i,t){yA(i),fg(i)?(i.Va.Pa(t),hg(i)):i.Va.set("Unknown")}async function cN(i,t,e){if(i.Va.set("Online"),t instanceof eA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,t)}catch(s){ht(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rf(i,s)}else if(t instanceof Uh?i.ma.Xe(t):t instanceof tA?i.ma.ot(t):i.ma.nt(t),!e.isEqual(It.min()))try{const s=await fA(i.localStore);e.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ea.get(y);T&&u.Ea.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.Ea.get(p);if(!T)return;u.Ea.set(p,T.withResumeToken(sn.EMPTY_BYTE_STRING,T.snapshotVersion)),gA(u,p);const _=new bs(T.target,p,y,T.sequenceNumber);cg(u,_)}),u.remoteSyncer.applyRemoteEvent(m)}(i,e)}catch(s){ht(Na,"Failed to raise snapshot:",s),await rf(i,s)}}async function rf(i,t,e){if(!ol(t))throw t;i.da.add(1),await Yu(i),i.Va.set("Offline"),e||(e=()=>fA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ht(Na,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Af(i)})}function vA(i,t){return t().catch(e=>rf(i,e,t))}async function Sf(i){const t=Ct(i),e=Ps(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Xp;for(;hN(t);)try{const o=await QO(t.localStore,s);if(o===null){t.Ia.length===0&&e.k_();break}s=o.batchId,fN(t,o)}catch(o){await rf(t,o)}_A(t)&&EA(t)}function hN(i){return Va(i)&&i.Ia.length<10}function fN(i,t){i.Ia.push(t);const e=Ps(i);e.N_()&&e.ea&&e.ta(t.mutations)}function _A(i){return Va(i)&&!Ps(i).O_()&&i.Ia.length>0}function EA(i){Ps(i).start()}async function dN(i){Ps(i).ia()}async function mN(i){const t=Ps(i);for(const e of i.Ia)t.ta(e.mutations)}async function pN(i,t,e){const s=i.Ia.shift(),o=ng.from(s,t,e);await vA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Sf(i)}async function gN(i,t){t&&Ps(i).ea&&await async function(s,o){if(function(f){return WD(f)&&f!==tt.ABORTED}(o.code)){const u=s.Ia.shift();Ps(s).L_(),await vA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Sf(s)}}(i,t),_A(i)&&EA(i)}async function wE(i,t){const e=Ct(i);e.asyncQueue.verifyOperationInProgress(),ht(Na,"RemoteStore received new credentials");const s=Va(e);e.da.add(3),await Yu(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Af(e)}async function yN(i,t){const e=Ct(i);t?(e.da.delete(2),await Af(e)):t||(e.da.add(2),await Yu(e),e.Va.set("Unknown"))}function ll(i){return i.fa||(i.fa=function(e,s,o){const u=Ct(e);return u.oa(),new eN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:oN.bind(null,i),n_:lN.bind(null,i),i_:uN.bind(null,i),Y_:cN.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),fg(i)?hg(i):i.Va.set("Unknown")):(await i.fa.stop(),yA(i))})),i.fa}function Ps(i){return i.ga||(i.ga=function(e,s,o){const u=Ct(e);return u.oa(),new nN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:dN.bind(null,i),i_:gN.bind(null,i),na:mN.bind(null,i),ra:pN.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Sf(i)):(await i.ga.stop(),i.Ia.length>0&&(ht(Na,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const f=Date.now()+s,m=new dg(t,e,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(i,t){if(Mr("AsyncQueue",`${t}: ${i}`),ol(i))return new yt(tt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(t){return new ko(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||_t.comparator(e.key,s.key):(e,s)=>_t.comparator(e.key,s.key),this.keyedMap=fu(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ko)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new ko;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.pa=new ye(_t.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):St(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Jo{constructor(t,e,s,o,u,f,m,p,y){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,e,s,o,u){const f=[];return e.forEach(m=>{f.push({type:0,doc:m})}),new Jo(t,e,ko.emptySet(e),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class _N{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Ct(e),u=o.queries;o.queries=IE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new yt(tt.ABORTED,"Firestore shutting down"))}}function IE(){return new xa(i=>qb(i),yf)}async function EN(i,t){const e=Ct(i);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new vN,s=t.va()?0:1);try{switch(s){case 0:u.ba=await e.onListen(o,!0);break;case 1:u.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const m=mg(f,`Initialization of query '${Do(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.Fa(e.onlineState),u.ba&&t.Ma(u.ba)&&pg(e)}async function TN(i,t){const e=Ct(i),s=t.query;let o=3;const u=e.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function bN(i,t){const e=Ct(i);let s=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&pg(e)}function AN(i,t,e){const s=Ct(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function pg(i){i.Ca.forEach(t=>{t.next()})}var Ap,CE;(CE=Ap||(Ap={})).xa="default",CE.Cache="cache";class SN{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Jo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Jo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.key=t}}class bA{constructor(t){this.key=t}}class wN{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.Za=jb(t),this.Xa=new ko(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new RE,o=e?e.Xa:this.Xa;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,_)=>{const S=o.get(T),P=vf(this.query,_)?_:null,B=!!S&&this.mutatedKeys.has(S.key),G=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;S&&P?S.data.isEqual(P.data)?B!==G&&(s.track({type:3,doc:P}),V=!0):this.ru(S,P)||(s.track({type:2,doc:P}),V=!0,(p&&this.Za(P,p)>0||y&&this.Za(P,y)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),V=!0):S&&!P&&(s.track({type:1,doc:S}),V=!0,(p||y)&&(m=!0)),V&&(P?(f=f.add(P),u=G?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((T,_)=>function(P,B){const G=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:V})}};return G(P)-G(B)}(T.type,_.type)||this.Za(T.doc,_.doc)),this.iu(s),o=o!=null&&o;const m=e&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new Jo(this.query,t.Xa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new bA(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new TA(s))}),e}au(t){this.Ha=t.$s,this.Ya=zt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Jo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const gg="SyncEngine";class RN{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class IN{constructor(t){this.key=t,this.cu=!1}}class CN{constructor(t,e,s,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new xa(m=>qb(m),yf),this.Pu=new Map,this.Tu=new Set,this.Iu=new ye(_t.comparator),this.Eu=new Map,this.du=new sg,this.Au={},this.Ru=new Map,this.Vu=Wo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function DN(i,t,e=!0){const s=CA(i);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await AA(s,t,e,!0),o}async function ON(i,t){const e=CA(i);await AA(e,t,!0,!1)}async function AA(i,t,e,s){const o=await KO(i.localStore,Fi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,e);let m;return s&&(m=await NN(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&e&&pA(i.remoteStore,o),m}async function NN(i,t,e,s,o){i.fu=(_,S,P)=>async function(G,V,rt,ot){let nt=V.view.tu(rt);nt.Cs&&(nt=await EE(G.localStore,V.query,!1).then(({documents:M})=>V.view.tu(M,nt)));const pt=ot&&ot.targetChanges.get(V.targetId),ut=ot&&ot.targetMismatches.get(V.targetId)!=null,Et=V.view.applyChanges(nt,G.isPrimaryClient,pt,ut);return OE(G,V.targetId,Et.ou),Et.snapshot}(i,_,S,P);const u=await EE(i.localStore,t,!0),f=new wN(t,u.$s),m=f.tu(u.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);OE(i,e,y.ou);const T=new RN(t,e,f);return i.hu.set(t,T),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),y.snapshot}async function MN(i,t,e){const s=Ct(i),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!yf(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&ug(s.remoteStore,o.targetId),Sp(s,o.targetId)}).catch(al)):(Sp(s,o.targetId),await Tp(s.localStore,o.targetId,!0))}async function xN(i,t){const e=Ct(i),s=e.hu.get(t),o=e.Pu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),ug(e.remoteStore,s.targetId))}async function VN(i,t,e){const s=qN(i);try{const o=await function(f,m){const p=Ct(f),y=Be.now(),T=m.reduce((P,B)=>P.add(B.key),zt());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let B=xr(),G=zt();return p.Bs.getEntries(P,T).next(V=>{B=V,B.forEach((rt,ot)=>{ot.isValidDocument()||(G=G.add(rt))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,B)).next(V=>{_=V;const rt=[];for(const ot of m){const nt=KD(ot,_.get(ot.key).overlayedDocument);nt!=null&&rt.push(new Bs(ot.key,nt,Mb(nt.value.mapValue),Ei.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,rt,m)}).next(V=>{S=V;const rt=V.applyToLocalDocumentSet(_,G);return p.documentOverlayCache.saveOverlays(P,V.batchId,rt)})}).then(()=>({batchId:S.batchId,changes:Fb(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Au[f.currentUser.toKey()];y||(y=new ye(xt)),y=y.insert(m,p),f.Au[f.currentUser.toKey()]=y}(s,o.batchId,e),await Xu(s,o.changes),await Sf(s.remoteStore)}catch(o){const u=mg(o,"Failed to persist write");e.reject(u)}}async function SA(i,t){const e=Ct(i);try{const s=await FO(e.localStore,t);t.targetChanges.forEach((o,u)=>{const f=e.Eu.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Wt(f.cu,14607):o.removedDocuments.size>0&&(Wt(f.cu,42227),f.cu=!1))}),await Xu(e,s,t)}catch(s){await al(s)}}function DE(i,t,e){const s=Ct(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ct(f);p.onlineState=m;let y=!1;p.queries.forEach((T,_)=>{for(const S of _.Sa)S.Fa(m)&&(y=!0)}),y&&pg(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PN(i,t,e){const s=Ct(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new ye(_t.comparator);f=f.insert(u,mn.newNoDocument(u,It.min()));const m=zt().add(u),p=new Tf(It.min(),new Map,new ye(xt),f,m);await SA(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(t),yg(s)}else await Tp(s.localStore,t,!1).then(()=>Sp(s,t,e)).catch(al)}async function kN(i,t){const e=Ct(i),s=t.batch.batchId;try{const o=await HO(e.localStore,t);RA(e,s,null),wA(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(e,o)}catch(o){await al(o)}}async function UN(i,t,e){const s=Ct(i);try{const o=await function(f,m){const p=Ct(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(_=>(Wt(_!==null,37113),T=_.keys(),p.mutationQueue.removeMutationBatch(y,_))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);RA(s,t,e),wA(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Xu(s,o)}catch(o){await al(o)}}function wA(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function RA(i,t,e){const s=Ct(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function Sp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),e&&i.lu.gu(s,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||IA(i,s)})}function IA(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(ug(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),yg(i))}function OE(i,t,e){for(const s of e)s instanceof TA?(i.du.addReference(s.key,t),LN(i,s)):s instanceof bA?(ht(gg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||IA(i,s.key)):St(19791,{pu:s})}function LN(i,t){const e=t.key,s=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(s)||(ht(gg,"New document in limbo: "+e),i.Tu.add(s),yg(i))}function yg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new _t(ce.fromString(t)),s=i.Vu.next();i.Eu.set(s,new IN(e)),i.Iu=i.Iu.insert(e,s),pA(i.remoteStore,new bs(Fi(zb(e.path)),s,"TargetPurposeLimboResolution",mf.le))}}async function Xu(i,t,e){const s=Ct(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,t,e).then(y=>{var T;if((y||e)&&s.isPrimaryClient){const _=y?!y.fromCache:(T=e==null?void 0:e.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(y){o.push(y);const _=og.Rs(p.targetId,y);u.push(_)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,y){const T=Ct(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(y,S=>J.forEach(S.ds,P=>T.persistence.referenceDelegate.addReference(_,S.targetId,P)).next(()=>J.forEach(S.As,P=>T.persistence.referenceDelegate.removeReference(_,S.targetId,P)))))}catch(_){if(!ol(_))throw _;ht(lg,"Failed to update sequence numbers: "+_)}for(const _ of y){const S=_.targetId;if(!_.fromCache){const P=T.xs.get(S),B=P.snapshotVersion,G=P.withLastLimboFreeSnapshotVersion(B);T.xs=T.xs.insert(S,G)}}}(s.localStore,u))}async function zN(i,t){const e=Ct(i);if(!e.currentUser.isEqual(t)){ht(gg,"User change. New user:",t.toKey());const s=await hA(e.localStore,t);e.currentUser=t,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new yt(tt.CANCELLED,f))})}),u.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xu(e,s.ks)}}function BN(i,t){const e=Ct(i),s=e.Eu.get(t);if(s&&s.cu)return zt().add(s.key);{let o=zt();const u=e.Pu.get(t);if(!u)return o;for(const f of u){const m=e.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function CA(i){const t=Ct(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=SA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PN.bind(null,t),t.lu.Y_=bN.bind(null,t.eventManager),t.lu.gu=AN.bind(null,t.eventManager),t}function qN(i){const t=Ct(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UN.bind(null,t),t}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return jO(this.persistence,new zO,t.initialUser,this.serializer)}Su(t){return new cA(ag.fi,this.serializer)}bu(t){return new XO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class jN extends sf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Wt(this.persistence.referenceDelegate instanceof nf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SO(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new cA(s=>nf.fi(s,e),this.serializer)}}class wp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zN.bind(null,this.syncEngine),await yN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _N}()}createDatastore(t){const e=bf(t.databaseInfo.databaseId),s=function(u){return new tN(u)}(t.databaseInfo);return function(u,f,m,p){return new rN(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,u,f,m){return new aN(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,e=>DE(this.syncEngine,e,0),function(){return AE.C()?new AE:new $O}())}createSyncEngine(t,e){return function(o,u,f,m,p,y,T){const _=new CN(o,u,f,m,p,y);return T&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=Ct(o);ht(Na,"RemoteStore shutting down."),u.da.add(5),await Yu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class FN{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=bb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(ks,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(ks,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=mg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zm(i,t){i.asyncQueue.verifyOperationInProgress(),ht(ks,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function NE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await GN(i);ht(ks,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>wE(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>wE(t.remoteStore,o)),i._onlineComponents=t}async function GN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(ks,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Yo("Error using user provided cache. Falling back to memory cache: "+e),await Zm(i,new sf)}}else ht(ks,"Using default OfflineComponentProvider"),await Zm(i,new jN(void 0));return i._offlineComponents}async function DA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(ks,"Using user provided OnlineComponentProvider"),await NE(i,i._uninitializedComponentsProvider._online)):(ht(ks,"Using default OnlineComponentProvider"),await NE(i,new wp))),i._onlineComponents}function QN(i){return DA(i).then(t=>t.syncEngine)}async function KN(i){const t=await DA(i),e=t.eventManager;return e.onListen=DN.bind(null,t.syncEngine),e.onUnlisten=MN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ON.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=xN.bind(null,t.syncEngine),e}function YN(i,t,e={}){const s=new Ds;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new HN({next:S=>{T.xu(),f.enqueueAndForget(()=>TN(u,_)),S.fromCache&&p.source==="server"?y.reject(new yt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),_=new SN(m,T,{includeMetadataChanges:!0,Qa:!0});return EN(u,_)}(await KN(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(i,t,e){if(!e)throw new yt(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function XN(i,t,e,s){if(t===!0&&s===!0)throw new yt(tt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function xE(i){if(!_t.isDocumentKey(i))throw new yt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function VE(i){if(_t.isDocumentKey(i))throw new yt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":St(12329,{type:typeof i})}function Ma(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wf(i);throw new yt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firestore.googleapis.com",PE=!0;class kE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MA,this.ssl=PE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:PE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bO)throw new yt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rf{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new W2;switch(s.type){case"firstParty":return new nD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=ME.get(e);s&&(ht("ComponentProvider","Removing Datastore"),ME.delete(e),s.terminate())}(this),Promise.resolve()}}function $N(i,t,e,s={}){var o;i=Ma(i,Rf);const u=zu(t),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${e}`;u&&(ST(`https://${p}`),wT("Firestore",!0)),f.host!==MA&&f.host!==p&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ia(y,m)&&(i._setSettings(y),s.mockUserToken)){let T,_;if(typeof s.mockUserToken=="string")T=s.mockUserToken,_=dn.MOCK_USER;else{T=nR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new yt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(S)}i._authCredentials=new J2(new Eb(T,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=class xA{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xA(this.firestore,t,this._query)}};class Gn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gn(this.firestore,t,this._key)}}class Os extends $u{constructor(t,e,s){super(t,e,zb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gn(this.firestore,null,new _t(t))}withConverter(t){return new Os(this.firestore,t,this._path)}}function Hx(i,t,...e){if(i=Xe(i),NA("collection","path",t),i instanceof Rf){const s=ce.fromString(t,...e);return VE(s),new Os(i,null,s)}{if(!(i instanceof Gn||i instanceof Os))throw new yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...e));return VE(s),new Os(i.firestore,null,s)}}function ZN(i,t,...e){if(i=Xe(i),arguments.length===1&&(t=bb.newId()),NA("doc","path",t),i instanceof Rf){const s=ce.fromString(t,...e);return xE(s),new Gn(i,null,new _t(s))}{if(!(i instanceof Gn||i instanceof Os))throw new yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...e));return xE(s),new Gn(i.firestore,i instanceof Os?i.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new dA(this,"async_queue_retry"),this.rc=()=>{const s=$m();s&&ht(UE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=$m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=$m();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Ds;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ol(t))throw t;ht(UE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Mr("INTERNAL UNHANDLED ERROR: ",zE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=dg.createAndSchedule(this,t,e,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&St(47125,{cc:zE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function zE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Zu extends Rf{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new LE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function WN(i,t){const e=typeof i=="object"?i:DT(),s=typeof i=="string"?i:Xh,o=Up(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=tR("firestore");u&&$N(o,...u)}return o}function VA(i){if(i._terminated)throw new yt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||JN(i),i._firestoreClient}function JN(i){var t,e,s;const o=i._freezeSettings(),u=function(m,p,y,T){return new yD(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,OA(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new FN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tl(sn.fromBase64String(t))}catch(e){throw new yt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new tl(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^__.*__$/;class eM{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qu(t,this.data,e,this.fieldTransforms)}}class PA{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Bs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function kA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ic:i})}}class Eg{constructor(t,e,s,o,u,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Eg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return af(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(kA(this.Ic)&&tM.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class nM{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||bf(t)}bc(t,e,s,o=!1){return new Eg({Ic:t,methodName:e,wc:s,path:rn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tg(i){const t=i._freezeSettings(),e=bf(i._databaseId);return new nM(i._databaseId,!!t.ignoreUndefinedProperties,e)}function iM(i,t,e,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,t,e,o);Ag("Data must be an object, but it was:",f,s);const m=UA(s,f);let p,y;if(u.merge)p=new Hn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const _ of u.mergeFields){const S=Rp(t,_,e);if(!f.contains(S))throw new yt(tt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zA(T,S)||T.push(S)}p=new Hn(T),y=f.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,y=f.fieldTransforms;return new eM(new Mn(m),p,y)}class Df extends Cf{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Df}}class bg extends Cf{_toFieldTransform(t){return new HD(t.path,new Nu)}isEqual(t){return t instanceof bg}}function rM(i,t,e,s){const o=i.bc(1,t,e);Ag("Data must be an object, but it was:",o,s);const u=[],f=Mn.empty();zs(s,(p,y)=>{const T=Sg(t,p,e);y=Xe(y);const _=o.mc(T);if(y instanceof Df)u.push(T);else{const S=Wu(y,_);S!=null&&(u.push(T),f.set(T,S))}});const m=new Hn(u);return new PA(f,m,o.fieldTransforms)}function sM(i,t,e,s,o,u){const f=i.bc(1,t,e),m=[Rp(t,s,e)],p=[o];if(u.length%2!=0)throw new yt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Rp(t,u[S])),p.push(u[S+1]);const y=[],T=Mn.empty();for(let S=m.length-1;S>=0;--S)if(!zA(y,m[S])){const P=m[S];let B=p[S];B=Xe(B);const G=f.mc(P);if(B instanceof Df)y.push(P);else{const V=Wu(B,G);V!=null&&(y.push(P),T.set(P,V))}}const _=new Hn(y);return new PA(T,_,f.fieldTransforms)}function aM(i,t,e,s=!1){return Wu(e,i.bc(s?4:3,t))}function Wu(i,t){if(LA(i=Xe(i)))return Ag("Unsupported field value:",t,i),UA(i,t);if(i instanceof Cf)return function(s,o){if(!kA(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Wu(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:ef(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ef(o.serializer,u)}}if(s instanceof vg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof tl)return{bytesValue:nA(o.serializer,s._byteString)};if(s instanceof Gn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _g)return function(f,m){return{mapValue:{fields:{[Ob]:{stringValue:Nb},[$h]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return tg(m.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${wf(s)}`)}(i,t)}function UA(i,t){const e={};return Sb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(i,(s,o)=>{const u=Wu(o,t.Ac(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function LA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Be||i instanceof vg||i instanceof tl||i instanceof Gn||i instanceof Cf||i instanceof _g)}function Ag(i,t,e){if(!LA(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=wf(e);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function Rp(i,t,e){if((t=Xe(t))instanceof If)return t._internalPath;if(typeof t=="string")return Sg(i,t);throw af("Field path arguments must be of type string or ",i,!1,void 0,e)}const oM=new RegExp("[~\\*/\\[\\]]");function Sg(i,t,e){if(t.search(oM)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new If(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function af(i,t,e,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new yt(tt.INVALID_ARGUMENT,m+i+p)}function zA(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class lM extends BA{data(){return super.data()}}function wg(i,t){return typeof t=="string"?Sg(i,t):t instanceof If?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new yt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class qA extends Rg{}function Fx(i,t,...e){let s=[];t instanceof Rg&&s.push(t),s=s.concat(e),function(u){const f=u.filter(p=>p instanceof Ig).length,m=u.filter(p=>p instanceof Of).length;if(f>1||f>0&&m>0)throw new yt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Of extends qA{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Of(t,e,s)}_apply(t){const e=this._parse(t);return jA(t._query,e),new $u(t.firestore,t.converter,gp(t._query,e))}_parse(t){const e=Tg(t.firestore);return function(u,f,m,p,y,T,_){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new yt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){qE(_,T);const B=[];for(const G of _)B.push(BE(p,u,G));S={arrayValue:{values:B}}}else S=BE(p,u,_)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||qE(_,T),S=aM(m,f,_,T==="in"||T==="not-in");return Pe.create(y,T,S)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Gx(i,t,e){const s=t,o=wg("where",i);return Of._create(o,s,e)}class Ig extends Rg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ig(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:Ti.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)jA(f,p),f=gp(f,p)}(t._query,e),new $u(t.firestore,t.converter,gp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends qA{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new Cg(t,e,s)}_apply(t){return new $u(t.firestore,t.converter,Jh(t._query,this._limit,this._limitType))}}function Qx(i){return Cg._create("limit",i,"F")}function BE(i,t,e){if(typeof(e=Xe(e))=="string"){if(e==="")throw new yt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bb(t)&&e.indexOf("/")!==-1)throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ce.fromString(e));if(!_t.isDocumentKey(s))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eE(i,new _t(s))}if(e instanceof Gn)return eE(i,e._key);throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(e)}.`)}function qE(i,t){if(!Array.isArray(i)||i.length===0)throw new yt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jA(i,t){const e=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new yt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class cM{convertValue(t,e="none"){switch(Vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return zs(t,(o,u)=>{s[o]=this.convertValue(u,e)}),s}convertVectorValue(t){var e,s,o;const u=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[$h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Re(f.doubleValue));return new _g(u)}convertGeoPoint(t){return new vg(Re(t.latitude),Re(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=gf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const e=Ms(t);return new Be(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ce.fromString(t);Wt(lA(s),9688,{name:t});const o=new Du(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(e)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fM extends BA{constructor(t,e,s,o,u,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(wg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Lh extends fM{data(t={}){return super.data(t)}}class dM{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Rh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Lh(this._firestore,this._userDataWriter,s.key,s,new Rh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:mM(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:i})}}class pM extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new tl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,e)}}function Kx(i){i=Ma(i,$u);const t=Ma(i.firestore,Zu),e=VA(t),s=new pM(t);return uM(i._query),YN(e,i._query).then(o=>new dM(t,s,i,o))}function Yx(i,t,e,...s){i=Ma(i,Gn);const o=Ma(i.firestore,Zu),u=Tg(o);let f;return f=typeof(t=Xe(t))=="string"||t instanceof If?sM(u,"updateDoc",i._key,t,e,s):rM(u,"updateDoc",i._key,t),Dg(o,[f.toMutation(i._key,Ei.exists(!0))])}function Xx(i){return Dg(Ma(i.firestore,Zu),[new eg(i._key,Ei.none())])}function $x(i,t){const e=Ma(i.firestore,Zu),s=ZN(i),o=hM(i.converter,t);return Dg(e,[iM(Tg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ei.exists(!1))]).then(()=>s)}function Dg(i,t){return function(s,o){const u=new Ds;return s.asyncQueue.enqueueAndForget(async()=>VN(await QN(s),o,u)),u.promise}(VA(i),t)}function Zx(){return new bg("serverTimestamp")}(function(t,e=!0){(function(o){sl=o})(rl),Qo(new Ca("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zu(new tD(s.getProvider("auth-internal")),new iD(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Rs(H0,F0,t),Rs(H0,F0,"esm2017")})();const gM={apiKey:"AIzaSyAHsDHFWTLc57ghsiMp-BHaLG-3G2Lm8cs",authDomain:"multitenantapp-824d4.firebaseapp.com",projectId:"multitenantapp-824d4",storageBucket:"multitenantapp-824d4.firebasestorage.app",messagingSenderId:"515724587389",appId:"1:515724587389:web:a9a3fb219bd25105869c14",measurementId:"G-6ZEW2M0SS4"},HA=CT(gM),FA=Y2(HA),Wx=WN(HA),Jx=i=>window.recaptchaVerifier=new XC(FA,i,{});/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),jE=i=>{const t=vM(i);return t.charAt(0).toUpperCase()+t.slice(1)},GA=(...i)=>i.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),_M=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=it.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>it.createElement("svg",{ref:p,...EM,width:t,height:t,stroke:i,strokeWidth:s?Number(e)*24/Number(t):e,className:GA("lucide",o),...!u&&!_M(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,T])=>it.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=(i,t)=>{const e=it.forwardRef(({className:s,...o},u)=>it.createElement(TM,{ref:u,iconNode:t,className:GA(`lucide-${yM(jE(i))}`,`lucide-${i}`,s),...o}));return e.displayName=jE(i),e};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],SM=bM("gallery-vertical-end",AM),QA=()=>ee.jsx("div",{className:"preloader h-screen w-full flex justify-center items-center font-dmsans",children:ee.jsxs("div",{className:"flex rounded-md bg-gray-200 p-3  animate-bounce",children:[ee.jsx(SM,{className:"size-10 flex-shrink-0"}),ee.jsx("p",{className:"text-4xl font-black",children:"MT"})]})}),KA=it.createContext(),wM=({children:i})=>{const[t,e]=it.useState(null),[s,o]=it.useState(!1),[u,f]=it.useState(!0);return it.useEffect(()=>{const m=CC(FA,p=>{p?(e(p),o(!0)):(e(null),o(!1)),f(!1)});return()=>m()},[]),u?ee.jsx(QA,{}):ee.jsx(KA.Provider,{value:{user:t,isAuthenticated:s,setUser:e,setIsAuthenticated:o},children:i})},RM=()=>{const{user:i}=it.useContext(KA);return i?ee.jsx(xw,{}):ee.jsx(Mw,{to:"/login",replace:!0})},IM=it.lazy(()=>lf(()=>import("./DashBoard-R4ODctn5.js"),__vite__mapDeps([0,1,2,3]))),CM=it.lazy(()=>lf(()=>import("./LoginPage-ChNC36eK.js"),__vite__mapDeps([4,2,5,6]))),DM=it.lazy(()=>lf(()=>import("./ProductList-DmtjCP-I.js"),__vite__mapDeps([7,1,2,3,5,8]))),OM=it.lazy(()=>lf(()=>import("./AddProduct-BPQmz7pa.js"),__vite__mapDeps([9,1,2,8,5]))),NM=()=>ee.jsx(it.Suspense,{fallback:ee.jsx(QA,{}),children:ee.jsxs(Pw,{children:[ee.jsx(Io,{path:"/login",element:ee.jsx(CM,{})}),ee.jsxs(Io,{element:ee.jsx(RM,{}),children:[ee.jsx(Io,{path:"/",element:ee.jsx(IM,{})}),ee.jsx(Io,{path:"/product-list",element:ee.jsx(DM,{})}),ee.jsx(Io,{path:"/add-product",element:ee.jsx(OM,{})})]})]})});var Nf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mf=typeof window>"u"||"Deno"in globalThis;function pi(){}function MM(i,t){return typeof i=="function"?i(t):i}function xM(i){return typeof i=="number"&&i>=0&&i!==1/0}function VM(i,t){return Math.max(i+(t||0)-Date.now(),0)}function Ip(i,t){return typeof i=="function"?i(t):i}function PM(i,t){return typeof i=="function"?i(t):i}function HE(i,t){const{type:e="all",exact:s,fetchStatus:o,predicate:u,queryKey:f,stale:m}=i;if(f){if(s){if(t.queryHash!==Og(f,t.options))return!1}else if(!Pu(t.queryKey,f))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||o&&o!==t.state.fetchStatus||u&&!u(t))}function FE(i,t){const{exact:e,status:s,predicate:o,mutationKey:u}=i;if(u){if(!t.options.mutationKey)return!1;if(e){if(Vu(t.options.mutationKey)!==Vu(u))return!1}else if(!Pu(t.options.mutationKey,u))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function Og(i,t){return((t==null?void 0:t.queryKeyHashFn)||Vu)(i)}function Vu(i){return JSON.stringify(i,(t,e)=>Cp(e)?Object.keys(e).sort().reduce((s,o)=>(s[o]=e[o],s),{}):e)}function Pu(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>Pu(i[e],t[e])):!1}function YA(i,t){if(i===t)return i;const e=GE(i)&&GE(t);if(e||Cp(i)&&Cp(t)){const s=e?i:Object.keys(i),o=s.length,u=e?t:Object.keys(t),f=u.length,m=e?[]:{},p=new Set(s);let y=0;for(let T=0;T<f;T++){const _=e?T:u[T];(!e&&p.has(_)||e)&&i[_]===void 0&&t[_]===void 0?(m[_]=void 0,y++):(m[_]=YA(i[_],t[_]),m[_]===i[_]&&i[_]!==void 0&&y++)}return o===f&&y===o?i:m}return t}function t4(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function GE(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Cp(i){if(!QE(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!QE(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function QE(i){return Object.prototype.toString.call(i)==="[object Object]"}function kM(i){return new Promise(t=>{setTimeout(t,i)})}function UM(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?YA(i,t):t}function LM(i,t,e=0){const s=[...i,t];return e&&s.length>e?s.slice(1):s}function zM(i,t,e=0){const s=[t,...i];return e&&s.length>e?s.slice(0,-1):s}var Ng=Symbol();function XA(i,t){return!i.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!i.queryFn||i.queryFn===Ng?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function e4(i,t){return typeof i=="function"?i(...t):!!i}var ba,gs,Uo,ZE,BM=(ZE=class extends Nf{constructor(){super();Yt(this,ba);Yt(this,gs);Yt(this,Uo);Ot(this,Uo,t=>{if(!Mf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){$(this,gs)||this.setEventListener($(this,Uo))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,gs))==null||t.call(this),Ot(this,gs,void 0))}setEventListener(t){var e;Ot(this,Uo,t),(e=$(this,gs))==null||e.call(this),Ot(this,gs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){$(this,ba)!==t&&(Ot(this,ba,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof $(this,ba)=="boolean"?$(this,ba):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ba=new WeakMap,gs=new WeakMap,Uo=new WeakMap,ZE),$A=new BM,Lo,ys,zo,WE,qM=(WE=class extends Nf{constructor(){super();Yt(this,Lo,!0);Yt(this,ys);Yt(this,zo);Ot(this,zo,t=>{if(!Mf&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}})}onSubscribe(){$(this,ys)||this.setEventListener($(this,zo))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ys))==null||t.call(this),Ot(this,ys,void 0))}setEventListener(t){var e;Ot(this,zo,t),(e=$(this,ys))==null||e.call(this),Ot(this,ys,t(this.setOnline.bind(this)))}setOnline(t){$(this,Lo)!==t&&(Ot(this,Lo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return $(this,Lo)}},Lo=new WeakMap,ys=new WeakMap,zo=new WeakMap,WE),of=new qM;function jM(){let i,t;const e=new Promise((o,u)=>{i=o,t=u});e.status="pending",e.catch(()=>{});function s(o){Object.assign(e,o),delete e.resolve,delete e.reject}return e.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},e.reject=o=>{s({status:"rejected",reason:o}),t(o)},e}function HM(i){return Math.min(1e3*2**i,3e4)}function ZA(i){return(i??"online")==="online"?of.isOnline():!0}var WA=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function Wm(i){return i instanceof WA}function JA(i){let t=!1,e=0,s=!1,o;const u=jM(),f=G=>{var V;s||(S(new WA(G)),(V=i.abort)==null||V.call(i))},m=()=>{t=!0},p=()=>{t=!1},y=()=>$A.isFocused()&&(i.networkMode==="always"||of.isOnline())&&i.canRun(),T=()=>ZA(i.networkMode)&&i.canRun(),_=G=>{var V;s||(s=!0,(V=i.onSuccess)==null||V.call(i,G),o==null||o(),u.resolve(G))},S=G=>{var V;s||(s=!0,(V=i.onError)==null||V.call(i,G),o==null||o(),u.reject(G))},P=()=>new Promise(G=>{var V;o=rt=>{(s||y())&&G(rt)},(V=i.onPause)==null||V.call(i)}).then(()=>{var G;o=void 0,s||(G=i.onContinue)==null||G.call(i)}),B=()=>{if(s)return;let G;const V=e===0?i.initialPromise:void 0;try{G=V??i.fn()}catch(rt){G=Promise.reject(rt)}Promise.resolve(G).then(_).catch(rt=>{var Et;if(s)return;const ot=i.retry??(Mf?0:3),nt=i.retryDelay??HM,pt=typeof nt=="function"?nt(e,rt):nt,ut=ot===!0||typeof ot=="number"&&e<ot||typeof ot=="function"&&ot(e,rt);if(t||!ut){S(rt);return}e++,(Et=i.onFail)==null||Et.call(i,e,rt),kM(pt).then(()=>y()?void 0:P()).then(()=>{t?S(rt):B()})})};return{promise:u,cancel:f,continue:()=>(o==null||o(),u),cancelRetry:m,continueRetry:p,canStart:T,start:()=>(T()?B():P().then(B),u)}}var FM=i=>setTimeout(i,0);function GM(){let i=[],t=0,e=m=>{m()},s=m=>{m()},o=FM;const u=m=>{t?i.push(m):o(()=>{e(m)})},f=()=>{const m=i;i=[],m.length&&o(()=>{s(()=>{m.forEach(p=>{e(p)})})})};return{batch:m=>{let p;t++;try{p=m()}finally{t--,t||f()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{e=m},setBatchNotifyFunction:m=>{s=m},setScheduler:m=>{o=m}}}var bn=GM(),Aa,JE,tS=(JE=class{constructor(){Yt(this,Aa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xM(this.gcTime)&&Ot(this,Aa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Mf?1/0:5*60*1e3))}clearGcTimeout(){$(this,Aa)&&(clearTimeout($(this,Aa)),Ot(this,Aa,void 0))}},Aa=new WeakMap,JE),Bo,qo,ri,Sa,fn,ku,wa,gi,wr,tT,QM=(tT=class extends tS{constructor(t){super();Yt(this,gi);Yt(this,Bo);Yt(this,qo);Yt(this,ri);Yt(this,Sa);Yt(this,fn);Yt(this,ku);Yt(this,wa);Ot(this,wa,!1),Ot(this,ku,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ot(this,Sa,t.client),Ot(this,ri,$(this,Sa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ot(this,Bo,YM(this.options)),this.state=t.state??$(this,Bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,fn))==null?void 0:t.promise}setOptions(t){this.options={...$(this,ku),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,ri).remove(this)}setData(t,e){const s=UM(this.state.data,t,this.options);return un(this,gi,wr).call(this,{data:s,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),s}setState(t,e){un(this,gi,wr).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var s,o;const e=(s=$(this,fn))==null?void 0:s.promise;return(o=$(this,fn))==null||o.cancel(t),e?e.then(pi).catch(pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Bo))}isActive(){return this.observers.some(t=>PM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ng||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ip(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!VM(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=$(this,fn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=$(this,fn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,ri).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||($(this,fn)&&($(this,wa)?$(this,fn).cancel({revert:!0}):$(this,fn).cancelRetry()),this.scheduleGc()),$(this,ri).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,gi,wr).call(this,{type:"invalidate"})}fetch(t,e){var y,T,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if($(this,fn))return $(this,fn).continueRetry(),$(this,fn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(P=>P.options.queryFn);S&&this.setOptions(S.options)}const s=new AbortController,o=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Ot(this,wa,!0),s.signal)})},u=()=>{const S=XA(this.options,e),B=(()=>{const G={client:$(this,Sa),queryKey:this.queryKey,meta:this.meta};return o(G),G})();return Ot(this,wa,!1),this.options.persister?this.options.persister(S,B,this):S(B)},m=(()=>{const S={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:$(this,Sa),state:this.state,fetchFn:u};return o(S),S})();(y=this.options.behavior)==null||y.onFetch(m,this),Ot(this,qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((T=m.fetchOptions)==null?void 0:T.meta))&&un(this,gi,wr).call(this,{type:"fetch",meta:(_=m.fetchOptions)==null?void 0:_.meta});const p=S=>{var P,B,G,V;Wm(S)&&S.silent||un(this,gi,wr).call(this,{type:"error",error:S}),Wm(S)||((B=(P=$(this,ri).config).onError)==null||B.call(P,S,this),(V=(G=$(this,ri).config).onSettled)==null||V.call(G,this.state.data,S,this)),this.scheduleGc()};return Ot(this,fn,JA({initialPromise:e==null?void 0:e.initialPromise,fn:m.fetchFn,abort:s.abort.bind(s),onSuccess:S=>{var P,B,G,V;if(S===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(S)}catch(rt){p(rt);return}(B=(P=$(this,ri).config).onSuccess)==null||B.call(P,S,this),(V=(G=$(this,ri).config).onSettled)==null||V.call(G,S,this.state.error,this),this.scheduleGc()},onError:p,onFail:(S,P)=>{un(this,gi,wr).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{un(this,gi,wr).call(this,{type:"pause"})},onContinue:()=>{un(this,gi,wr).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),$(this,fn).start()}},Bo=new WeakMap,qo=new WeakMap,ri=new WeakMap,Sa=new WeakMap,fn=new WeakMap,ku=new WeakMap,wa=new WeakMap,gi=new WeakSet,wr=function(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...KM(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Wm(o)&&o.revert&&$(this,qo)?{...$(this,qo),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),bn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,ri).notify({query:this,type:"updated",action:t})})},tT);function KM(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZA(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function YM(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,s=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var qi,eT,XM=(eT=class extends Nf{constructor(t={}){super();Yt(this,qi);this.config=t,Ot(this,qi,new Map)}build(t,e,s){const o=e.queryKey,u=e.queryHash??Og(o,e);let f=this.get(u);return f||(f=new QM({client:t,queryKey:o,queryHash:u,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(f)),f}add(t){$(this,qi).has(t.queryHash)||($(this,qi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=$(this,qi).get(t.queryHash);e&&(t.destroy(),e===t&&$(this,qi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,qi).get(t)}getAll(){return[...$(this,qi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>HE(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>HE(t,s)):e}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qi=new WeakMap,eT),ji,Tn,Ra,Hi,hs,nT,$M=(nT=class extends tS{constructor(t){super();Yt(this,Hi);Yt(this,ji);Yt(this,Tn);Yt(this,Ra);this.mutationId=t.mutationId,Ot(this,Tn,t.mutationCache),Ot(this,ji,[]),this.state=t.state||ZM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,ji).includes(t)||($(this,ji).push(t),this.clearGcTimeout(),$(this,Tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ot(this,ji,$(this,ji).filter(e=>e!==t)),this.scheduleGc(),$(this,Tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,ji).length||(this.state.status==="pending"?this.scheduleGc():$(this,Tn).remove(this))}continue(){var t;return((t=$(this,Ra))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,f,m,p,y,T,_,S,P,B,G,V,rt,ot,nt,pt,ut,Et,M,w;const e=()=>{un(this,Hi,hs).call(this,{type:"continue"})};Ot(this,Ra,JA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{un(this,Hi,hs).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{un(this,Hi,hs).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Tn).canRun(this)}));const s=this.state.status==="pending",o=!$(this,Ra).canStart();try{if(s)e();else{un(this,Hi,hs).call(this,{type:"pending",variables:t,isPaused:o}),await((f=(u=$(this,Tn).config).onMutate)==null?void 0:f.call(u,t,this));const O=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,t));O!==this.state.context&&un(this,Hi,hs).call(this,{type:"pending",context:O,variables:t,isPaused:o})}const R=await $(this,Ra).start();return await((T=(y=$(this,Tn).config).onSuccess)==null?void 0:T.call(y,R,t,this.state.context,this)),await((S=(_=this.options).onSuccess)==null?void 0:S.call(_,R,t,this.state.context)),await((B=(P=$(this,Tn).config).onSettled)==null?void 0:B.call(P,R,null,this.state.variables,this.state.context,this)),await((V=(G=this.options).onSettled)==null?void 0:V.call(G,R,null,t,this.state.context)),un(this,Hi,hs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((ot=(rt=$(this,Tn).config).onError)==null?void 0:ot.call(rt,R,t,this.state.context,this)),await((pt=(nt=this.options).onError)==null?void 0:pt.call(nt,R,t,this.state.context)),await((Et=(ut=$(this,Tn).config).onSettled)==null?void 0:Et.call(ut,void 0,R,this.state.variables,this.state.context,this)),await((w=(M=this.options).onSettled)==null?void 0:w.call(M,void 0,R,t,this.state.context)),R}finally{un(this,Hi,hs).call(this,{type:"error",error:R})}}finally{$(this,Tn).runNext(this)}}},ji=new WeakMap,Tn=new WeakMap,Ra=new WeakMap,Hi=new WeakSet,hs=function(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),bn.batch(()=>{$(this,ji).forEach(s=>{s.onMutationUpdate(t)}),$(this,Tn).notify({mutation:this,type:"updated",action:t})})},nT);function ZM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rr,yi,Uu,iT,WM=(iT=class extends Nf{constructor(t={}){super();Yt(this,Rr);Yt(this,yi);Yt(this,Uu);this.config=t,Ot(this,Rr,new Set),Ot(this,yi,new Map),Ot(this,Uu,0)}build(t,e,s){const o=new $M({mutationCache:this,mutationId:++_h(this,Uu)._,options:t.defaultMutationOptions(e),state:s});return this.add(o),o}add(t){$(this,Rr).add(t);const e=Ih(t);if(typeof e=="string"){const s=$(this,yi).get(e);s?s.push(t):$(this,yi).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,Rr).delete(t)){const e=Ih(t);if(typeof e=="string"){const s=$(this,yi).get(e);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&$(this,yi).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Ih(t);if(typeof e=="string"){const s=$(this,yi).get(e),o=s==null?void 0:s.find(u=>u.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s;const e=Ih(t);if(typeof e=="string"){const o=(s=$(this,yi).get(e))==null?void 0:s.find(u=>u!==t&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bn.batch(()=>{$(this,Rr).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,Rr).clear(),$(this,yi).clear()})}getAll(){return Array.from($(this,Rr))}find(t){const e={exact:!0,...t};return this.getAll().find(s=>FE(e,s))}findAll(t={}){return this.getAll().filter(e=>FE(t,e))}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return bn.batch(()=>Promise.all(t.map(e=>e.continue().catch(pi))))}},Rr=new WeakMap,yi=new WeakMap,Uu=new WeakMap,iT);function Ih(i){var t;return(t=i.options.scope)==null?void 0:t.id}function KE(i){return{onFetch:(t,e)=>{var T,_,S,P,B;const s=t.options,o=(S=(_=(T=t.fetchOptions)==null?void 0:T.meta)==null?void 0:_.fetchMore)==null?void 0:S.direction,u=((P=t.state.data)==null?void 0:P.pages)||[],f=((B=t.state.data)==null?void 0:B.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const y=async()=>{let G=!1;const V=nt=>{Object.defineProperty(nt,"signal",{enumerable:!0,get:()=>(t.signal.aborted?G=!0:t.signal.addEventListener("abort",()=>{G=!0}),t.signal)})},rt=XA(t.options,t.fetchOptions),ot=async(nt,pt,ut)=>{if(G)return Promise.reject();if(pt==null&&nt.pages.length)return Promise.resolve(nt);const M=(()=>{const x={client:t.client,queryKey:t.queryKey,pageParam:pt,direction:ut?"backward":"forward",meta:t.options.meta};return V(x),x})(),w=await rt(M),{maxPages:R}=t.options,O=ut?zM:LM;return{pages:O(nt.pages,w,R),pageParams:O(nt.pageParams,pt,R)}};if(o&&u.length){const nt=o==="backward",pt=nt?JM:YE,ut={pages:u,pageParams:f},Et=pt(s,ut);m=await ot(ut,Et,nt)}else{const nt=i??u.length;do{const pt=p===0?f[0]??s.initialPageParam:YE(s,m);if(p>0&&pt==null)break;m=await ot(m,pt),p++}while(p<nt)}return m};t.options.persister?t.fetchFn=()=>{var G,V;return(V=(G=t.options).persister)==null?void 0:V.call(G,y,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=y}}}function YE(i,{pages:t,pageParams:e}){const s=t.length-1;return t.length>0?i.getNextPageParam(t[s],t,e[s],e):void 0}function JM(i,{pages:t,pageParams:e}){var s;return t.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,t[0],t,e[0],e):void 0}var Te,vs,_s,jo,Ho,Es,Fo,Go,rT,tx=(rT=class{constructor(i={}){Yt(this,Te);Yt(this,vs);Yt(this,_s);Yt(this,jo);Yt(this,Ho);Yt(this,Es);Yt(this,Fo);Yt(this,Go);Ot(this,Te,i.queryCache||new XM),Ot(this,vs,i.mutationCache||new WM),Ot(this,_s,i.defaultOptions||{}),Ot(this,jo,new Map),Ot(this,Ho,new Map),Ot(this,Es,0)}mount(){_h(this,Es)._++,$(this,Es)===1&&(Ot(this,Fo,$A.subscribe(async i=>{i&&(await this.resumePausedMutations(),$(this,Te).onFocus())})),Ot(this,Go,of.subscribe(async i=>{i&&(await this.resumePausedMutations(),$(this,Te).onOnline())})))}unmount(){var i,t;_h(this,Es)._--,$(this,Es)===0&&((i=$(this,Fo))==null||i.call(this),Ot(this,Fo,void 0),(t=$(this,Go))==null||t.call(this),Ot(this,Go,void 0))}isFetching(i){return $(this,Te).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return $(this,vs).findAll({...i,status:"pending"}).length}getQueryData(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=$(this,Te).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=$(this,Te).build(this,t),s=e.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(Ip(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(i){return $(this,Te).findAll(i).map(({queryKey:t,state:e})=>{const s=e.data;return[t,s]})}setQueryData(i,t,e){const s=this.defaultQueryOptions({queryKey:i}),o=$(this,Te).get(s.queryHash),u=o==null?void 0:o.state.data,f=MM(t,u);if(f!==void 0)return $(this,Te).build(this,s).setData(f,{...e,manual:!0})}setQueriesData(i,t,e){return bn.batch(()=>$(this,Te).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,t,e)]))}getQueryState(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=$(this,Te).get(t.queryHash))==null?void 0:e.state}removeQueries(i){const t=$(this,Te);bn.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=$(this,Te);return bn.batch(()=>(e.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},s=bn.batch(()=>$(this,Te).findAll(i).map(o=>o.cancel(e)));return Promise.all(s).then(pi).catch(pi)}invalidateQueries(i,t={}){return bn.batch(()=>($(this,Te).findAll(i).forEach(e=>{e.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},s=bn.batch(()=>$(this,Te).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,e);return e.throwOnError||(u=u.catch(pi)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(pi)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=$(this,Te).build(this,t);return e.isStaleByTime(Ip(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(pi).catch(pi)}fetchInfiniteQuery(i){return i.behavior=KE(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(pi).catch(pi)}ensureInfiniteQueryData(i){return i.behavior=KE(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return of.isOnline()?$(this,vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Te)}getMutationCache(){return $(this,vs)}getDefaultOptions(){return $(this,_s)}setDefaultOptions(i){Ot(this,_s,i)}setQueryDefaults(i,t){$(this,jo).set(Vu(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...$(this,jo).values()],e={};return t.forEach(s=>{Pu(i,s.queryKey)&&Object.assign(e,s.defaultOptions)}),e}setMutationDefaults(i,t){$(this,Ho).set(Vu(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...$(this,Ho).values()],e={};return t.forEach(s=>{Pu(i,s.mutationKey)&&Object.assign(e,s.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...$(this,_s).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=Og(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ng&&(t.enabled=!1),t}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...$(this,_s).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){$(this,Te).clear(),$(this,vs).clear()}},Te=new WeakMap,vs=new WeakMap,_s=new WeakMap,jo=new WeakMap,Ho=new WeakMap,Es=new WeakMap,Fo=new WeakMap,Go=new WeakMap,rT),eS=it.createContext(void 0),n4=i=>{const t=it.useContext(eS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ex=({client:i,children:t})=>(it.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),ee.jsx(eS.Provider,{value:i,children:t})),nx=(i,t,e,s,o,u,f,m)=>{let p=document.documentElement,y=["light","dark"];function T(P){(Array.isArray(i)?i:[i]).forEach(B=>{let G=B==="class",V=G&&u?o.map(rt=>u[rt]||rt):o;G?(p.classList.remove(...V),p.classList.add(u&&u[P]?u[P]:P)):p.setAttribute(B,P)}),_(P)}function _(P){m&&y.includes(P)&&(p.style.colorScheme=P)}function S(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)T(s);else try{let P=localStorage.getItem(t)||e,B=f&&P==="system"?S():P;T(B)}catch{}},ix=it.createContext(void 0),rx={setTheme:i=>{},themes:[]},sx=()=>{var i;return(i=it.useContext(ix))!=null?i:rx};it.memo(({forcedTheme:i,storageKey:t,attribute:e,enableSystem:s,enableColorScheme:o,defaultTheme:u,value:f,themes:m,nonce:p,scriptProps:y})=>{let T=JSON.stringify([e,t,u,i,m,f,s,o]).slice(1,-1);return it.createElement("script",{...y,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${nx.toString()})(${T})`}})});function ax(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const ox=i=>{switch(i){case"success":return cx;case"info":return fx;case"warning":return hx;case"error":return dx;default:return null}},lx=Array(12).fill(0),ux=({visible:i,className:t})=>lt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},lt.createElement("div",{className:"sonner-spinner"},lx.map((e,s)=>lt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),cx=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hx=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fx=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dx=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mx=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},lt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),lt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),px=()=>{const[i,t]=lt.useState(document.hidden);return lt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let Dp=1;class gx{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:s,...o}=t,u=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Dp++,f=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),f?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:s}),{...p,...t,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=s!==void 0,f;const m=o.then(async y=>{if(f=["resolve",y],lt.isValidElement(y))u=!1,this.create({id:s,type:"default",message:y});else if(vx(y)&&!y.ok){u=!1;const _=typeof e.error=="function"?await e.error(`HTTP error! status: ${y.status}`):e.error,S=typeof e.description=="function"?await e.description(`HTTP error! status: ${y.status}`):e.description,B=typeof _=="object"&&!lt.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:S,...B})}else if(y instanceof Error){u=!1;const _=typeof e.error=="function"?await e.error(y):e.error,S=typeof e.description=="function"?await e.description(y):e.description,B=typeof _=="object"&&!lt.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:S,...B})}else if(e.success!==void 0){u=!1;const _=typeof e.success=="function"?await e.success(y):e.success,S=typeof e.description=="function"?await e.description(y):e.description,B=typeof _=="object"&&!lt.isValidElement(_)?_:{message:_};this.create({id:s,type:"success",description:S,...B})}}).catch(async y=>{if(f=["reject",y],e.error!==void 0){u=!1;const T=typeof e.error=="function"?await e.error(y):e.error,_=typeof e.description=="function"?await e.description(y):e.description,P=typeof T=="object"&&!lt.isValidElement(T)?T:{message:T};this.create({id:s,type:"error",description:_,...P})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((y,T)=>m.then(()=>f[0]==="reject"?T(f[1]):y(f[1])).catch(T));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,e)=>{const s=(e==null?void 0:e.id)||Dp++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new gx,yx=(i,t)=>{const e=(t==null?void 0:t.id)||Dp++;return On.addToast({title:i,...t,id:e}),e},vx=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",_x=yx,Ex=()=>On.toasts,Tx=()=>On.getActiveToasts(),i4=Object.assign(_x,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:Ex,getToasts:Tx});ax("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ch(i){return i.label!==void 0}const bx=3,Ax="24px",Sx="16px",XE=4e3,wx=356,Rx=14,Ix=45,Cx=200;function zi(...i){return i.filter(Boolean).join(" ")}function Dx(i){const[t,e]=i.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}const Ox=i=>{var t,e,s,o,u,f,m,p,y;const{invert:T,toast:_,unstyled:S,interacting:P,setHeights:B,visibleToasts:G,heights:V,index:rt,toasts:ot,expanded:nt,removeToast:pt,defaultRichColors:ut,closeButton:Et,style:M,cancelButtonStyle:w,actionButtonStyle:R,className:O="",descriptionClassName:x="",duration:k,position:C,gap:be,expandByDefault:Ft,classNames:j,icons:st,closeButtonAriaLabel:mt="Close toast"}=i,[Dt,D]=lt.useState(null),[K,et]=lt.useState(null),[Z,ft]=lt.useState(!1),[Rt,ct]=lt.useState(!1),[he,Gt]=lt.useState(!1),[an,An]=lt.useState(!1),[si,Ai]=lt.useState(!1),[Yi,ai]=lt.useState(0),[qs,js]=lt.useState(0),je=lt.useRef(_.duration||k||XE),Pa=lt.useRef(null),gn=lt.useRef(null),kr=rt===0,Xi=rt+1<=G,$e=_.type,xn=_.dismissible!==!1,Hs=_.className||"",ka=_.descriptionClassName||"",ae=lt.useMemo(()=>V.findIndex(Tt=>Tt.toastId===_.id)||0,[V,_.id]),Xt=lt.useMemo(()=>{var Tt;return(Tt=_.closeButton)!=null?Tt:Et},[_.closeButton,Et]),on=lt.useMemo(()=>_.duration||k||XE,[_.duration,k]),Ce=lt.useRef(0),oi=lt.useRef(0),Ua=lt.useRef(0),Sn=lt.useRef(null),[$i,Zi]=C.split("-"),wn=lt.useMemo(()=>V.reduce((Tt,fe,ue)=>ue>=ae?Tt:Tt+fe.height,0),[V,ae]),Wi=px(),Ji=_.invert||T,tr=$e==="loading";oi.current=lt.useMemo(()=>ae*be+wn,[ae,wn]),lt.useEffect(()=>{je.current=on},[on]),lt.useEffect(()=>{ft(!0)},[]),lt.useEffect(()=>{const Tt=gn.current;if(Tt){const fe=Tt.getBoundingClientRect().height;return js(fe),B(ue=>[{toastId:_.id,height:fe,position:_.position},...ue]),()=>B(ue=>ue.filter(De=>De.toastId!==_.id))}},[B,_.id]),lt.useLayoutEffect(()=>{if(!Z)return;const Tt=gn.current,fe=Tt.style.height;Tt.style.height="auto";const ue=Tt.getBoundingClientRect().height;Tt.style.height=fe,js(ue),B(De=>De.find(ve=>ve.toastId===_.id)?De.map(ve=>ve.toastId===_.id?{...ve,height:ue}:ve):[{toastId:_.id,height:ue,position:_.position},...De])},[Z,_.title,_.description,B,_.id,_.jsx,_.action,_.cancel]);const Rn=lt.useCallback(()=>{ct(!0),ai(oi.current),B(Tt=>Tt.filter(fe=>fe.toastId!==_.id)),setTimeout(()=>{pt(_)},Cx)},[_,pt,B,oi]);lt.useEffect(()=>{if(_.promise&&$e==="loading"||_.duration===1/0||_.type==="loading")return;let Tt;return nt||P||Wi?(()=>{if(Ua.current<Ce.current){const De=new Date().getTime()-Ce.current;je.current=je.current-De}Ua.current=new Date().getTime()})():(()=>{je.current!==1/0&&(Ce.current=new Date().getTime(),Tt=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),Rn()},je.current))})(),()=>clearTimeout(Tt)},[nt,P,_,$e,Wi,Rn]),lt.useEffect(()=>{_.delete&&(Rn(),_.onDismiss==null||_.onDismiss.call(_,_))},[Rn,_.delete]);function Fs(){var Tt;if(st!=null&&st.loading){var fe;return lt.createElement("div",{className:zi(j==null?void 0:j.loader,_==null||(fe=_.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":$e==="loading"},st.loading)}return lt.createElement(ux,{className:zi(j==null?void 0:j.loader,_==null||(Tt=_.classNames)==null?void 0:Tt.loader),visible:$e==="loading"})}const li=_.icon||(st==null?void 0:st[$e])||ox($e);var Qn,Ur;return lt.createElement("li",{tabIndex:0,ref:gn,className:zi(O,Hs,j==null?void 0:j.toast,_==null||(t=_.classNames)==null?void 0:t.toast,j==null?void 0:j.default,j==null?void 0:j[$e],_==null||(e=_.classNames)==null?void 0:e[$e]),"data-sonner-toast":"","data-rich-colors":(Qn=_.richColors)!=null?Qn:ut,"data-styled":!(_.jsx||_.unstyled||S),"data-mounted":Z,"data-promise":!!_.promise,"data-swiped":si,"data-removed":Rt,"data-visible":Xi,"data-y-position":$i,"data-x-position":Zi,"data-index":rt,"data-front":kr,"data-swiping":he,"data-dismissible":xn,"data-type":$e,"data-invert":Ji,"data-swipe-out":an,"data-swipe-direction":K,"data-expanded":!!(nt||Ft&&Z),style:{"--index":rt,"--toasts-before":rt,"--z-index":ot.length-rt,"--offset":`${Rt?Yi:oi.current}px`,"--initial-height":Ft?"auto":`${qs}px`,...M,..._.style},onDragEnd:()=>{Gt(!1),D(null),Sn.current=null},onPointerDown:Tt=>{tr||!xn||(Pa.current=new Date,ai(oi.current),Tt.target.setPointerCapture(Tt.pointerId),Tt.target.tagName!=="BUTTON"&&(Gt(!0),Sn.current={x:Tt.clientX,y:Tt.clientY}))},onPointerUp:()=>{var Tt,fe,ue;if(an||!xn)return;Sn.current=null;const De=Number(((Tt=gn.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((fe=gn.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ve=new Date().getTime()-((ue=Pa.current)==null?void 0:ue.getTime()),Pt=Dt==="x"?De:Vn,de=Math.abs(Pt)/ve;if(Math.abs(Pt)>=Ix||de>.11){ai(oi.current),_.onDismiss==null||_.onDismiss.call(_,_),et(Dt==="x"?De>0?"right":"left":Vn>0?"down":"up"),Rn(),An(!0);return}else{var Qt,me;(Qt=gn.current)==null||Qt.style.setProperty("--swipe-amount-x","0px"),(me=gn.current)==null||me.style.setProperty("--swipe-amount-y","0px")}Ai(!1),Gt(!1),D(null)},onPointerMove:Tt=>{var fe,ue,De;if(!Sn.current||!xn||((fe=window.getSelection())==null?void 0:fe.toString().length)>0)return;const ve=Tt.clientY-Sn.current.y,Pt=Tt.clientX-Sn.current.x;var de;const Qt=(de=i.swipeDirections)!=null?de:Dx(C);!Dt&&(Math.abs(Pt)>1||Math.abs(ve)>1)&&D(Math.abs(Pt)>Math.abs(ve)?"x":"y");let me={x:0,y:0};const Lr=ui=>1/(1.5+Math.abs(ui)/20);if(Dt==="y"){if(Qt.includes("top")||Qt.includes("bottom"))if(Qt.includes("top")&&ve<0||Qt.includes("bottom")&&ve>0)me.y=ve;else{const ui=ve*Lr(ve);me.y=Math.abs(ui)<Math.abs(ve)?ui:ve}}else if(Dt==="x"&&(Qt.includes("left")||Qt.includes("right")))if(Qt.includes("left")&&Pt<0||Qt.includes("right")&&Pt>0)me.x=Pt;else{const ui=Pt*Lr(Pt);me.x=Math.abs(ui)<Math.abs(Pt)?ui:Pt}(Math.abs(me.x)>0||Math.abs(me.y)>0)&&Ai(!0),(ue=gn.current)==null||ue.style.setProperty("--swipe-amount-x",`${me.x}px`),(De=gn.current)==null||De.style.setProperty("--swipe-amount-y",`${me.y}px`)}},Xt&&!_.jsx&&$e!=="loading"?lt.createElement("button",{"aria-label":mt,"data-disabled":tr,"data-close-button":!0,onClick:tr||!xn?()=>{}:()=>{Rn(),_.onDismiss==null||_.onDismiss.call(_,_)},className:zi(j==null?void 0:j.closeButton,_==null||(s=_.classNames)==null?void 0:s.closeButton)},(Ur=st==null?void 0:st.close)!=null?Ur:mx):null,($e||_.icon||_.promise)&&_.icon!==null&&((st==null?void 0:st[$e])!==null||_.icon)?lt.createElement("div",{"data-icon":"",className:zi(j==null?void 0:j.icon,_==null||(o=_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Fs():null,_.type!=="loading"?li:null):null,lt.createElement("div",{"data-content":"",className:zi(j==null?void 0:j.content,_==null||(u=_.classNames)==null?void 0:u.content)},lt.createElement("div",{"data-title":"",className:zi(j==null?void 0:j.title,_==null||(f=_.classNames)==null?void 0:f.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?lt.createElement("div",{"data-description":"",className:zi(x,ka,j==null?void 0:j.description,_==null||(m=_.classNames)==null?void 0:m.description)},typeof _.description=="function"?_.description():_.description):null),lt.isValidElement(_.cancel)?_.cancel:_.cancel&&Ch(_.cancel)?lt.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||w,onClick:Tt=>{Ch(_.cancel)&&xn&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,Tt),Rn())},className:zi(j==null?void 0:j.cancelButton,_==null||(p=_.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,lt.isValidElement(_.action)?_.action:_.action&&Ch(_.action)?lt.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||R,onClick:Tt=>{Ch(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,Tt),!Tt.defaultPrevented&&Rn())},className:zi(j==null?void 0:j.actionButton,_==null||(y=_.classNames)==null?void 0:y.actionButton)},_.action.label):null)};function $E(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function Nx(i,t){const e={};return[i,t].forEach((s,o)=>{const u=o===1,f=u?"--mobile-offset":"--offset",m=u?Sx:Ax;function p(y){["top","right","bottom","left"].forEach(T=>{e[`${f}-${T}`]=typeof y=="number"?`${y}px`:y})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(y=>{s[y]===void 0?e[`${f}-${y}`]=m:e[`${f}-${y}`]=typeof s[y]=="number"?`${s[y]}px`:s[y]}):p(m)}),e}const Mx=lt.forwardRef(function(t,e){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:f,closeButton:m,className:p,offset:y,mobileOffset:T,theme:_="light",richColors:S,duration:P,style:B,visibleToasts:G=bx,toastOptions:V,dir:rt=$E(),gap:ot=Rx,icons:nt,containerAriaLabel:pt="Notifications"}=t,[ut,Et]=lt.useState([]),M=lt.useMemo(()=>Array.from(new Set([o].concat(ut.filter(K=>K.position).map(K=>K.position)))),[ut,o]),[w,R]=lt.useState([]),[O,x]=lt.useState(!1),[k,C]=lt.useState(!1),[be,Ft]=lt.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=lt.useRef(null),st=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),mt=lt.useRef(null),Dt=lt.useRef(!1),D=lt.useCallback(K=>{Et(et=>{var Z;return(Z=et.find(ft=>ft.id===K.id))!=null&&Z.delete||On.dismiss(K.id),et.filter(({id:ft})=>ft!==K.id)})},[]);return lt.useEffect(()=>On.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{Et(et=>et.map(Z=>Z.id===K.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{B1.flushSync(()=>{Et(et=>{const Z=et.findIndex(ft=>ft.id===K.id);return Z!==-1?[...et.slice(0,Z),{...et[Z],...K},...et.slice(Z+1)]:[K,...et]})})})}),[ut]),lt.useEffect(()=>{if(_!=="system"){Ft(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ft("dark"):Ft("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:et})=>{Ft(et?"dark":"light")})}catch{K.addListener(({matches:Z})=>{try{Ft(Z?"dark":"light")}catch(ft){console.error(ft)}})}},[_]),lt.useEffect(()=>{ut.length<=1&&x(!1)},[ut]),lt.useEffect(()=>{const K=et=>{var Z;if(u.every(ct=>et[ct]||et.code===ct)){var Rt;x(!0),(Rt=j.current)==null||Rt.focus()}et.code==="Escape"&&(document.activeElement===j.current||(Z=j.current)!=null&&Z.contains(document.activeElement))&&x(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[u]),lt.useEffect(()=>{if(j.current)return()=>{mt.current&&(mt.current.focus({preventScroll:!0}),mt.current=null,Dt.current=!1)}},[j.current]),lt.createElement("section",{ref:e,"aria-label":`${pt} ${st}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((K,et)=>{var Z;const[ft,Rt]=K.split("-");return ut.length?lt.createElement("ol",{key:K,dir:rt==="auto"?$E():rt,tabIndex:-1,ref:j,className:p,"data-sonner-toaster":!0,"data-sonner-theme":be,"data-y-position":ft,"data-x-position":Rt,style:{"--front-toast-height":`${((Z=w[0])==null?void 0:Z.height)||0}px`,"--width":`${wx}px`,"--gap":`${ot}px`,...B,...Nx(y,T)},onBlur:ct=>{Dt.current&&!ct.currentTarget.contains(ct.relatedTarget)&&(Dt.current=!1,mt.current&&(mt.current.focus({preventScroll:!0}),mt.current=null))},onFocus:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||Dt.current||(Dt.current=!0,mt.current=ct.relatedTarget)},onMouseEnter:()=>x(!0),onMouseMove:()=>x(!0),onMouseLeave:()=>{k||x(!1)},onDragEnd:()=>x(!1),onPointerDown:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},ut.filter(ct=>!ct.position&&et===0||ct.position===K).map((ct,he)=>{var Gt,an;return lt.createElement(Ox,{key:ct.id,icons:nt,index:he,toast:ct,defaultRichColors:S,duration:(Gt=V==null?void 0:V.duration)!=null?Gt:P,className:V==null?void 0:V.className,descriptionClassName:V==null?void 0:V.descriptionClassName,invert:s,visibleToasts:G,closeButton:(an=V==null?void 0:V.closeButton)!=null?an:m,interacting:k,position:K,style:V==null?void 0:V.style,unstyled:V==null?void 0:V.unstyled,classNames:V==null?void 0:V.classNames,cancelButtonStyle:V==null?void 0:V.cancelButtonStyle,actionButtonStyle:V==null?void 0:V.actionButtonStyle,closeButtonAriaLabel:V==null?void 0:V.closeButtonAriaLabel,removeToast:D,toasts:ut.filter(An=>An.position==ct.position),heights:w.filter(An=>An.position==ct.position),setHeights:R,expandByDefault:f,gap:ot,expanded:O,swipeDirections:t.swipeDirections})})):null}))}),xx=({...i})=>{const{theme:t="system"}=sx();return ee.jsx(Mx,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...i})},Vx=new tx;k1.createRoot(document.getElementById("root")).render(ee.jsx(it.StrictMode,{children:ee.jsx(ex,{client:Vx,children:ee.jsx(wM,{children:ee.jsxs(jw,{children:[ee.jsx(NM,{}),ee.jsx(xx,{richColors:!0})]})})})}));export{KA as A,n4 as B,FA as C,O1 as D,B1 as E,Lp as F,SM as G,Lx as H,z1 as I,ZN as J,Xx as K,Ux as L,Yx as M,Zx as N,$x as O,Qx as P,Vu as Q,lt as R,Nf as S,ZM as T,zx as U,Jx as V,Bx as W,_0 as _,Hx as a,Kx as b,kx as c,Wx as d,bM as e,Op as f,sT as g,PM as h,Ip as i,ee as j,Mf as k,xM as l,VM as m,pi as n,$A as o,jM as p,Fx as q,it as r,t4 as s,i4 as t,dT as u,KM as v,Gx as w,UM as x,bn as y,e4 as z};
